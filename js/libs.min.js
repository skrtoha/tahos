!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function i(e){var t=e.length,i=Q.type(e);return"function"!==i&&!Q.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e))}function s(e,t,i){if(Q.isFunction(t))return Q.grep(e,function(e,s){return!!t.call(e,s,e)!==i});if(t.nodeType)return Q.grep(e,function(e){return e===t!==i});if("string"==typeof t){if(ne.test(t))return Q.filter(t,e,i);t=Q.filter(t,e)}return Q.grep(e,function(e){return Y.call(t,e)>=0!==i})}function n(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t=de[e]={};return Q.each(e.match(ce)||[],function(e,i){t[i]=!0}),t}function r(){J.removeEventListener("DOMContentLoaded",r,!1),e.removeEventListener("load",r,!1),Q.ready()}function a(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Q.expando+a.uid++}function l(e,t,i){var s;if(void 0===i&&1===e.nodeType)if(s="data-"+t.replace(me,"-$1").toLowerCase(),"string"==typeof(i=e.getAttribute(s))){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:ge.test(i)?Q.parseJSON(i):i)}catch(e){}fe.set(e,t,i)}else i=void 0;return i}function c(){return!0}function d(){return!1}function h(){try{return J.activeElement}catch(e){}}function u(e,t){return Q.nodeName(e,"table")&&Q.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function p(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function f(e){var t=Oe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function g(e,t){for(var i=0,s=e.length;s>i;i++)pe.set(e[i],"globalEval",!t||pe.get(t[i],"globalEval"))}function m(e,t){var i,s,n,o,r,a,l,c;if(1===t.nodeType){if(pe.hasData(e)&&(o=pe.access(e),r=pe.set(t,o),c=o.events)){delete r.handle,r.events={};for(n in c)for(i=0,s=c[n].length;s>i;i++)Q.event.add(t,n,c[n][i])}fe.hasData(e)&&(a=fe.access(e),l=Q.extend({},a),fe.set(t,l))}}function _(e,t){var i=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&Q.nodeName(e,t)?Q.merge([e],i):i}function v(e,t){var i=t.nodeName.toLowerCase();"input"===i&&we.test(e.type)?t.checked=e.checked:("input"===i||"textarea"===i)&&(t.defaultValue=e.defaultValue)}function y(t,i){var s,n=Q(i.createElement(t)).appendTo(i.body),o=e.getDefaultComputedStyle&&(s=e.getDefaultComputedStyle(n[0]))?s.display:Q.css(n[0],"display");return n.detach(),o}function w(e){var t=J,i=Pe[e];return i||(i=y(e,t),"none"!==i&&i||(De=(De||Q("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=De[0].contentDocument,t.write(),t.close(),i=y(e,t),De.detach()),Pe[e]=i),i}function b(e,t,i){var s,n,o,r,a=e.style;return i=i||Ne(e),i&&(r=i.getPropertyValue(t)||i[t]),i&&(""!==r||Q.contains(e.ownerDocument,e)||(r=Q.style(e,t)),He.test(r)&&Ae.test(t)&&(s=a.width,n=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=i.width,a.width=s,a.minWidth=n,a.maxWidth=o)),void 0!==r?r+"":r}function x(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function k(e,t){if(t in e)return t;for(var i=t[0].toUpperCase()+t.slice(1),s=t,n=Be.length;n--;)if((t=Be[n]+i)in e)return t;return s}function j(e,t,i){var s=Me.exec(t);return s?Math.max(0,s[1]-(i||0))+(s[2]||"px"):t}function C(e,t,i,s,n){for(var o=i===(s?"border":"content")?4:"width"===t?1:0,r=0;4>o;o+=2)"margin"===i&&(r+=Q.css(e,i+ve[o],!0,n)),s?("content"===i&&(r-=Q.css(e,"padding"+ve[o],!0,n)),"margin"!==i&&(r-=Q.css(e,"border"+ve[o]+"Width",!0,n))):(r+=Q.css(e,"padding"+ve[o],!0,n),"padding"!==i&&(r+=Q.css(e,"border"+ve[o]+"Width",!0,n)));return r}function T(e,t,i){var s=!0,n="width"===t?e.offsetWidth:e.offsetHeight,o=Ne(e),r="border-box"===Q.css(e,"boxSizing",!1,o);if(0>=n||null==n){if(n=b(e,t,o),(0>n||null==n)&&(n=e.style[t]),He.test(n))return n;s=r&&(V.boxSizingReliable()||n===e.style[t]),n=parseFloat(n)||0}return n+C(e,t,i||(r?"border":"content"),s,o)+"px"}function z(e,t){for(var i,s,n,o=[],r=0,a=e.length;a>r;r++)s=e[r],s.style&&(o[r]=pe.get(s,"olddisplay"),i=s.style.display,t?(o[r]||"none"!==i||(s.style.display=""),""===s.style.display&&ye(s)&&(o[r]=pe.access(s,"olddisplay",w(s.nodeName)))):(n=ye(s),"none"===i&&n||pe.set(s,"olddisplay",n?i:Q.css(s,"display"))));for(r=0;a>r;r++)s=e[r],s.style&&(t&&"none"!==s.style.display&&""!==s.style.display||(s.style.display=t?o[r]||"":"none"));return e}function S(e,t,i,s,n){return new S.prototype.init(e,t,i,s,n)}function W(){return setTimeout(function(){Xe=void 0}),Xe=Q.now()}function E(e,t){var i,s=0,n={height:e};for(t=t?1:0;4>s;s+=2-t)i=ve[s],n["margin"+i]=n["padding"+i]=e;return t&&(n.opacity=n.width=e),n}function $(e,t,i){for(var s,n=(Je[t]||[]).concat(Je["*"]),o=0,r=n.length;r>o;o++)if(s=n[o].call(i,t,e))return s}function O(e,t,i){var s,n,o,r,a,l,c,d=this,h={},u=e.style,p=e.nodeType&&ye(e),f=pe.get(e,"fxshow");i.queue||(a=Q._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,Q.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[u.overflow,u.overflowX,u.overflowY],c=Q.css(e,"display"),"inline"===("none"===c?pe.get(e,"olddisplay")||w(e.nodeName):c)&&"none"===Q.css(e,"float")&&(u.display="inline-block")),i.overflow&&(u.overflow="hidden",d.always(function(){u.overflow=i.overflow[0],u.overflowX=i.overflow[1],u.overflowY=i.overflow[2]}));for(s in t)if(n=t[s],Ke.exec(n)){if(delete t[s],o=o||"toggle"===n,n===(p?"hide":"show")){if("show"!==n||!f||void 0===f[s])continue;p=!0}h[s]=f&&f[s]||Q.style(e,s)}else c=void 0;if(Q.isEmptyObject(h))"inline"===("none"===c?w(e.nodeName):c)&&(u.display=c);else{f?"hidden"in f&&(p=f.hidden):f=pe.access(e,"fxshow",{}),o&&(f.hidden=!p),p?Q(e).show():d.done(function(){Q(e).hide()}),d.done(function(){var t;pe.remove(e,"fxshow");for(t in h)Q.style(e,t,h[t])});for(s in h)r=$(p?f[s]:0,s,d),s in f||(f[s]=r.start,p&&(r.end=r.start,r.start="width"===s||"height"===s?1:0))}}function L(e,t){var i,s,n,o,r;for(i in e)if(s=Q.camelCase(i),n=t[s],o=e[i],Q.isArray(o)&&(n=o[1],o=e[i]=o[0]),i!==s&&(e[s]=o,delete e[i]),(r=Q.cssHooks[s])&&"expand"in r){o=r.expand(o),delete e[s];for(i in o)i in e||(e[i]=o[i],t[i]=n)}else t[s]=n}function D(e,t,i){var s,n,o=0,r=Ve.length,a=Q.Deferred().always(function(){delete l.elem}),l=function(){if(n)return!1;for(var t=Xe||W(),i=Math.max(0,c.startTime+c.duration-t),s=i/c.duration||0,o=1-s,r=0,l=c.tweens.length;l>r;r++)c.tweens[r].run(o);return a.notifyWith(e,[c,o,i]),1>o&&l?i:(a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:Q.extend({},t),opts:Q.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:Xe||W(),duration:i.duration,tweens:[],createTween:function(t,i){var s=Q.Tween(e,c.opts,t,i,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(s),s},stop:function(t){var i=0,s=t?c.tweens.length:0;if(n)return this;for(n=!0;s>i;i++)c.tweens[i].run(1);return t?a.resolveWith(e,[c,t]):a.rejectWith(e,[c,t]),this}}),d=c.props;for(L(d,c.opts.specialEasing);r>o;o++)if(s=Ve[o].call(c,e,d,c.opts))return s;return Q.map(d,$,c),Q.isFunction(c.opts.start)&&c.opts.start.call(e,c),Q.fx.timer(Q.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function P(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var s,n=0,o=t.toLowerCase().match(ce)||[];if(Q.isFunction(i))for(;s=o[n++];)"+"===s[0]?(s=s.slice(1)||"*",(e[s]=e[s]||[]).unshift(i)):(e[s]=e[s]||[]).push(i)}}function A(e,t,i,s){function n(a){var l;return o[a]=!0,Q.each(e[a]||[],function(e,a){var c=a(t,i,s);return"string"!=typeof c||r||o[c]?r?!(l=c):void 0:(t.dataTypes.unshift(c),n(c),!1)}),l}var o={},r=e===dt;return n(t.dataTypes[0])||!o["*"]&&n("*")}function H(e,t){var i,s,n=Q.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((n[i]?e:s||(s={}))[i]=t[i]);return s&&Q.extend(!0,e,s),e}function N(e,t,i){for(var s,n,o,r,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===s&&(s=e.mimeType||t.getResponseHeader("Content-Type"));if(s)for(n in a)if(a[n]&&a[n].test(s)){l.unshift(n);break}if(l[0]in i)o=l[0];else{for(n in i){if(!l[0]||e.converters[n+" "+l[0]]){o=n;break}r||(r=n)}o=o||r}return o?(o!==l[0]&&l.unshift(o),i[o]):void 0}function I(e,t,i,s){var n,o,r,a,l,c={},d=e.dataTypes.slice();if(d[1])for(r in e.converters)c[r.toLowerCase()]=e.converters[r];for(o=d.shift();o;)if(e.responseFields[o]&&(i[e.responseFields[o]]=t),!l&&s&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=d.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(r=c[l+" "+o]||c["* "+o]))for(n in c)if(a=n.split(" "),a[1]===o&&(r=c[l+" "+a[0]]||c["* "+a[0]])){r===!0?r=c[n]:c[n]!==!0&&(o=a[0],d.unshift(a[1]));break}if(r!==!0)if(r&&e.throws)t=r(t);else try{t=r(t)}catch(e){return{state:"parsererror",error:r?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function M(e,t,i,s){var n;if(Q.isArray(t))Q.each(t,function(t,n){i||ft.test(e)?s(e,n):M(e+"["+("object"==typeof n?t:"")+"]",n,i,s)});else if(i||"object"!==Q.type(t))s(e,t);else for(n in t)M(e+"["+n+"]",t[n],i,s)}function F(e){return Q.isWindow(e)?e:9===e.nodeType&&e.defaultView}var q=[],R=q.slice,B=q.concat,X=q.push,Y=q.indexOf,K={},Z=K.toString,U=K.hasOwnProperty,V={},J=e.document,G="2.1.3",Q=function(e,t){return new Q.fn.init(e,t)},ee=function(e,t){return t.toUpperCase()};Q.fn=Q.prototype={jquery:G,constructor:Q,selector:"",length:0,toArray:function(){return R.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:R.call(this)},pushStack:function(e){var t=Q.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return Q.each(this,e,t)},map:function(e){return this.pushStack(Q.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(R.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(0>e?t:0);return this.pushStack(i>=0&&t>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:X,sort:q.sort,splice:q.splice},Q.extend=Q.fn.extend=function(){var e,t,i,s,n,o,r=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof r&&(c=r,r=arguments[a]||{},a++),"object"==typeof r||Q.isFunction(r)||(r={}),a===l&&(r=this,a--);l>a;a++)if(null!=(e=arguments[a]))for(t in e)i=r[t],s=e[t],r!==s&&(c&&s&&(Q.isPlainObject(s)||(n=Q.isArray(s)))?(n?(n=!1,o=i&&Q.isArray(i)?i:[]):o=i&&Q.isPlainObject(i)?i:{},r[t]=Q.extend(c,o,s)):void 0!==s&&(r[t]=s));return r},Q.extend({expando:"jQuery"+(G+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===Q.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!Q.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"===Q.type(e)&&!e.nodeType&&!Q.isWindow(e)&&!(e.constructor&&!U.call(e.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?K[Z.call(e)]||"object":typeof e},globalEval:function(e){var t,i=eval;(e=Q.trim(e))&&(1===e.indexOf("use strict")?(t=J.createElement("script"),t.text=e,J.head.appendChild(t).parentNode.removeChild(t)):i(e))},camelCase:function(e){return e.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,ee)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,s){var n=0,o=e.length,r=i(e);if(s){if(r)for(;o>n&&t.apply(e[n],s)!==!1;n++);else for(n in e)if(t.apply(e[n],s)===!1)break}else if(r)for(;o>n&&t.call(e[n],n,e[n])!==!1;n++);else for(n in e)if(t.call(e[n],n,e[n])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},makeArray:function(e,t){var s=t||[];return null!=e&&(i(Object(e))?Q.merge(s,"string"==typeof e?[e]:e):X.call(s,e)),s},inArray:function(e,t,i){return null==t?-1:Y.call(t,e,i)},merge:function(e,t){for(var i=+t.length,s=0,n=e.length;i>s;s++)e[n++]=t[s];return e.length=n,e},grep:function(e,t,i){for(var s=[],n=0,o=e.length,r=!i;o>n;n++)!t(e[n],n)!==r&&s.push(e[n]);return s},map:function(e,t,s){var n,o=0,r=e.length,a=i(e),l=[];if(a)for(;r>o;o++)null!=(n=t(e[o],o,s))&&l.push(n);else for(o in e)null!=(n=t(e[o],o,s))&&l.push(n);return B.apply([],l)},guid:1,proxy:function(e,t){var i,s,n;return"string"==typeof t&&(i=e[t],t=e,e=i),Q.isFunction(e)?(s=R.call(arguments,2),n=function(){return e.apply(t||this,s.concat(R.call(arguments)))},n.guid=e.guid=e.guid||Q.guid++,n):void 0},now:Date.now,support:V}),Q.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){K["[object "+t+"]"]=t.toLowerCase()});var te=function(e){function t(e,t,i,s){var n,o,r,a,c,h,u,p,f,g;if((t?t.ownerDocument||t:N)!==E&&W(t),t=t||E,i=i||[],a=t.nodeType,"string"!=typeof e||!e||1!==a&&9!==a&&11!==a)return i;if(!s&&O){if(11!==a&&(n=me.exec(e)))if(r=n[1]){if(9===a){if(!(o=t.getElementById(r))||!o.parentNode)return i;if(o.id===r)return i.push(o),i}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(r))&&A(t,o)&&o.id===r)return i.push(o),i}else{if(n[2])return V.apply(i,t.getElementsByTagName(e)),i;if((r=n[3])&&y.getElementsByClassName)return V.apply(i,t.getElementsByClassName(r)),i}if(y.qsa&&(!L||!L.test(e))){if(p=u=H,f=t,g=1!==a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(h=k(e),(u=t.getAttribute("id"))?p=u.replace(ve,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",c=h.length;c--;)h[c]=p+d(h[c]);f=_e.test(e)&&l(t.parentNode)||t,g=h.join(",")}if(g)try{return V.apply(i,f.querySelectorAll(g)),i}catch(e){}finally{u||t.removeAttribute("id")}}}return C(e.replace(re,"$1"),t,i,s)}function i(){function e(i,s){return t.push(i+" ")>w.cacheLength&&delete e[t.shift()],e[i+" "]=s}var t=[];return e}function s(e){return e[H]=!0,e}function n(e){var t=E.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var i=e.split("|"),s=e.length;s--;)w.attrHandle[i[s]]=t}function r(e,t){var i=t&&e,s=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||X)-(~e.sourceIndex||X);if(s)return s;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function a(e){return s(function(t){return t=+t,s(function(i,s){for(var n,o=e([],i.length,t),r=o.length;r--;)i[n=o[r]]&&(i[n]=!(s[n]=i[n]))})})}function l(e){return e&&void 0!==e.getElementsByTagName&&e}function c(){}function d(e){for(var t=0,i=e.length,s="";i>t;t++)s+=e[t].value;return s}function h(e,t,i){var s=t.dir,n=i&&"parentNode"===s,o=M++;return t.first?function(t,i,o){for(;t=t[s];)if(1===t.nodeType||n)return e(t,i,o)}:function(t,i,r){var a,l,c=[I,o];if(r){for(;t=t[s];)if((1===t.nodeType||n)&&e(t,i,r))return!0}else for(;t=t[s];)if(1===t.nodeType||n){if(l=t[H]||(t[H]={}),(a=l[s])&&a[0]===I&&a[1]===o)return c[2]=a[2];if(l[s]=c,c[2]=e(t,i,r))return!0}}}function u(e){return e.length>1?function(t,i,s){for(var n=e.length;n--;)if(!e[n](t,i,s))return!1;return!0}:e[0]}function p(e,i,s){for(var n=0,o=i.length;o>n;n++)t(e,i[n],s);return s}function f(e,t,i,s,n){for(var o,r=[],a=0,l=e.length,c=null!=t;l>a;a++)(o=e[a])&&(!i||i(o,s,n))&&(r.push(o),c&&t.push(a));return r}function g(e,t,i,n,o,r){return n&&!n[H]&&(n=g(n)),o&&!o[H]&&(o=g(o,r)),s(function(s,r,a,l){var c,d,h,u=[],g=[],m=r.length,_=s||p(t||"*",a.nodeType?[a]:a,[]),v=!e||!s&&t?_:f(_,u,e,a,l),y=i?o||(s?e:m||n)?[]:r:v;if(i&&i(v,y,a,l),n)for(c=f(y,g),n(c,[],a,l),d=c.length;d--;)(h=c[d])&&(y[g[d]]=!(v[g[d]]=h));if(s){if(o||e){if(o){for(c=[],d=y.length;d--;)(h=y[d])&&c.push(v[d]=h);o(null,y=[],c,l)}for(d=y.length;d--;)(h=y[d])&&(c=o?G(s,h):u[d])>-1&&(s[c]=!(r[c]=h))}}else y=f(y===r?y.splice(m,y.length):y),o?o(null,r,y,l):V.apply(r,y)})}function m(e){for(var t,i,s,n=e.length,o=w.relative[e[0].type],r=o||w.relative[" "],a=o?1:0,l=h(function(e){return e===t},r,!0),c=h(function(e){return G(t,e)>-1},r,!0),p=[function(e,i,s){var n=!o&&(s||i!==T)||((t=i).nodeType?l(e,i,s):c(e,i,s));return t=null,n}];n>a;a++)if(i=w.relative[e[a].type])p=[h(u(p),i)];else{if(i=w.filter[e[a].type].apply(null,e[a].matches),i[H]){for(s=++a;n>s&&!w.relative[e[s].type];s++);return g(a>1&&u(p),a>1&&d(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(re,"$1"),i,s>a&&m(e.slice(a,s)),n>s&&m(e=e.slice(s)),n>s&&d(e))}p.push(i)}return u(p)}function _(e,i){var n=i.length>0,o=e.length>0,r=function(s,r,a,l,c){var d,h,u,p=0,g="0",m=s&&[],_=[],v=T,y=s||o&&w.find.TAG("*",c),b=I+=null==v?1:Math.random()||.1,x=y.length;for(c&&(T=r!==E&&r);g!==x&&null!=(d=y[g]);g++){if(o&&d){for(h=0;u=e[h++];)if(u(d,r,a)){l.push(d);break}c&&(I=b)}n&&((d=!u&&d)&&p--,s&&m.push(d))}if(p+=g,n&&g!==p){for(h=0;u=i[h++];)u(m,_,r,a);if(s){if(p>0)for(;g--;)m[g]||_[g]||(_[g]=Z.call(l));_=f(_)}V.apply(l,_),c&&!s&&_.length>0&&p+i.length>1&&t.uniqueSort(l)}return c&&(I=b,T=v),m};return n?s(r):r}var v,y,w,b,x,k,j,C,T,z,S,W,E,$,O,L,D,P,A,H="sizzle"+1*new Date,N=e.document,I=0,M=0,F=i(),q=i(),R=i(),B=function(e,t){return e===t&&(S=!0),0},X=1<<31,Y={}.hasOwnProperty,K=[],Z=K.pop,U=K.push,V=K.push,J=K.slice,G=function(e,t){for(var i=0,s=e.length;s>i;i++)if(e[i]===t)return i;return-1},Q="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie=te.replace("w","w#"),se="\\["+ee+"*("+te+")(?:"+ee+"*([*^$|!~]?=)"+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ee+"*\\]",ne=":("+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+se+")*)|.*)\\)|)",oe=new RegExp(ee+"+","g"),re=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),ae=new RegExp("^"+ee+"*,"+ee+"*"),le=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),ce=new RegExp("="+ee+"*([^\\]'\"]*?)"+ee+"*\\]","g"),de=new RegExp(ne),he=new RegExp("^"+ie+"$"),ue={ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),TAG:new RegExp("^("+te.replace("w","w*")+")"),ATTR:new RegExp("^"+se),PSEUDO:new RegExp("^"+ne),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+Q+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},pe=/^(?:input|select|textarea|button)$/i,fe=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,me=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_e=/[+~]/,ve=/'|\\/g,ye=new RegExp("\\\\([\\da-f]{1,6}"+ee+"?|("+ee+")|.)","ig"),we=function(e,t,i){var s="0x"+t-65536;return s!==s||i?t:0>s?String.fromCharCode(s+65536):String.fromCharCode(s>>10|55296,1023&s|56320)},be=function(){W()};try{V.apply(K=J.call(N.childNodes),N.childNodes),K[N.childNodes.length].nodeType}catch(e){V={apply:K.length?function(e,t){U.apply(e,J.call(t))}:function(e,t){for(var i=e.length,s=0;e[i++]=t[s++];);e.length=i-1}}}y=t.support={},x=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},W=t.setDocument=function(e){var t,i,s=e?e.ownerDocument||e:N;return s!==E&&9===s.nodeType&&s.documentElement?(E=s,$=s.documentElement,i=s.defaultView,i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",be,!1):i.attachEvent&&i.attachEvent("onunload",be)),O=!x(s),y.attributes=n(function(e){return e.className="i",!e.getAttribute("className")}),y.getElementsByTagName=n(function(e){return e.appendChild(s.createComment("")),!e.getElementsByTagName("*").length}),y.getElementsByClassName=ge.test(s.getElementsByClassName),y.getById=n(function(e){return $.appendChild(e).id=H,!s.getElementsByName||!s.getElementsByName(H).length}),y.getById?(w.find.ID=function(e,t){if(void 0!==t.getElementById&&O){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}},w.filter.ID=function(e){var t=e.replace(ye,we);return function(e){return e.getAttribute("id")===t}}):(delete w.find.ID,w.filter.ID=function(e){var t=e.replace(ye,we);return function(e){var i=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}}),w.find.TAG=y.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):y.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,s=[],n=0,o=t.getElementsByTagName(e);if("*"===e){for(;i=o[n++];)1===i.nodeType&&s.push(i);return s}return o},w.find.CLASS=y.getElementsByClassName&&function(e,t){return O?t.getElementsByClassName(e):void 0},D=[],L=[],(y.qsa=ge.test(s.querySelectorAll))&&(n(function(e){$.appendChild(e).innerHTML="<a id='"+H+"'></a><select id='"+H+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+ee+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||L.push("\\["+ee+"*(?:value|"+Q+")"),e.querySelectorAll("[id~="+H+"-]").length||L.push("~="),e.querySelectorAll(":checked").length||L.push(":checked"),e.querySelectorAll("a#"+H+"+*").length||L.push(".#.+[+~]")}),n(function(e){var t=s.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&L.push("name"+ee+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),L.push(",.*:")})),(y.matchesSelector=ge.test(P=$.matches||$.webkitMatchesSelector||$.mozMatchesSelector||$.oMatchesSelector||$.msMatchesSelector))&&n(function(e){y.disconnectedMatch=P.call(e,"div"),P.call(e,"[s!='']:x"),D.push("!=",ne)}),L=L.length&&new RegExp(L.join("|")),D=D.length&&new RegExp(D.join("|")),t=ge.test($.compareDocumentPosition),A=t||ge.test($.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,s=t&&t.parentNode;return e===s||!(!s||1!==s.nodeType||!(i.contains?i.contains(s):e.compareDocumentPosition&&16&e.compareDocumentPosition(s)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},B=t?function(e,t){if(e===t)return S=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&i||!y.sortDetached&&t.compareDocumentPosition(e)===i?e===s||e.ownerDocument===N&&A(N,e)?-1:t===s||t.ownerDocument===N&&A(N,t)?1:z?G(z,e)-G(z,t):0:4&i?-1:1)}:function(e,t){if(e===t)return S=!0,0;var i,n=0,o=e.parentNode,a=t.parentNode,l=[e],c=[t];if(!o||!a)return e===s?-1:t===s?1:o?-1:a?1:z?G(z,e)-G(z,t):0;if(o===a)return r(e,t);for(i=e;i=i.parentNode;)l.unshift(i);for(i=t;i=i.parentNode;)c.unshift(i);for(;l[n]===c[n];)n++;return n?r(l[n],c[n]):l[n]===N?-1:c[n]===N?1:0},s):E},t.matches=function(e,i){return t(e,null,null,i)},t.matchesSelector=function(e,i){if((e.ownerDocument||e)!==E&&W(e),i=i.replace(ce,"='$1']"),!(!y.matchesSelector||!O||D&&D.test(i)||L&&L.test(i)))try{var s=P.call(e,i);if(s||y.disconnectedMatch||e.document&&11!==e.document.nodeType)return s}catch(e){}return t(i,E,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==E&&W(e),A(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==E&&W(e);var i=w.attrHandle[t.toLowerCase()],s=i&&Y.call(w.attrHandle,t.toLowerCase())?i(e,t,!O):void 0;return void 0!==s?s:y.attributes||!O?e.getAttribute(t):(s=e.getAttributeNode(t))&&s.specified?s.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,i=[],s=0,n=0;if(S=!y.detectDuplicates,z=!y.sortStable&&e.slice(0),e.sort(B),S){for(;t=e[n++];)t===e[n]&&(s=i.push(n));for(;s--;)e.splice(i[s],1)}return z=null,e},b=t.getText=function(e){var t,i="",s=0,n=e.nodeType;if(n){if(1===n||9===n||11===n){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=b(e)}else if(3===n||4===n)return e.nodeValue}else for(;t=e[s++];)i+=b(t);return i},w=t.selectors={cacheLength:50,createPseudo:s,match:ue,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ye,we),e[3]=(e[3]||e[4]||e[5]||"").replace(ye,we),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return ue.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&de.test(i)&&(t=k(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ye,we).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=F[e+" "];return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&F(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,i,s){return function(n){var o=t.attr(n,e);return null==o?"!="===i:!i||(o+="","="===i?o===s:"!="===i?o!==s:"^="===i?s&&0===o.indexOf(s):"*="===i?s&&o.indexOf(s)>-1:"$="===i?s&&o.slice(-s.length)===s:"~="===i?(" "+o.replace(oe," ")+" ").indexOf(s)>-1:"|="===i&&(o===s||o.slice(0,s.length+1)===s+"-"))}},CHILD:function(e,t,i,s,n){var o="nth"!==e.slice(0,3),r="last"!==e.slice(-4),a="of-type"===t;return 1===s&&0===n?function(e){return!!e.parentNode}:function(t,i,l){var c,d,h,u,p,f,g=o!==r?"nextSibling":"previousSibling",m=t.parentNode,_=a&&t.nodeName.toLowerCase(),v=!l&&!a;if(m){if(o){for(;g;){for(h=t;h=h[g];)if(a?h.nodeName.toLowerCase()===_:1===h.nodeType)return!1;f=g="only"===e&&!f&&"nextSibling"}return!0}if(f=[r?m.firstChild:m.lastChild],r&&v){for(d=m[H]||(m[H]={}),c=d[e]||[],p=c[0]===I&&c[1],u=c[0]===I&&c[2],h=p&&m.childNodes[p];h=++p&&h&&h[g]||(u=p=0)||f.pop();)if(1===h.nodeType&&++u&&h===t){d[e]=[I,p,u];break}}else if(v&&(c=(t[H]||(t[H]={}))[e])&&c[0]===I)u=c[1];else for(;(h=++p&&h&&h[g]||(u=p=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==_:1!==h.nodeType)||!++u||(v&&((h[H]||(h[H]={}))[e]=[I,u]),h!==t)););return(u-=n)===s||u%s==0&&u/s>=0}}},PSEUDO:function(e,i){var n,o=w.pseudos[e]||w.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[H]?o(i):o.length>1?(n=[e,e,"",i],w.setFilters.hasOwnProperty(e.toLowerCase())?s(function(e,t){for(var s,n=o(e,i),r=n.length;r--;)s=G(e,n[r]),e[s]=!(t[s]=n[r])}):function(e){return o(e,0,n)}):o}},pseudos:{not:s(function(e){var t=[],i=[],n=j(e.replace(re,"$1"));return n[H]?s(function(e,t,i,s){for(var o,r=n(e,null,s,[]),a=e.length;a--;)(o=r[a])&&(e[a]=!(t[a]=o))}):function(e,s,o){return t[0]=e,n(t,null,o,i),t[0]=null,!i.pop()}}),has:s(function(e){return function(i){return t(e,i).length>0}}),contains:s(function(e){return e=e.replace(ye,we),function(t){return(t.textContent||t.innerText||b(t)).indexOf(e)>-1}}),lang:s(function(e){return he.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(ye,we).toLowerCase(),function(t){var i;do{if(i=O?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===e||0===i.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===$},focus:function(e){return e===E.activeElement&&(!E.hasFocus||E.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return fe.test(e.nodeName)},input:function(e){return pe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:a(function(){return[0]}),last:a(function(e,t){return[t-1]}),eq:a(function(e,t,i){return[0>i?i+t:i]}),even:a(function(e,t){for(var i=0;t>i;i+=2)e.push(i);return e}),odd:a(function(e,t){for(var i=1;t>i;i+=2)e.push(i);return e}),lt:a(function(e,t,i){for(var s=0>i?i+t:i;--s>=0;)e.push(s);return e}),gt:a(function(e,t,i){for(var s=0>i?i+t:i;++s<t;)e.push(s);return e})}},w.pseudos.nth=w.pseudos.eq;for(v in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[v]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(v);for(v in{submit:!0,reset:!0})w.pseudos[v]=function(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}(v);return c.prototype=w.filters=w.pseudos,w.setFilters=new c,k=t.tokenize=function(e,i){var s,n,o,r,a,l,c,d=q[e+" "];if(d)return i?0:d.slice(0);for(a=e,l=[],c=w.preFilter;a;){(!s||(n=ae.exec(a)))&&(n&&(a=a.slice(n[0].length)||a),l.push(o=[])),s=!1,(n=le.exec(a))&&(s=n.shift(),o.push({value:s,type:n[0].replace(re," ")}),a=a.slice(s.length));for(r in w.filter)!(n=ue[r].exec(a))||c[r]&&!(n=c[r](n))||(s=n.shift(),o.push({value:s,type:r,matches:n}),a=a.slice(s.length));if(!s)break}return i?a.length:a?t.error(e):q(e,l).slice(0)},j=t.compile=function(e,t){var i,s=[],n=[],o=R[e+" "];if(!o){for(t||(t=k(e)),i=t.length;i--;)o=m(t[i]),o[H]?s.push(o):n.push(o);o=R(e,_(n,s)),o.selector=e}return o},C=t.select=function(e,t,i,s){var n,o,r,a,c,h="function"==typeof e&&e,u=!s&&k(e=h.selector||e);if(i=i||[],1===u.length){if(o=u[0]=u[0].slice(0),o.length>2&&"ID"===(r=o[0]).type&&y.getById&&9===t.nodeType&&O&&w.relative[o[1].type]){if(!(t=(w.find.ID(r.matches[0].replace(ye,we),t)||[])[0]))return i;h&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(n=ue.needsContext.test(e)?0:o.length;n--&&(r=o[n],!w.relative[a=r.type]);)if((c=w.find[a])&&(s=c(r.matches[0].replace(ye,we),_e.test(o[0].type)&&l(t.parentNode)||t))){if(o.splice(n,1),!(e=s.length&&d(o)))return V.apply(i,s),i;break}}return(h||j(e,u))(s,t,!O,i,_e.test(e)&&l(t.parentNode)||t),i},y.sortStable=H.split("").sort(B).join("")===H,y.detectDuplicates=!!S,W(),y.sortDetached=n(function(e){return 1&e.compareDocumentPosition(E.createElement("div"))}),n(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,i){return i?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),y.attributes&&n(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,i){return i||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),n(function(e){return null==e.getAttribute("disabled")})||o(Q,function(e,t,i){var s;return i?void 0:e[t]===!0?t.toLowerCase():(s=e.getAttributeNode(t))&&s.specified?s.value:null}),t}(e);Q.find=te,Q.expr=te.selectors,Q.expr[":"]=Q.expr.pseudos,Q.unique=te.uniqueSort,Q.text=te.getText,Q.isXMLDoc=te.isXML,Q.contains=te.contains;var ie=Q.expr.match.needsContext,se=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ne=/^.[^:#\[\.,]*$/;Q.filter=function(e,t,i){var s=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===s.nodeType?Q.find.matchesSelector(s,e)?[s]:[]:Q.find.matches(e,Q.grep(t,function(e){return 1===e.nodeType}))},Q.fn.extend({find:function(e){var t,i=this.length,s=[],n=this;if("string"!=typeof e)return this.pushStack(Q(e).filter(function(){for(t=0;i>t;t++)if(Q.contains(n[t],this))return!0}));for(t=0;i>t;t++)Q.find(e,n[t],s)
;return s=this.pushStack(i>1?Q.unique(s):s),s.selector=this.selector?this.selector+" "+e:e,s},filter:function(e){return this.pushStack(s(this,e||[],!1))},not:function(e){return this.pushStack(s(this,e||[],!0))},is:function(e){return!!s(this,"string"==typeof e&&ie.test(e)?Q(e):e||[],!1).length}});var oe,re=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(Q.fn.init=function(e,t){var i,s;if(!e)return this;if("string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:re.exec(e))||!i[1]&&t)return!t||t.jquery?(t||oe).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof Q?t[0]:t,Q.merge(this,Q.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:J,!0)),se.test(i[1])&&Q.isPlainObject(t))for(i in t)Q.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return s=J.getElementById(i[2]),s&&s.parentNode&&(this.length=1,this[0]=s),this.context=J,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):Q.isFunction(e)?void 0!==oe.ready?oe.ready(e):e(Q):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),Q.makeArray(e,this))}).prototype=Q.fn,oe=Q(J);var ae=/^(?:parents|prev(?:Until|All))/,le={children:!0,contents:!0,next:!0,prev:!0};Q.extend({dir:function(e,t,i){for(var s=[],n=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(n&&Q(e).is(i))break;s.push(e)}return s},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}}),Q.fn.extend({has:function(e){var t=Q(e,this),i=t.length;return this.filter(function(){for(var e=0;i>e;e++)if(Q.contains(this,t[e]))return!0})},closest:function(e,t){for(var i,s=0,n=this.length,o=[],r=ie.test(e)||"string"!=typeof e?Q(e,t||this.context):0;n>s;s++)for(i=this[s];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(r?r.index(i)>-1:1===i.nodeType&&Q.find.matchesSelector(i,e))){o.push(i);break}return this.pushStack(o.length>1?Q.unique(o):o)},index:function(e){return e?"string"==typeof e?Y.call(Q(e),this[0]):Y.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Q.unique(Q.merge(this.get(),Q(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Q.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Q.dir(e,"parentNode")},parentsUntil:function(e,t,i){return Q.dir(e,"parentNode",i)},next:function(e){return n(e,"nextSibling")},prev:function(e){return n(e,"previousSibling")},nextAll:function(e){return Q.dir(e,"nextSibling")},prevAll:function(e){return Q.dir(e,"previousSibling")},nextUntil:function(e,t,i){return Q.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return Q.dir(e,"previousSibling",i)},siblings:function(e){return Q.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Q.sibling(e.firstChild)},contents:function(e){return e.contentDocument||Q.merge([],e.childNodes)}},function(e,t){Q.fn[e]=function(i,s){var n=Q.map(this,t,i);return"Until"!==e.slice(-5)&&(s=i),s&&"string"==typeof s&&(n=Q.filter(s,n)),this.length>1&&(le[e]||Q.unique(n),ae.test(e)&&n.reverse()),this.pushStack(n)}});var ce=/\S+/g,de={};Q.Callbacks=function(e){e="string"==typeof e?de[e]||o(e):Q.extend({},e);var t,i,s,n,r,a,l=[],c=!e.once&&[],d=function(o){for(t=e.memory&&o,i=!0,a=n||0,n=0,r=l.length,s=!0;l&&r>a;a++)if(l[a].apply(o[0],o[1])===!1&&e.stopOnFalse){t=!1;break}s=!1,l&&(c?c.length&&d(c.shift()):t?l=[]:h.disable())},h={add:function(){if(l){var i=l.length;!function t(i){Q.each(i,function(i,s){var n=Q.type(s);"function"===n?e.unique&&h.has(s)||l.push(s):s&&s.length&&"string"!==n&&t(s)})}(arguments),s?r=l.length:t&&(n=i,d(t))}return this},remove:function(){return l&&Q.each(arguments,function(e,t){for(var i;(i=Q.inArray(t,l,i))>-1;)l.splice(i,1),s&&(r>=i&&r--,a>=i&&a--)}),this},has:function(e){return e?Q.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],r=0,this},disable:function(){return l=c=t=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,t||h.disable(),this},locked:function(){return!c},fireWith:function(e,t){return!l||i&&!c||(t=t||[],t=[e,t.slice?t.slice():t],s?c.push(t):d(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!i}};return h},Q.extend({Deferred:function(e){var t=[["resolve","done",Q.Callbacks("once memory"),"resolved"],["reject","fail",Q.Callbacks("once memory"),"rejected"],["notify","progress",Q.Callbacks("memory")]],i="pending",s={state:function(){return i},always:function(){return n.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Q.Deferred(function(i){Q.each(t,function(t,o){var r=Q.isFunction(e[t])&&e[t];n[o[1]](function(){var e=r&&r.apply(this,arguments);e&&Q.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[o[0]+"With"](this===s?i.promise():this,r?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?Q.extend(e,s):s}},n={};return s.pipe=s.then,Q.each(t,function(e,o){var r=o[2],a=o[3];s[o[1]]=r.add,a&&r.add(function(){i=a},t[1^e][2].disable,t[2][2].lock),n[o[0]]=function(){return n[o[0]+"With"](this===n?s:this,arguments),this},n[o[0]+"With"]=r.fireWith}),s.promise(n),e&&e.call(n,n),n},when:function(e){var t,i,s,n=0,o=R.call(arguments),r=o.length,a=1!==r||e&&Q.isFunction(e.promise)?r:0,l=1===a?e:Q.Deferred(),c=function(e,i,s){return function(n){i[e]=this,s[e]=arguments.length>1?R.call(arguments):n,s===t?l.notifyWith(i,s):--a||l.resolveWith(i,s)}};if(r>1)for(t=new Array(r),i=new Array(r),s=new Array(r);r>n;n++)o[n]&&Q.isFunction(o[n].promise)?o[n].promise().done(c(n,s,o)).fail(l.reject).progress(c(n,i,t)):--a;return a||l.resolveWith(s,o),l.promise()}});var he;Q.fn.ready=function(e){return Q.ready.promise().done(e),this},Q.extend({isReady:!1,readyWait:1,holdReady:function(e){e?Q.readyWait++:Q.ready(!0)},ready:function(e){(e===!0?--Q.readyWait:Q.isReady)||(Q.isReady=!0,e!==!0&&--Q.readyWait>0||(he.resolveWith(J,[Q]),Q.fn.triggerHandler&&(Q(J).triggerHandler("ready"),Q(J).off("ready"))))}}),Q.ready.promise=function(t){return he||(he=Q.Deferred(),"complete"===J.readyState?setTimeout(Q.ready):(J.addEventListener("DOMContentLoaded",r,!1),e.addEventListener("load",r,!1))),he.promise(t)},Q.ready.promise();var ue=Q.access=function(e,t,i,s,n,o,r){var a=0,l=e.length,c=null==i;if("object"===Q.type(i)){n=!0;for(a in i)Q.access(e,t,a,i[a],!0,o,r)}else if(void 0!==s&&(n=!0,Q.isFunction(s)||(r=!0),c&&(r?(t.call(e,s),t=null):(c=t,t=function(e,t,i){return c.call(Q(e),i)})),t))for(;l>a;a++)t(e[a],i,r?s:s.call(e[a],a,t(e[a],i)));return n?e:c?t.call(e):l?t(e[0],i):o};Q.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},a.uid=1,a.accepts=Q.acceptData,a.prototype={key:function(e){if(!a.accepts(e))return 0;var t={},i=e[this.expando];if(!i){i=a.uid++;try{t[this.expando]={value:i},Object.defineProperties(e,t)}catch(s){t[this.expando]=i,Q.extend(e,t)}}return this.cache[i]||(this.cache[i]={}),i},set:function(e,t,i){var s,n=this.key(e),o=this.cache[n];if("string"==typeof t)o[t]=i;else if(Q.isEmptyObject(o))Q.extend(this.cache[n],t);else for(s in t)o[s]=t[s];return o},get:function(e,t){var i=this.cache[this.key(e)];return void 0===t?i:i[t]},access:function(e,t,i){var s;return void 0===t||t&&"string"==typeof t&&void 0===i?(s=this.get(e,t),void 0!==s?s:this.get(e,Q.camelCase(t))):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,s,n,o=this.key(e),r=this.cache[o];if(void 0===t)this.cache[o]={};else{Q.isArray(t)?s=t.concat(t.map(Q.camelCase)):(n=Q.camelCase(t),t in r?s=[t,n]:(s=n,s=s in r?[s]:s.match(ce)||[])),i=s.length;for(;i--;)delete r[s[i]]}},hasData:function(e){return!Q.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var pe=new a,fe=new a,ge=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,me=/([A-Z])/g;Q.extend({hasData:function(e){return fe.hasData(e)||pe.hasData(e)},data:function(e,t,i){return fe.access(e,t,i)},removeData:function(e,t){fe.remove(e,t)},_data:function(e,t,i){return pe.access(e,t,i)},_removeData:function(e,t){pe.remove(e,t)}}),Q.fn.extend({data:function(e,t){var i,s,n,o=this[0],r=o&&o.attributes;if(void 0===e){if(this.length&&(n=fe.get(o),1===o.nodeType&&!pe.get(o,"hasDataAttrs"))){for(i=r.length;i--;)r[i]&&(s=r[i].name,0===s.indexOf("data-")&&(s=Q.camelCase(s.slice(5)),l(o,s,n[s])));pe.set(o,"hasDataAttrs",!0)}return n}return"object"==typeof e?this.each(function(){fe.set(this,e)}):ue(this,function(t){var i,s=Q.camelCase(e);if(o&&void 0===t){if(void 0!==(i=fe.get(o,e)))return i;if(void 0!==(i=fe.get(o,s)))return i;if(void 0!==(i=l(o,s,void 0)))return i}else this.each(function(){var i=fe.get(this,s);fe.set(this,s,t),-1!==e.indexOf("-")&&void 0!==i&&fe.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){fe.remove(this,e)})}}),Q.extend({queue:function(e,t,i){var s;return e?(t=(t||"fx")+"queue",s=pe.get(e,t),i&&(!s||Q.isArray(i)?s=pe.access(e,t,Q.makeArray(i)):s.push(i)),s||[]):void 0},dequeue:function(e,t){t=t||"fx";var i=Q.queue(e,t),s=i.length,n=i.shift(),o=Q._queueHooks(e,t),r=function(){Q.dequeue(e,t)};"inprogress"===n&&(n=i.shift(),s--),n&&("fx"===t&&i.unshift("inprogress"),delete o.stop,n.call(e,r,o)),!s&&o&&o.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return pe.get(e,i)||pe.access(e,i,{empty:Q.Callbacks("once memory").add(function(){pe.remove(e,[t+"queue",i])})})}}),Q.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?Q.queue(this[0],e):void 0===t?this:this.each(function(){var i=Q.queue(this,e,t);Q._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&Q.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Q.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,s=1,n=Q.Deferred(),o=this,r=this.length,a=function(){--s||n.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";r--;)(i=pe.get(o[r],e+"queueHooks"))&&i.empty&&(s++,i.empty.add(a));return a(),n.promise(t)}});var _e=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ve=["Top","Right","Bottom","Left"],ye=function(e,t){return e=t||e,"none"===Q.css(e,"display")||!Q.contains(e.ownerDocument,e)},we=/^(?:checkbox|radio)$/i;!function(){var e=J.createDocumentFragment(),t=e.appendChild(J.createElement("div")),i=J.createElement("input");i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),t.appendChild(i),V.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",V.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var be="undefined";V.focusinBubbles="onfocusin"in e;var xe=/^key/,ke=/^(?:mouse|pointer|contextmenu)|click/,je=/^(?:focusinfocus|focusoutblur)$/,Ce=/^([^.]*)(?:\.(.+)|)$/;Q.event={global:{},add:function(e,t,i,s,n){var o,r,a,l,c,d,h,u,p,f,g,m=pe.get(e);if(m)for(i.handler&&(o=i,i=o.handler,n=o.selector),i.guid||(i.guid=Q.guid++),(l=m.events)||(l=m.events={}),(r=m.handle)||(r=m.handle=function(t){return typeof Q!==be&&Q.event.triggered!==t.type?Q.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(ce)||[""],c=t.length;c--;)a=Ce.exec(t[c])||[],p=g=a[1],f=(a[2]||"").split(".").sort(),p&&(h=Q.event.special[p]||{},p=(n?h.delegateType:h.bindType)||p,h=Q.event.special[p]||{},d=Q.extend({type:p,origType:g,data:s,handler:i,guid:i.guid,selector:n,needsContext:n&&Q.expr.match.needsContext.test(n),namespace:f.join(".")},o),(u=l[p])||(u=l[p]=[],u.delegateCount=0,h.setup&&h.setup.call(e,s,f,r)!==!1||e.addEventListener&&e.addEventListener(p,r,!1)),h.add&&(h.add.call(e,d),d.handler.guid||(d.handler.guid=i.guid)),n?u.splice(u.delegateCount++,0,d):u.push(d),Q.event.global[p]=!0)},remove:function(e,t,i,s,n){var o,r,a,l,c,d,h,u,p,f,g,m=pe.hasData(e)&&pe.get(e);if(m&&(l=m.events)){for(t=(t||"").match(ce)||[""],c=t.length;c--;)if(a=Ce.exec(t[c])||[],p=g=a[1],f=(a[2]||"").split(".").sort(),p){for(h=Q.event.special[p]||{},p=(s?h.delegateType:h.bindType)||p,u=l[p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),r=o=u.length;o--;)d=u[o],!n&&g!==d.origType||i&&i.guid!==d.guid||a&&!a.test(d.namespace)||s&&s!==d.selector&&("**"!==s||!d.selector)||(u.splice(o,1),d.selector&&u.delegateCount--,h.remove&&h.remove.call(e,d));r&&!u.length&&(h.teardown&&h.teardown.call(e,f,m.handle)!==!1||Q.removeEvent(e,p,m.handle),delete l[p])}else for(p in l)Q.event.remove(e,p+t[c],i,s,!0);Q.isEmptyObject(l)&&(delete m.handle,pe.remove(e,"events"))}},trigger:function(t,i,s,n){var o,r,a,l,c,d,h,u=[s||J],p=U.call(t,"type")?t.type:t,f=U.call(t,"namespace")?t.namespace.split("."):[];if(r=a=s=s||J,3!==s.nodeType&&8!==s.nodeType&&!je.test(p+Q.event.triggered)&&(p.indexOf(".")>=0&&(f=p.split("."),p=f.shift(),f.sort()),c=p.indexOf(":")<0&&"on"+p,t=t[Q.expando]?t:new Q.Event(p,"object"==typeof t&&t),t.isTrigger=n?2:3,t.namespace=f.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=s),i=null==i?[t]:Q.makeArray(i,[t]),h=Q.event.special[p]||{},n||!h.trigger||h.trigger.apply(s,i)!==!1)){if(!n&&!h.noBubble&&!Q.isWindow(s)){for(l=h.delegateType||p,je.test(l+p)||(r=r.parentNode);r;r=r.parentNode)u.push(r),a=r;a===(s.ownerDocument||J)&&u.push(a.defaultView||a.parentWindow||e)}for(o=0;(r=u[o++])&&!t.isPropagationStopped();)t.type=o>1?l:h.bindType||p,d=(pe.get(r,"events")||{})[t.type]&&pe.get(r,"handle"),d&&d.apply(r,i),(d=c&&r[c])&&d.apply&&Q.acceptData(r)&&(t.result=d.apply(r,i),t.result===!1&&t.preventDefault());return t.type=p,n||t.isDefaultPrevented()||h._default&&h._default.apply(u.pop(),i)!==!1||!Q.acceptData(s)||c&&Q.isFunction(s[p])&&!Q.isWindow(s)&&(a=s[c],a&&(s[c]=null),Q.event.triggered=p,s[p](),Q.event.triggered=void 0,a&&(s[c]=a)),t.result}},dispatch:function(e){e=Q.event.fix(e);var t,i,s,n,o,r=[],a=R.call(arguments),l=(pe.get(this,"events")||{})[e.type]||[],c=Q.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(r=Q.event.handlers.call(this,e,l),t=0;(n=r[t++])&&!e.isPropagationStopped();)for(e.currentTarget=n.elem,i=0;(o=n.handlers[i++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,void 0!==(s=((Q.event.special[o.origType]||{}).handle||o.handler).apply(n.elem,a))&&(e.result=s)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var i,s,n,o,r=[],a=t.delegateCount,l=e.target;if(a&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(l.disabled!==!0||"click"!==e.type){for(s=[],i=0;a>i;i++)o=t[i],n=o.selector+" ",void 0===s[n]&&(s[n]=o.needsContext?Q(n,this).index(l)>=0:Q.find(n,this,null,[l]).length),s[n]&&s.push(o);s.length&&r.push({elem:l,handlers:s})}return a<t.length&&r.push({elem:this,handlers:t.slice(a)}),r},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,s,n,o=t.button;return null==e.pageX&&null!=t.clientX&&(i=e.target.ownerDocument||J,s=i.documentElement,n=i.body,e.pageX=t.clientX+(s&&s.scrollLeft||n&&n.scrollLeft||0)-(s&&s.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(s&&s.scrollTop||n&&n.scrollTop||0)-(s&&s.clientTop||n&&n.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[Q.expando])return e;var t,i,s,n=e.type,o=e,r=this.fixHooks[n];for(r||(this.fixHooks[n]=r=ke.test(n)?this.mouseHooks:xe.test(n)?this.keyHooks:{}),s=r.props?this.props.concat(r.props):this.props,e=new Q.Event(o),t=s.length;t--;)i=s[t],e[i]=o[i];return e.target||(e.target=J),3===e.target.nodeType&&(e.target=e.target.parentNode),r.filter?r.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==h()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Q.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return Q.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i,s){var n=Q.extend(new Q.Event,i,{type:e,isSimulated:!0,originalEvent:{}});s?Q.event.trigger(n,null,t):Q.event.dispatch.call(t,n),n.isDefaultPrevented()&&i.preventDefault()}},Q.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)},Q.Event=function(e,t){return this instanceof Q.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?c:d):this.type=e,t&&Q.extend(this,t),this.timeStamp=e&&e.timeStamp||Q.now(),void(this[Q.expando]=!0)):new Q.Event(e,t)},Q.Event.prototype={isDefaultPrevented:d,isPropagationStopped:d,isImmediatePropagationStopped:d,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=c,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=c,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=c,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},Q.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Q.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,s=this,n=e.relatedTarget,o=e.handleObj;return(!n||n!==s&&!Q.contains(s,n))&&(e.type=o.origType,i=o.handler.apply(this,arguments),e.type=t),i}}}),V.focusinBubbles||Q.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){Q.event.simulate(t,e.target,Q.event.fix(e),!0)};Q.event.special[t]={setup:function(){var s=this.ownerDocument||this,n=pe.access(s,t);n||s.addEventListener(e,i,!0),pe.access(s,t,(n||0)+1)},teardown:function(){var s=this.ownerDocument||this,n=pe.access(s,t)-1;n?pe.access(s,t,n):(s.removeEventListener(e,i,!0),pe.remove(s,t))}}}),Q.fn.extend({on:function(e,t,i,s,n){var o,r;if("object"==typeof e){"string"!=typeof t&&(i=i||t,t=void 0);for(r in e)this.on(r,t,i,e[r],n);return this}if(null==i&&null==s?(s=t,i=t=void 0):null==s&&("string"==typeof t?(s=i,i=void 0):(s=i,i=t,t=void 0)),s===!1)s=d;else if(!s)return this;return 1===n&&(o=s,s=function(e){return Q().off(e),o.apply(this,arguments)},s.guid=o.guid||(o.guid=Q.guid++)),this.each(function(){Q.event.add(this,e,s,i,t)})},one:function(e,t,i,s){return this.on(e,t,i,s,1)},off:function(e,t,i){var s,n;if(e&&e.preventDefault&&e.handleObj)return s=e.handleObj,Q(e.delegateTarget).off(s.namespace?s.origType+"."+s.namespace:s.origType,s.selector,s.handler),this;if("object"==typeof e){for(n in e)this.off(n,t,e[n]);return this}return(t===!1||"function"==typeof t)&&(i=t,t=void 0),i===!1&&(i=d),this.each(function(){Q.event.remove(this,e,i,t)})},trigger:function(e,t){return this.each(function(){Q.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];return i?Q.event.trigger(e,t,i,!0):void 0}});var Te=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ze=/<([\w:]+)/,Se=/<|&#?\w+;/,We=/<(?:script|style|link)/i,Ee=/checked\s*(?:[^=]|=\s*.checked.)/i,$e=/^$|\/(?:java|ecma)script/i,Oe=/^true\/(.*)/,Le={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Le.optgroup=Le.option,Le.tbody=Le.tfoot=Le.colgroup=Le.caption=Le.thead,Le.th=Le.td,Q.extend({clone:function(e,t,i){var s,n,o,r,a=e.cloneNode(!0),l=Q.contains(e.ownerDocument,e);if(!(V.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Q.isXMLDoc(e)))for(r=_(a),o=_(e),s=0,n=o.length;n>s;s++)v(o[s],r[s]);if(t)if(i)for(o=o||_(e),r=r||_(a),s=0,n=o.length;n>s;s++)m(o[s],r[s]);else m(e,a);return r=_(a,"script"),r.length>0&&g(r,!l&&_(e,"script")),a},buildFragment:function(e,t,i,s){for(var n,o,r,a,l,c,d=t.createDocumentFragment(),h=[],u=0,p=e.length;p>u;u++)if((n=e[u])||0===n)if("object"===Q.type(n))Q.merge(h,n.nodeType?[n]:n);else if(Se.test(n)){for(o=o||d.appendChild(t.createElement("div")),r=(ze.exec(n)||["",""])[1].toLowerCase(),a=Le[r]||Le._default,o.innerHTML=a[1]+n.replace(Te,"<$1></$2>")+a[2],c=a[0];c--;)o=o.lastChild;Q.merge(h,o.childNodes),o=d.firstChild,o.textContent=""}else h.push(t.createTextNode(n));for(d.textContent="",u=0;n=h[u++];)if((!s||-1===Q.inArray(n,s))&&(l=Q.contains(n.ownerDocument,n),o=_(d.appendChild(n),"script"),l&&g(o),i))for(c=0;n=o[c++];)$e.test(n.type||"")&&i.push(n);return d},cleanData:function(e){for(var t,i,s,n,o=Q.event.special,r=0;void 0!==(i=e[r]);r++){if(Q.acceptData(i)&&(n=i[pe.expando])&&(t=pe.cache[n])){if(t.events)for(s in t.events)o[s]?Q.event.remove(i,s):Q.removeEvent(i,s,t.handle);pe.cache[n]&&delete pe.cache[n]}delete fe.cache[i[fe.expando]]}}}),Q.fn.extend({text:function(e){return ue(this,function(e){return void 0===e?Q.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){u(this,e).appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=u(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var i,s=e?Q.filter(e,this):this,n=0;null!=(i=s[n]);n++)t||1!==i.nodeType||Q.cleanData(_(i)),i.parentNode&&(t&&Q.contains(i.ownerDocument,i)&&g(_(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Q.cleanData(_(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return Q.clone(this,e,t)})},html:function(e){return ue(this,function(e){var t=this[0]||{},i=0,s=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!We.test(e)&&!Le[(ze.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Te,"<$1></$2>");try{for(;s>i;i++)t=this[i]||{},1===t.nodeType&&(Q.cleanData(_(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,Q.cleanData(_(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=B.apply([],e);var i,s,n,o,r,a,l=0,c=this.length,d=this,h=c-1,u=e[0],g=Q.isFunction(u);if(g||c>1&&"string"==typeof u&&!V.checkClone&&Ee.test(u))return this.each(function(i){var s=d.eq(i);g&&(e[0]=u.call(this,i,s.html())),s.domManip(e,t)});if(c&&(i=Q.buildFragment(e,this[0].ownerDocument,!1,this),s=i.firstChild,1===i.childNodes.length&&(i=s),s)){for(n=Q.map(_(i,"script"),p),o=n.length;c>l;l++)r=i,l!==h&&(r=Q.clone(r,!0,!0),o&&Q.merge(n,_(r,"script"))),t.call(this[l],r,l);if(o)for(a=n[n.length-1].ownerDocument,Q.map(n,f),l=0;o>l;l++)r=n[l],$e.test(r.type||"")&&!pe.access(r,"globalEval")&&Q.contains(a,r)&&(r.src?Q._evalUrl&&Q._evalUrl(r.src):Q.globalEval(r.textContent.replace(/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,"")))}return this}}),Q.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Q.fn[e]=function(e){for(var i,s=[],n=Q(e),o=n.length-1,r=0;o>=r;r++)i=r===o?this:this.clone(!0),Q(n[r])[t](i),X.apply(s,i.get());return this.pushStack(s)}});var De,Pe={},Ae=/^margin/,He=new RegExp("^("+_e+")(?!px)[a-z%]+$","i"),Ne=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)};!function(){function t(){r.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",r.innerHTML="",n.appendChild(o);var t=e.getComputedStyle(r,null);i="1%"!==t.top,s="4px"===t.width,n.removeChild(o)}var i,s,n=J.documentElement,o=J.createElement("div"),r=J.createElement("div");r.style&&(r.style.backgroundClip="content-box",r.cloneNode(!0).style.backgroundClip="",V.clearCloneStyle="content-box"===r.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(r),e.getComputedStyle&&Q.extend(V,{pixelPosition:function(){return t(),i},boxSizingReliable:function(){return null==s&&t(),s},reliableMarginRight:function(){var t,i=r.appendChild(J.createElement("div"));return i.style.cssText=r.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",r.style.width="1px",n.appendChild(o),t=!parseFloat(e.getComputedStyle(i,null).marginRight),n.removeChild(o),r.removeChild(i),t}}))}(),Q.swap=function(e,t,i,s){var n,o,r={};for(o in t)r[o]=e.style[o],e.style[o]=t[o];n=i.apply(e,s||[]);for(o in t)e.style[o]=r[o];return n};var Ie=/^(none|table(?!-c[ea]).+)/,Me=new RegExp("^("+_e+")(.*)$","i"),Fe=new RegExp("^([+-])=("+_e+")","i"),qe={position:"absolute",visibility:"hidden",display:"block"},Re={letterSpacing:"0",fontWeight:"400"},Be=["Webkit","O","Moz","ms"];Q.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=b(e,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,i,s){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var n,o,r,a=Q.camelCase(t),l=e.style;return t=Q.cssProps[a]||(Q.cssProps[a]=k(l,a)),r=Q.cssHooks[t]||Q.cssHooks[a],void 0===i?r&&"get"in r&&void 0!==(n=r.get(e,!1,s))?n:l[t]:(o=typeof i,"string"===o&&(n=Fe.exec(i))&&(i=(n[1]+1)*n[2]+parseFloat(Q.css(e,t)),o="number"),void(null!=i&&i===i&&("number"!==o||Q.cssNumber[a]||(i+="px"),V.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),r&&"set"in r&&void 0===(i=r.set(e,i,s))||(l[t]=i))))}},css:function(e,t,i,s){var n,o,r,a=Q.camelCase(t);return t=Q.cssProps[a]||(Q.cssProps[a]=k(e.style,a)),r=Q.cssHooks[t]||Q.cssHooks[a],r&&"get"in r&&(n=r.get(e,!0,i)),void 0===n&&(n=b(e,t,s)),"normal"===n&&t in Re&&(n=Re[t]),""===i||i?(o=parseFloat(n),i===!0||Q.isNumeric(o)?o||0:n):n}}),Q.each(["height","width"],function(e,t){Q.cssHooks[t]={get:function(e,i,s){return i?Ie.test(Q.css(e,"display"))&&0===e.offsetWidth?Q.swap(e,qe,function(){return T(e,t,s)}):T(e,t,s):void 0},set:function(e,i,s){var n=s&&Ne(e);return j(e,i,s?C(e,t,s,"border-box"===Q.css(e,"boxSizing",!1,n),n):0)}}}),Q.cssHooks.marginRight=x(V.reliableMarginRight,function(e,t){return t?Q.swap(e,{display:"inline-block"},b,[e,"marginRight"]):void 0}),Q.each({margin:"",padding:"",border:"Width"},function(e,t){Q.cssHooks[e+t]={expand:function(i){for(var s=0,n={},o="string"==typeof i?i.split(" "):[i];4>s;s++)n[e+ve[s]+t]=o[s]||o[s-2]||o[0];return n}},Ae.test(e)||(Q.cssHooks[e+t].set=j)}),Q.fn.extend({css:function(e,t){return ue(this,function(e,t,i){var s,n,o={},r=0;if(Q.isArray(t)){for(s=Ne(e),n=t.length;n>r;r++)o[t[r]]=Q.css(e,t[r],!1,s);return o}return void 0!==i?Q.style(e,t,i):Q.css(e,t)},e,t,arguments.length>1)},show:function(){return z(this,!0)},hide:function(){return z(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ye(this)?Q(this).show():Q(this).hide()})}}),Q.Tween=S,S.prototype={constructor:S,init:function(e,t,i,s,n,o){this.elem=e,this.prop=i,this.easing=n||"swing",this.options=t,this.start=this.now=this.cur(),this.end=s,this.unit=o||(Q.cssNumber[i]?"":"px")},cur:function(){var e=S.propHooks[this.prop];return e&&e.get?e.get(this):S.propHooks._default.get(this)},run:function(e){var t,i=S.propHooks[this.prop];return this.pos=t=this.options.duration?Q.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):S.propHooks._default.set(this),this}},S.prototype.init.prototype=S.prototype,S.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Q.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){Q.fx.step[e.prop]?Q.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Q.cssProps[e.prop]]||Q.cssHooks[e.prop])?Q.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},S.propHooks.scrollTop=S.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Q.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Q.fx=S.prototype.init,Q.fx.step={};var Xe,Ye,Ke=/^(?:toggle|show|hide)$/,Ze=new RegExp("^(?:([+-])=|)("+_e+")([a-z%]*)$","i"),Ue=/queueHooks$/,Ve=[O],Je={"*":[function(e,t){var i=this.createTween(e,t),s=i.cur(),n=Ze.exec(t),o=n&&n[3]||(Q.cssNumber[e]?"":"px"),r=(Q.cssNumber[e]||"px"!==o&&+s)&&Ze.exec(Q.css(i.elem,e)),a=1,l=20;if(r&&r[3]!==o){o=o||r[3],n=n||[],r=+s||1;do{a=a||".5",r/=a,Q.style(i.elem,e,r+o)}while(a!==(a=i.cur()/s)&&1!==a&&--l)}return n&&(r=i.start=+r||+s||0,i.unit=o,i.end=n[1]?r+(n[1]+1)*n[2]:+n[2]),i}]};Q.Animation=Q.extend(D,{tweener:function(e,t){Q.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,s=0,n=e.length;n>s;s++)i=e[s],Je[i]=Je[i]||[],Je[i].unshift(t)},prefilter:function(e,t){t?Ve.unshift(e):Ve.push(e)}}),Q.speed=function(e,t,i){var s=e&&"object"==typeof e?Q.extend({},e):{complete:i||!i&&t||Q.isFunction(e)&&e,duration:e,easing:i&&t||t&&!Q.isFunction(t)&&t};return s.duration=Q.fx.off?0:"number"==typeof s.duration?s.duration:s.duration in Q.fx.speeds?Q.fx.speeds[s.duration]:Q.fx.speeds._default,(null==s.queue||s.queue===!0)&&(s.queue="fx"),s.old=s.complete,s.complete=function(){Q.isFunction(s.old)&&s.old.call(this),s.queue&&Q.dequeue(this,s.queue)},s},Q.fn.extend({fadeTo:function(e,t,i,s){return this.filter(ye).css("opacity",0).show().end().animate({opacity:t},e,i,s)},animate:function(e,t,i,s){var n=Q.isEmptyObject(e),o=Q.speed(t,i,s),r=function(){var t=D(this,Q.extend({},e),o);(n||pe.get(this,"finish"))&&t.stop(!0)};return r.finish=r,n||o.queue===!1?this.each(r):this.queue(o.queue,r)},stop:function(e,t,i){var s=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=Q.timers,r=pe.get(this);if(n)r[n]&&r[n].stop&&s(r[n]);else for(n in r)r[n]&&r[n].stop&&Ue.test(n)&&s(r[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(i),t=!1,o.splice(n,1));(t||!i)&&Q.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,i=pe.get(this),s=i[e+"queue"],n=i[e+"queueHooks"],o=Q.timers,r=s?s.length:0;for(i.finish=!0,Q.queue(this,e,[]),n&&n.stop&&n.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;r>t;t++)s[t]&&s[t].finish&&s[t].finish.call(this);delete i.finish})}}),
Q.each(["toggle","show","hide"],function(e,t){var i=Q.fn[t];Q.fn[t]=function(e,s,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(E(t,!0),e,s,n)}}),Q.each({slideDown:E("show"),slideUp:E("hide"),slideToggle:E("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Q.fn[e]=function(e,i,s){return this.animate(t,e,i,s)}}),Q.timers=[],Q.fx.tick=function(){var e,t=0,i=Q.timers;for(Xe=Q.now();t<i.length;t++)(e=i[t])()||i[t]!==e||i.splice(t--,1);i.length||Q.fx.stop(),Xe=void 0},Q.fx.timer=function(e){Q.timers.push(e),e()?Q.fx.start():Q.timers.pop()},Q.fx.interval=13,Q.fx.start=function(){Ye||(Ye=setInterval(Q.fx.tick,Q.fx.interval))},Q.fx.stop=function(){clearInterval(Ye),Ye=null},Q.fx.speeds={slow:600,fast:200,_default:400},Q.fn.delay=function(e,t){return e=Q.fx?Q.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var s=setTimeout(t,e);i.stop=function(){clearTimeout(s)}})},function(){var e=J.createElement("input"),t=J.createElement("select"),i=t.appendChild(J.createElement("option"));e.type="checkbox",V.checkOn=""!==e.value,V.optSelected=i.selected,t.disabled=!0,V.optDisabled=!i.disabled,e=J.createElement("input"),e.value="t",e.type="radio",V.radioValue="t"===e.value}();var Ge,Qe=Q.expr.attrHandle;Q.fn.extend({attr:function(e,t){return ue(this,Q.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Q.removeAttr(this,e)})}}),Q.extend({attr:function(e,t,i){var s,n,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===be?Q.prop(e,t,i):(1===o&&Q.isXMLDoc(e)||(t=t.toLowerCase(),s=Q.attrHooks[t]||(Q.expr.match.bool.test(t)?Ge:void 0)),void 0===i?s&&"get"in s&&null!==(n=s.get(e,t))?n:(n=Q.find.attr(e,t),null==n?void 0:n):null!==i?s&&"set"in s&&void 0!==(n=s.set(e,i,t))?n:(e.setAttribute(t,i+""),i):void Q.removeAttr(e,t))},removeAttr:function(e,t){var i,s,n=0,o=t&&t.match(ce);if(o&&1===e.nodeType)for(;i=o[n++];)s=Q.propFix[i]||i,Q.expr.match.bool.test(i)&&(e[s]=!1),e.removeAttribute(i)},attrHooks:{type:{set:function(e,t){if(!V.radioValue&&"radio"===t&&Q.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}}}),Ge={set:function(e,t,i){return t===!1?Q.removeAttr(e,i):e.setAttribute(i,i),i}},Q.each(Q.expr.match.bool.source.match(/\w+/g),function(e,t){var i=Qe[t]||Q.find.attr;Qe[t]=function(e,t,s){var n,o;return s||(o=Qe[t],Qe[t]=n,n=null!=i(e,t,s)?t.toLowerCase():null,Qe[t]=o),n}});var et=/^(?:input|select|textarea|button)$/i;Q.fn.extend({prop:function(e,t){return ue(this,Q.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Q.propFix[e]||e]})}}),Q.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,i){var s,n,o,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return o=1!==r||!Q.isXMLDoc(e),o&&(t=Q.propFix[t]||t,n=Q.propHooks[t]),void 0!==i?n&&"set"in n&&void 0!==(s=n.set(e,i,t))?s:e[t]=i:n&&"get"in n&&null!==(s=n.get(e,t))?s:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||et.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),V.optSelected||(Q.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),Q.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Q.propFix[this.toLowerCase()]=this});var tt=/[\t\r\n\f]/g;Q.fn.extend({addClass:function(e){var t,i,s,n,o,r,a="string"==typeof e&&e,l=0,c=this.length;if(Q.isFunction(e))return this.each(function(t){Q(this).addClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(ce)||[];c>l;l++)if(i=this[l],s=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(tt," "):" ")){for(o=0;n=t[o++];)s.indexOf(" "+n+" ")<0&&(s+=n+" ");r=Q.trim(s),i.className!==r&&(i.className=r)}return this},removeClass:function(e){var t,i,s,n,o,r,a=0===arguments.length||"string"==typeof e&&e,l=0,c=this.length;if(Q.isFunction(e))return this.each(function(t){Q(this).removeClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(ce)||[];c>l;l++)if(i=this[l],s=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(tt," "):"")){for(o=0;n=t[o++];)for(;s.indexOf(" "+n+" ")>=0;)s=s.replace(" "+n+" "," ");r=e?Q.trim(s):"",i.className!==r&&(i.className=r)}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):this.each(Q.isFunction(e)?function(i){Q(this).toggleClass(e.call(this,i,this.className,t),t)}:function(){if("string"===i)for(var t,s=0,n=Q(this),o=e.match(ce)||[];t=o[s++];)n.hasClass(t)?n.removeClass(t):n.addClass(t);else(i===be||"boolean"===i)&&(this.className&&pe.set(this,"__className__",this.className),this.className=this.className||e===!1?"":pe.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,s=this.length;s>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(tt," ").indexOf(t)>=0)return!0;return!1}});Q.fn.extend({val:function(e){var t,i,s,n=this[0];return arguments.length?(s=Q.isFunction(e),this.each(function(i){var n;1===this.nodeType&&(n=s?e.call(this,i,Q(this).val()):e,null==n?n="":"number"==typeof n?n+="":Q.isArray(n)&&(n=Q.map(n,function(e){return null==e?"":e+""})),(t=Q.valHooks[this.type]||Q.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,n,"value")||(this.value=n))})):n?(t=Q.valHooks[n.type]||Q.valHooks[n.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(i=t.get(n,"value"))?i:(i=n.value,"string"==typeof i?i.replace(/\r/g,""):null==i?"":i)):void 0}}),Q.extend({valHooks:{option:{get:function(e){var t=Q.find.attr(e,"value");return null!=t?t:Q.trim(Q.text(e))}},select:{get:function(e){for(var t,i,s=e.options,n=e.selectedIndex,o="select-one"===e.type||0>n,r=o?null:[],a=o?n+1:s.length,l=0>n?a:o?n:0;a>l;l++)if(i=s[l],!(!i.selected&&l!==n||(V.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&Q.nodeName(i.parentNode,"optgroup"))){if(t=Q(i).val(),o)return t;r.push(t)}return r},set:function(e,t){for(var i,s,n=e.options,o=Q.makeArray(t),r=n.length;r--;)s=n[r],(s.selected=Q.inArray(s.value,o)>=0)&&(i=!0);return i||(e.selectedIndex=-1),o}}}}),Q.each(["radio","checkbox"],function(){Q.valHooks[this]={set:function(e,t){return Q.isArray(t)?e.checked=Q.inArray(Q(e).val(),t)>=0:void 0}},V.checkOn||(Q.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),Q.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Q.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),Q.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,s){return this.on(t,e,i,s)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}});var it=Q.now(),st=/\?/;Q.parseJSON=function(e){return JSON.parse(e+"")},Q.parseXML=function(e){var t,i;if(!e||"string"!=typeof e)return null;try{i=new DOMParser,t=i.parseFromString(e,"text/xml")}catch(e){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&Q.error("Invalid XML: "+e),t};var nt=/([?&])_=[^&]*/,ot=/^(.*?):[ \t]*([^\r\n]*)$/gm,rt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,at=/^(?:GET|HEAD)$/,lt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,ct={},dt={},ht="*/".concat("*"),ut=e.location.href,pt=lt.exec(ut.toLowerCase())||[];Q.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ut,type:"GET",isLocal:rt.test(pt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ht,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Q.parseJSON,"text xml":Q.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?H(H(e,Q.ajaxSettings),t):H(Q.ajaxSettings,e)},ajaxPrefilter:P(ct),ajaxTransport:P(dt),ajax:function(e,t){function i(e,t,i,r){var l,d,_,v,w,x=t;2!==y&&(y=2,a&&clearTimeout(a),s=void 0,o=r||"",b.readyState=e>0?4:0,l=e>=200&&300>e||304===e,i&&(v=N(h,b,i)),v=I(h,v,b,l),l?(h.ifModified&&(w=b.getResponseHeader("Last-Modified"),w&&(Q.lastModified[n]=w),(w=b.getResponseHeader("etag"))&&(Q.etag[n]=w)),204===e||"HEAD"===h.type?x="nocontent":304===e?x="notmodified":(x=v.state,d=v.data,_=v.error,l=!_)):(_=x,(e||!x)&&(x="error",0>e&&(e=0))),b.status=e,b.statusText=(t||x)+"",l?f.resolveWith(u,[d,x,b]):f.rejectWith(u,[b,x,_]),b.statusCode(m),m=void 0,c&&p.trigger(l?"ajaxSuccess":"ajaxError",[b,h,l?d:_]),g.fireWith(u,[b,x]),c&&(p.trigger("ajaxComplete",[b,h]),--Q.active||Q.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var s,n,o,r,a,l,c,d,h=Q.ajaxSetup({},t),u=h.context||h,p=h.context&&(u.nodeType||u.jquery)?Q(u):Q.event,f=Q.Deferred(),g=Q.Callbacks("once memory"),m=h.statusCode||{},_={},v={},y=0,w="canceled",b={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!r)for(r={};t=ot.exec(o);)r[t[1].toLowerCase()]=t[2];t=r[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?o:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return y||(e=v[i]=v[i]||e,_[e]=t),this},overrideMimeType:function(e){return y||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>y)for(t in e)m[t]=[m[t],e[t]];else b.always(e[b.status]);return this},abort:function(e){var t=e||w;return s&&s.abort(t),i(0,t),this}};if(f.promise(b).complete=g.add,b.success=b.done,b.error=b.fail,h.url=((e||h.url||ut)+"").replace(/#.*$/,"").replace(/^\/\//,pt[1]+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=Q.trim(h.dataType||"*").toLowerCase().match(ce)||[""],null==h.crossDomain&&(l=lt.exec(h.url.toLowerCase()),h.crossDomain=!(!l||l[1]===pt[1]&&l[2]===pt[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(pt[3]||("http:"===pt[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=Q.param(h.data,h.traditional)),A(ct,h,t,b),2===y)return b;c=Q.event&&h.global,c&&0==Q.active++&&Q.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!at.test(h.type),n=h.url,h.hasContent||(h.data&&(n=h.url+=(st.test(n)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=nt.test(n)?n.replace(nt,"$1_="+it++):n+(st.test(n)?"&":"?")+"_="+it++)),h.ifModified&&(Q.lastModified[n]&&b.setRequestHeader("If-Modified-Since",Q.lastModified[n]),Q.etag[n]&&b.setRequestHeader("If-None-Match",Q.etag[n])),(h.data&&h.hasContent&&h.contentType!==!1||t.contentType)&&b.setRequestHeader("Content-Type",h.contentType),b.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+ht+"; q=0.01":""):h.accepts["*"]);for(d in h.headers)b.setRequestHeader(d,h.headers[d]);if(h.beforeSend&&(h.beforeSend.call(u,b,h)===!1||2===y))return b.abort();w="abort";for(d in{success:1,error:1,complete:1})b[d](h[d]);if(s=A(dt,h,t,b)){b.readyState=1,c&&p.trigger("ajaxSend",[b,h]),h.async&&h.timeout>0&&(a=setTimeout(function(){b.abort("timeout")},h.timeout));try{y=1,s.send(_,i)}catch(e){if(!(2>y))throw e;i(-1,e)}}else i(-1,"No Transport");return b},getJSON:function(e,t,i){return Q.get(e,t,i,"json")},getScript:function(e,t){return Q.get(e,void 0,t,"script")}}),Q.each(["get","post"],function(e,t){Q[t]=function(e,i,s,n){return Q.isFunction(i)&&(n=n||s,s=i,i=void 0),Q.ajax({url:e,type:t,dataType:n,data:i,success:s})}}),Q._evalUrl=function(e){return Q.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},Q.fn.extend({wrapAll:function(e){var t;return Q.isFunction(e)?this.each(function(t){Q(this).wrapAll(e.call(this,t))}):(this[0]&&(t=Q(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(Q.isFunction(e)?function(t){Q(this).wrapInner(e.call(this,t))}:function(){var t=Q(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=Q.isFunction(e);return this.each(function(i){Q(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){Q.nodeName(this,"body")||Q(this).replaceWith(this.childNodes)}).end()}}),Q.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},Q.expr.filters.visible=function(e){return!Q.expr.filters.hidden(e)};var ft=/\[\]$/,gt=/^(?:submit|button|image|reset|file)$/i,mt=/^(?:input|select|textarea|keygen)/i;Q.param=function(e,t){var i,s=[],n=function(e,t){t=Q.isFunction(t)?t():null==t?"":t,s[s.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=Q.ajaxSettings&&Q.ajaxSettings.traditional),Q.isArray(e)||e.jquery&&!Q.isPlainObject(e))Q.each(e,function(){n(this.name,this.value)});else for(i in e)M(i,e[i],t,n);return s.join("&").replace(/%20/g,"+")},Q.fn.extend({serialize:function(){return Q.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Q.prop(this,"elements");return e?Q.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Q(this).is(":disabled")&&mt.test(this.nodeName)&&!gt.test(e)&&(this.checked||!we.test(e))}).map(function(e,t){var i=Q(this).val();return null==i?null:Q.isArray(i)?Q.map(i,function(e){return{name:t.name,value:e.replace(/\r?\n/g,"\r\n")}}):{name:t.name,value:i.replace(/\r?\n/g,"\r\n")}}).get()}}),Q.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var _t=0,vt={},yt={0:200,1223:204},wt=Q.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in vt)vt[e]()}),V.cors=!!wt&&"withCredentials"in wt,V.ajax=wt=!!wt,Q.ajaxTransport(function(e){var t;return V.cors||wt&&!e.crossDomain?{send:function(i,s){var n,o=e.xhr(),r=++_t;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(n in e.xhrFields)o[n]=e.xhrFields[n];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(n in i)o.setRequestHeader(n,i[n]);t=function(e){return function(){t&&(delete vt[r],t=o.onload=o.onerror=null,"abort"===e?o.abort():"error"===e?s(o.status,o.statusText):s(yt[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=t(),o.onerror=t("error"),t=vt[r]=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}:void 0}),Q.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return Q.globalEval(e),e}}}),Q.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Q.ajaxTransport("script",function(e){if(e.crossDomain){var t,i;return{send:function(s,n){t=Q("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove(),i=null,e&&n("error"===e.type?404:200,e.type)}),J.head.appendChild(t[0])},abort:function(){i&&i()}}}});var bt=[],xt=/(=)\?(?=&|$)|\?\?/;Q.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=bt.pop()||Q.expando+"_"+it++;return this[e]=!0,e}}),Q.ajaxPrefilter("json jsonp",function(t,i,s){var n,o,r,a=t.jsonp!==!1&&(xt.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&xt.test(t.data)&&"data");return a||"jsonp"===t.dataTypes[0]?(n=t.jsonpCallback=Q.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(xt,"$1"+n):t.jsonp!==!1&&(t.url+=(st.test(t.url)?"&":"?")+t.jsonp+"="+n),t.converters["script json"]=function(){return r||Q.error(n+" was not called"),r[0]},t.dataTypes[0]="json",o=e[n],e[n]=function(){r=arguments},s.always(function(){e[n]=o,t[n]&&(t.jsonpCallback=i.jsonpCallback,bt.push(n)),r&&Q.isFunction(o)&&o(r[0]),r=o=void 0}),"script"):void 0}),Q.parseHTML=function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||J;var s=se.exec(e),n=!i&&[];return s?[t.createElement(s[1])]:(s=Q.buildFragment([e],t,n),n&&n.length&&Q(n).remove(),Q.merge([],s.childNodes))};var kt=Q.fn.load;Q.fn.load=function(e,t,i){if("string"!=typeof e&&kt)return kt.apply(this,arguments);var s,n,o,r=this,a=e.indexOf(" ");return a>=0&&(s=Q.trim(e.slice(a)),e=e.slice(0,a)),Q.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(n="POST"),r.length>0&&Q.ajax({url:e,type:n,dataType:"html",data:t}).done(function(e){o=arguments,r.html(s?Q("<div>").append(Q.parseHTML(e)).find(s):e)}).complete(i&&function(e,t){r.each(i,o||[e.responseText,t,e])}),this},Q.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Q.fn[t]=function(e){return this.on(t,e)}}),Q.expr.filters.animated=function(e){return Q.grep(Q.timers,function(t){return e===t.elem}).length};var jt=e.document.documentElement;Q.offset={setOffset:function(e,t,i){var s,n,o,r,a,l,c,d=Q.css(e,"position"),h=Q(e),u={};"static"===d&&(e.style.position="relative"),a=h.offset(),o=Q.css(e,"top"),l=Q.css(e,"left"),c=("absolute"===d||"fixed"===d)&&(o+l).indexOf("auto")>-1,c?(s=h.position(),r=s.top,n=s.left):(r=parseFloat(o)||0,n=parseFloat(l)||0),Q.isFunction(t)&&(t=t.call(e,i,a)),null!=t.top&&(u.top=t.top-a.top+r),null!=t.left&&(u.left=t.left-a.left+n),"using"in t?t.using.call(e,u):h.css(u)}},Q.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Q.offset.setOffset(this,e,t)});var t,i,s=this[0],n={top:0,left:0},o=s&&s.ownerDocument;return o?(t=o.documentElement,Q.contains(t,s)?(typeof s.getBoundingClientRect!==be&&(n=s.getBoundingClientRect()),i=F(o),{top:n.top+i.pageYOffset-t.clientTop,left:n.left+i.pageXOffset-t.clientLeft}):n):void 0},position:function(){if(this[0]){var e,t,i=this[0],s={top:0,left:0};return"fixed"===Q.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),Q.nodeName(e[0],"html")||(s=e.offset()),s.top+=Q.css(e[0],"borderTopWidth",!0),s.left+=Q.css(e[0],"borderLeftWidth",!0)),{top:t.top-s.top-Q.css(i,"marginTop",!0),left:t.left-s.left-Q.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||jt;e&&!Q.nodeName(e,"html")&&"static"===Q.css(e,"position");)e=e.offsetParent;return e||jt})}}),Q.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var s="pageYOffset"===i;Q.fn[t]=function(n){return ue(this,function(t,n,o){var r=F(t);return void 0===o?r?r[i]:t[n]:void(r?r.scrollTo(s?e.pageXOffset:o,s?o:e.pageYOffset):t[n]=o)},t,n,arguments.length,null)}}),Q.each(["top","left"],function(e,t){Q.cssHooks[t]=x(V.pixelPosition,function(e,i){return i?(i=b(e,t),He.test(i)?Q(e).position()[t]+"px":i):void 0})}),Q.each({Height:"height",Width:"width"},function(e,t){Q.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,s){Q.fn[s]=function(s,n){var o=arguments.length&&(i||"boolean"!=typeof s),r=i||(s===!0||n===!0?"margin":"border");return ue(this,function(t,i,s){var n;return Q.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(n=t.documentElement,Math.max(t.body["scroll"+e],n["scroll"+e],t.body["offset"+e],n["offset"+e],n["client"+e])):void 0===s?Q.css(t,i,r):Q.style(t,i,s,r)},t,o?s:void 0,o,null)}})}),Q.fn.size=function(){return this.length},Q.fn.andSelf=Q.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Q});var Ct=e.jQuery,Tt=e.$;return Q.noConflict=function(t){return e.$===Q&&(e.$=Tt),t&&e.jQuery===Q&&(e.jQuery=Ct),Q},typeof t===be&&(e.jQuery=e.$=Q),Q}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e($||require("jquery")):e(jQuery)}(function(e){"use strict";function t(t,i){this.element=t,this.options=e.extend({},n,i);var s=this.options.locale;void 0!==this.options.locales[s]&&e.extend(this.options,this.options.locales[s]),this.init()}function i(t){if(!e(t.target).parents().hasClass("jq-selectbox")&&"OPTION"!=t.target.nodeName&&e("div.jq-selectbox.opened").length){var i=e("div.jq-selectbox.opened"),n=e("div.jq-selectbox__search input",i),o=e("div.jq-selectbox__dropdown",i);i.find("select").data("_"+s).options.onSelectClosed.call(i),n.length&&n.val("").keyup(),o.hide().find("li.sel").addClass("selected"),i.removeClass("focused opened dropup dropdown")}}var s="styler",n={idSuffix:"-styler",filePlaceholder:"  ",fileBrowse:"...",fileNumber:" : %s",selectPlaceholder:"...",selectSearch:!1,selectSearchLimit:10,selectSearchNotFound:"  ",selectSearchPlaceholder:"...",selectVisibleOptions:0,singleSelectzIndex:"100",selectSmartPositioning:!0,locale:"ru",locales:{en:{filePlaceholder:"No file selected",fileBrowse:"Browse...",fileNumber:"Selected files: %s",selectPlaceholder:"Select...",selectSearchNotFound:"No matches found",selectSearchPlaceholder:"Search..."}},onSelectOpened:function(){},onSelectClosed:function(){},onFormStyled:function(){}};t.prototype={init:function(){function t(){void 0!==s.attr("id")&&""!==s.attr("id")&&(this.id=s.attr("id")+n.idSuffix),this.title=s.attr("title"),this.classes=s.attr("class"),this.data=s.data()}var s=e(this.element),n=this.options,o=!(!navigator.userAgent.match(/(iPad|iPhone|iPod)/i)||navigator.userAgent.match(/(Windows\sPhone)/i)),r=!(!navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/(Windows\sPhone)/i));if(s.is(":checkbox")){var a=function(){var i=new t,n=e('<div class="jq-checkbox"><div class="jq-checkbox__div"></div></div>').attr({id:i.id,title:i.title}).addClass(i.classes).data(i.data);s.css({position:"absolute",zIndex:"-1",opacity:0,margin:0,padding:0}).after(n).prependTo(n),n.attr("unselectable","on").css({"-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","-o-user-select":"none","user-select":"none",display:"inline-block",position:"relative",overflow:"hidden"}),s.is(":checked")&&n.addClass("checked"),s.is(":disabled")&&n.addClass("disabled"),n.click(function(e){e.preventDefault(),n.is(".disabled")||(s.is(":checked")?(s.prop("checked",!1),n.removeClass("checked")):(s.prop("checked",!0),n.addClass("checked")),s.focus().change())}),s.closest("label").add('label[for="'+s.attr("id")+'"]').on("click.styler",function(t){e(t.target).is("a")||e(t.target).closest(n).length||(n.triggerHandler("click"),t.preventDefault())}),s.on("change.styler",function(){s.is(":checked")?n.addClass("checked"):n.removeClass("checked")}).on("keydown.styler",function(e){32==e.which&&n.click()}).on("focus.styler",function(){n.is(".disabled")||n.addClass("focused")}).on("blur.styler",function(){n.removeClass("focused")})};a(),s.on("refresh",function(){s.closest("label").add('label[for="'+s.attr("id")+'"]').off(".styler"),s.off(".styler").parent().before(s).remove(),a()})}else if(s.is(":radio")){var l=function(){var i=new t,n=e('<div class="jq-radio"><div class="jq-radio__div"></div></div>').attr({id:i.id,title:i.title}).addClass(i.classes).data(i.data);s.css({position:"absolute",zIndex:"-1",opacity:0,margin:0,padding:0}).after(n).prependTo(n),n.attr("unselectable","on").css({"-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","-o-user-select":"none","user-select":"none",display:"inline-block",position:"relative"}),s.is(":checked")&&n.addClass("checked"),s.is(":disabled")&&n.addClass("disabled"),e.fn.commonParents=function(){var t=this;return t.first().parents().filter(function(){return e(this).find(t).length===t.length})},e.fn.commonParent=function(){return e(this).commonParents().first()},n.click(function(t){if(t.preventDefault(),!n.is(".disabled")){var i=e('input[name="'+s.attr("name")+'"]');i.commonParent().find(i).prop("checked",!1).parent().removeClass("checked"),s.prop("checked",!0).parent().addClass("checked"),s.focus().change()}}),s.closest("label").add('label[for="'+s.attr("id")+'"]').on("click.styler",function(t){e(t.target).is("a")||e(t.target).closest(n).length||(n.triggerHandler("click"),t.preventDefault())}),s.on("change.styler",function(){s.parent().addClass("checked")}).on("focus.styler",function(){n.is(".disabled")||n.addClass("focused")}).on("blur.styler",function(){n.removeClass("focused")})};l(),s.on("refresh",function(){s.closest("label").add('label[for="'+s.attr("id")+'"]').off(".styler"),s.off(".styler").parent().before(s).remove(),l()})}else if(s.is(":file")){s.css({position:"absolute",top:0,right:0,margin:0,padding:0,opacity:0,fontSize:"100px"});var c=function(){var i=new t,o=s.data("placeholder");void 0===o&&(o=n.filePlaceholder);var r=s.data("browse");void 0!==r&&""!==r||(r=n.fileBrowse);var a=e('<div class="jq-file"><div class="jq-file__name">'+o+'</div><div class="jq-file__browse">'+r+"</div></div>").css({display:"inline-block",position:"relative",overflow:"hidden"}).attr({id:i.id,title:i.title}).addClass(i.classes).data(i.data);s.after(a).appendTo(a),s.is(":disabled")&&a.addClass("disabled"),s.on("change.styler",function(){var t=s.val(),i=e("div.jq-file__name",a);if(s.is("[multiple]")){t="";var r=s[0].files.length;if(r>0){var l=s.data("number");void 0===l&&(l=n.fileNumber),l=l.replace("%s",r),t=l}}i.text(t.replace(/.+[\\\/]/,"")),""===t?(i.text(o),a.removeClass("changed")):a.addClass("changed")}).on("focus.styler",function(){a.addClass("focused")}).on("blur.styler",function(){a.removeClass("focused")}).on("click.styler",function(){a.removeClass("focused")})};c(),s.on("refresh",function(){s.off(".styler").parent().before(s).remove(),c()})}else if(s.is('input[type="number"]')){var d=function(){var i=new t,n=e('<div class="jq-number"><div class="jq-number__spin minus"></div><div class="jq-number__spin plus"></div></div>').attr({id:i.id,title:i.title}).addClass(i.classes).data(i.data);s.after(n).prependTo(n).wrap('<div class="jq-number__field"></div>'),s.is(":disabled")&&n.addClass("disabled");var o,r,a,l=null,c=null;void 0!==s.attr("min")&&(o=s.attr("min")),void 0!==s.attr("max")&&(r=s.attr("max")),a=void 0!==s.attr("step")&&e.isNumeric(s.attr("step"))?Number(s.attr("step")):Number(1);var d=function(t){var i,n=s.val();e.isNumeric(n)||(n=0,s.val("0")),t.is(".minus")?i=Number(n)-a:t.is(".plus")&&(i=Number(n)+a);var l=(a.toString().split(".")[1]||[]).length;if(l>0){for(var c="1";c.length<=l;)c+="0";i=Math.round(i*c)/c}e.isNumeric(o)&&e.isNumeric(r)?i>=o&&r>=i&&s.val(i):e.isNumeric(o)&&!e.isNumeric(r)?i>=o&&s.val(i):!e.isNumeric(o)&&e.isNumeric(r)?r>=i&&s.val(i):s.val(i)};n.is(".disabled")||(n.on("mousedown","div.jq-number__spin",function(){var t=e(this);d(t),l=setTimeout(function(){c=setInterval(function(){d(t)},40)},350)}).on("mouseup mouseout","div.jq-number__spin",function(){clearTimeout(l),clearInterval(c)}).on("mouseup","div.jq-number__spin",function(){s.change()}),s.on("focus.styler",function(){n.addClass("focused")}).on("blur.styler",function(){n.removeClass("focused")}))};d(),s.on("refresh",function(){s.off(".styler").closest(".jq-number").before(s).remove(),d()})}else if(s.is("select")){var h=function(){function a(t){t.off("mousewheel DOMMouseScroll").on("mousewheel DOMMouseScroll",function(t){var i=null;"mousewheel"==t.type?i=-1*t.originalEvent.wheelDelta:"DOMMouseScroll"==t.type&&(i=40*t.originalEvent.detail),i&&(t.stopPropagation(),t.preventDefault(),e(this).scrollTop(i+e(this).scrollTop()))})}function l(){for(var e=0;e<c.length;e++){var t=c.eq(e),i="",s="",o="",r="",a="",l="",h="",u="",p="";t.prop("selected")&&(s="selected sel"),t.is(":disabled")&&(s="disabled"),t.is(":selected:disabled")&&(s="selected sel disabled"),void 0!==t.attr("id")&&""!==t.attr("id")&&(r=' id="'+t.attr("id")+n.idSuffix+'"'),void 0!==t.attr("title")&&""!==c.attr("title")&&(a=' title="'+t.attr("title")+'"'),void 0!==t.attr("class")&&(h=" "+t.attr("class"),p=' data-jqfs-class="'+t.attr("class")+'"');var f=t.data();for(var g in f)""!==f[g]&&(l+=" data-"+g+'="'+f[g]+'"');s+h!==""&&(o=' class="'+s+h+'"'),i="<li"+p+l+o+a+r+">"+t.html()+"</li>",t.parent().is("optgroup")&&(void 0!==t.parent().attr("class")&&(u=" "+t.parent().attr("class")),i="<li"+p+l+' class="'+s+h+" option"+u+'"'+a+r+">"+t.html()+"</li>",t.is(":first-child")&&(i='<li class="optgroup'+u+'">'+t.parent().attr("label")+"</li>"+i)),d+=i}}var c=e("option",s),d="";if(s.is("[multiple]")){if(r||o)return;!function(){var i=new t,n=e('<div class="jq-select-multiple jqselect"></div>').css({display:"inline-block",position:"relative"}).attr({id:i.id,title:i.title}).addClass(i.classes).data(i.data);s.css({margin:0,padding:0}).after(n),l(),n.append("<ul>"+d+"</ul>");var o=e("ul",n).css({position:"relative","overflow-x":"hidden","-webkit-overflow-scrolling":"touch"}),r=e("li",n).attr("unselectable","on"),h=s.attr("size"),u=o.outerHeight(),p=r.outerHeight();void 0!==h&&h>0?o.css({height:p*h}):o.css({height:4*p}),u>n.height()&&(o.css("overflowY","scroll"),a(o),r.filter(".selected").length&&o.scrollTop(o.scrollTop()+r.filter(".selected").position().top)),s.prependTo(n).css({position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:0}),s.is(":disabled")?(n.addClass("disabled"),c.each(function(){e(this).is(":selected")&&r.eq(e(this).index()).addClass("selected")})):(r.filter(":not(.disabled):not(.optgroup)").click(function(t){s.focus();var i=e(this);if(t.ctrlKey||t.metaKey||i.addClass("selected"),t.shiftKey||i.addClass("first"),t.ctrlKey||t.metaKey||t.shiftKey||i.siblings().removeClass("selected first"),(t.ctrlKey||t.metaKey)&&(i.is(".selected")?i.removeClass("selected first"):i.addClass("selected first"),i.siblings().removeClass("first")),t.shiftKey){var n=!1,o=!1;i.siblings().removeClass("selected").siblings(".first").addClass("selected"),i.prevAll().each(function(){e(this).is(".first")&&(n=!0)}),i.nextAll().each(function(){e(this).is(".first")&&(o=!0)}),n&&i.prevAll().each(function(){return!e(this).is(".selected")&&void e(this).not(".disabled, .optgroup").addClass("selected")}),o&&i.nextAll().each(function(){return!e(this).is(".selected")&&void e(this).not(".disabled, .optgroup").addClass("selected")}),1==r.filter(".selected").length&&i.addClass("first")}c.prop("selected",!1),r.filter(".selected").each(function(){var t=e(this),i=t.index();t.is(".option")&&(i-=t.prevAll(".optgroup").length),c.eq(i).prop("selected",!0)}),s.change()}),c.each(function(t){e(this).data("optionIndex",t)}),s.on("change.styler",function(){r.removeClass("selected");var t=[];c.filter(":selected").each(function(){t.push(e(this).data("optionIndex"))}),r.not(".optgroup").filter(function(i){return e.inArray(i,t)>-1}).addClass("selected")}).on("focus.styler",function(){n.addClass("focused")}).on("blur.styler",function(){n.removeClass("focused")}),u>n.height()&&s.on("keydown.styler",function(e){38!=e.which&&37!=e.which&&33!=e.which||o.scrollTop(o.scrollTop()+r.filter(".selected").position().top-p),40!=e.which&&39!=e.which&&34!=e.which||o.scrollTop(o.scrollTop()+r.filter(".selected:last").position().top-o.innerHeight()+2*p)}))}()}else!function(){var r=new t,h="",u=s.data("placeholder"),p=s.data("search"),f=s.data("search-limit"),g=s.data("search-not-found"),m=s.data("search-placeholder"),_=s.data("z-index"),v=s.data("smart-positioning");void 0===u&&(u=n.selectPlaceholder),void 0!==p&&""!==p||(p=n.selectSearch),void 0!==f&&""!==f||(f=n.selectSearchLimit),void 0!==g&&""!==g||(g=n.selectSearchNotFound),void 0===m&&(m=n.selectSearchPlaceholder),void 0!==_&&""!==_||(_=n.singleSelectzIndex),void 0!==v&&""!==v||(v=n.selectSmartPositioning)
;var y=e('<div class="jq-selectbox jqselect"><div class="jq-selectbox__select" style="position: relative"><div class="jq-selectbox__select-text"></div><div class="jq-selectbox__trigger"><div class="jq-selectbox__trigger-arrow"></div></div></div></div>').css({display:"inline-block",position:"relative",zIndex:_}).attr({id:r.id,title:r.title}).addClass(r.classes).data(r.data);s.css({margin:0,padding:0}).after(y).prependTo(y);var w=e("div.jq-selectbox__select",y),b=e("div.jq-selectbox__select-text",y),x=c.filter(":selected");l(),p&&(h='<div class="jq-selectbox__search"><input type="search" autocomplete="off" placeholder="'+m+'"></div><div class="jq-selectbox__not-found">'+g+"</div>");var k=e('<div class="jq-selectbox__dropdown" style="position: absolute">'+h+'<ul style="position: relative; list-style: none; overflow: auto; overflow-x: hidden">'+d+"</ul></div>");y.append(k);var j=e("ul",k),C=e("li",k),T=e("input",k),z=e("div.jq-selectbox__not-found",k).hide();C.length<f&&T.parent().hide(),""===c.first().text()&&c.first().is(":selected")&&u!==!1?b.text(u).addClass("placeholder"):b.text(x.text());var S=0,W=0;if(C.css({display:"inline-block"}),C.each(function(){var t=e(this);t.innerWidth()>S&&(S=t.innerWidth(),W=t.width())}),C.css({display:""}),b.is(".placeholder")&&b.width()>S)b.width(b.width());else{var E=y.clone().appendTo("body").width("auto"),$=E.outerWidth();E.remove(),$==y.outerWidth()&&b.width(W)}S>y.width()&&k.width(S),""===c.first().text()&&""!==s.data("placeholder")&&C.first().hide(),s.css({position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:0});var O=y.outerHeight(!0),L=T.parent().outerHeight(!0)||0,D=j.css("max-height"),P=C.filter(".selected");if(P.length<1&&C.first().addClass("selected sel"),void 0===C.data("li-height")){var A=C.outerHeight();u!==!1&&(A=C.eq(1).outerHeight()),C.data("li-height",A)}var H=k.css("top");if("auto"==k.css("left")&&k.css({left:0}),"auto"==k.css("top")&&(k.css({top:O}),H=O),k.hide(),P.length&&(c.first().text()!=x.text()&&y.addClass("changed"),y.data("jqfs-class",P.data("jqfs-class")),y.addClass(P.data("jqfs-class"))),s.is(":disabled"))return y.addClass("disabled"),!1;w.click(function(){if(e("div.jq-selectbox").filter(".opened").length&&n.onSelectClosed.call(e("div.jq-selectbox").filter(".opened")),s.focus(),!o){var t=e(window),i=C.data("li-height"),r=y.offset().top,l=t.height()-O-(r-t.scrollTop()),d=s.data("visible-options");void 0!==d&&""!==d||(d=n.selectVisibleOptions);var h=5*i,u=i*d;d>0&&6>d&&(h=u),0===d&&(u="auto");var p=function(){k.height("auto").css({bottom:"auto",top:H});var e=function(){j.css("max-height",Math.floor((l-20-L)/i)*i)};e(),j.css("max-height",u),"none"!=D&&j.css("max-height",D),l<k.outerHeight()+20&&e()};v===!0||1===v?l>h+L+20?(p(),y.removeClass("dropup").addClass("dropdown")):(function(){k.height("auto").css({top:"auto",bottom:H});var e=function(){j.css("max-height",Math.floor((r-t.scrollTop()-20-L)/i)*i)};e(),j.css("max-height",u),"none"!=D&&j.css("max-height",D),r-t.scrollTop()-20<k.outerHeight()+20&&e()}(),y.removeClass("dropdown").addClass("dropup")):v===!1||0===v?l>h+L+20&&(p(),y.removeClass("dropup").addClass("dropdown")):(k.height("auto").css({bottom:"auto",top:H}),j.css("max-height",u),"none"!=D&&j.css("max-height",D)),y.offset().left+k.outerWidth()>t.width()&&k.css({left:"auto",right:0}),e("div.jqselect").css({zIndex:_-1}).removeClass("opened"),y.css({zIndex:_}),k.is(":hidden")?(e("div.jq-selectbox__dropdown:visible").hide(),k.show(),y.addClass("opened focused"),n.onSelectOpened.call(y)):(k.hide(),y.removeClass("opened dropup dropdown"),e("div.jq-selectbox").filter(".opened").length&&n.onSelectClosed.call(y)),T.length&&(T.val("").keyup(),z.hide(),T.keyup(function(){var t=e(this).val();C.each(function(){e(this).html().match(new RegExp(".*?"+t+".*?","i"))?e(this).show():e(this).hide()}),""===c.first().text()&&""!==s.data("placeholder")&&C.first().hide(),C.filter(":visible").length<1?z.show():z.hide()})),C.filter(".selected").length&&(""===s.val()?j.scrollTop(0):(j.innerHeight()/i%2!=0&&(i/=2),j.scrollTop(j.scrollTop()+C.filter(".selected").position().top-j.innerHeight()/2+i))),a(j)}}),C.hover(function(){e(this).siblings().removeClass("selected")});var N=C.filter(".selected").text();C.filter(":not(.disabled):not(.optgroup)").click(function(){s.focus();var t=e(this),i=t.text();if(!t.is(".selected")){var o=t.index();o-=t.prevAll(".optgroup").length,t.addClass("selected sel").siblings().removeClass("selected sel"),c.prop("selected",!1).eq(o).prop("selected",!0),N=i,b.text(i),y.data("jqfs-class")&&y.removeClass(y.data("jqfs-class")),y.data("jqfs-class",t.data("jqfs-class")),y.addClass(t.data("jqfs-class")),s.change()}k.hide(),y.removeClass("opened dropup dropdown"),n.onSelectClosed.call(y)}),k.mouseout(function(){e("li.sel",k).addClass("selected")}),s.on("change.styler",function(){b.text(c.filter(":selected").text()).removeClass("placeholder"),C.removeClass("selected sel").not(".optgroup").eq(s[0].selectedIndex).addClass("selected sel"),c.first().text()!=C.filter(".selected").text()?y.addClass("changed"):y.removeClass("changed")}).on("focus.styler",function(){y.addClass("focused"),e("div.jqselect").not(".focused").removeClass("opened dropup dropdown").find("div.jq-selectbox__dropdown").hide()}).on("blur.styler",function(){y.removeClass("focused")}).on("keydown.styler keyup.styler",function(e){var t=C.data("li-height");""===s.val()?b.text(u).addClass("placeholder"):b.text(c.filter(":selected").text()),C.removeClass("selected sel").not(".optgroup").eq(s[0].selectedIndex).addClass("selected sel"),38!=e.which&&37!=e.which&&33!=e.which&&36!=e.which||(""===s.val()?j.scrollTop(0):j.scrollTop(j.scrollTop()+C.filter(".selected").position().top)),40!=e.which&&39!=e.which&&34!=e.which&&35!=e.which||j.scrollTop(j.scrollTop()+C.filter(".selected").position().top-j.innerHeight()+t),13==e.which&&(e.preventDefault(),k.hide(),y.removeClass("opened dropup dropdown"),n.onSelectClosed.call(y))}).on("keydown.styler",function(e){32==e.which&&(e.preventDefault(),w.click())}),i.registered||(e(document).on("click",i),i.registered=!0)}()};h(),s.on("refresh",function(){s.off(".styler").parent().before(s).remove(),h()})}else s.is(":reset")&&s.on("click",function(){setTimeout(function(){s.closest("form").find("input, select").trigger("refresh")},1)})},destroy:function(){var t=e(this.element);t.is(":checkbox")||t.is(":radio")?(t.removeData("_"+s).off(".styler refresh").removeAttr("style").parent().before(t).remove(),t.closest("label").add('label[for="'+t.attr("id")+'"]').off(".styler")):t.is('input[type="number"]')?t.removeData("_"+s).off(".styler refresh").closest(".jq-number").before(t).remove():(t.is(":file")||t.is("select"))&&t.removeData("_"+s).off(".styler refresh").removeAttr("style").parent().before(t).remove()}},e.fn[s]=function(i){var n=arguments;if(void 0===i||"object"==typeof i)return this.each(function(){e.data(this,"_"+s)||e.data(this,"_"+s,new t(this,i))}).promise().done(function(){var t=e(this[0]).data("_"+s);t&&t.options.onFormStyled.call()}),this;if("string"==typeof i&&"_"!==i[0]&&"init"!==i){var o;return this.each(function(){var r=e.data(this,"_"+s);r instanceof t&&"function"==typeof r[i]&&(o=r[i].apply(r,Array.prototype.slice.call(n,1)))}),void 0!==o?o:this}},i.registered=!1}),function(e,t,i){e.fn.jScrollPane=function(t){function s(t,s){function n(s){var r,l,d,h,u,g,m=!1,_=!1;if(F=s,q===i)u=t.scrollTop(),g=t.scrollLeft(),t.css({overflow:"hidden",padding:0}),R=t.innerWidth()+ye,B=t.innerHeight(),t.width(R),q=e('<div class="jspPane" />').css("padding",ve).append(t.children()),X=e('<div class="jspContainer" />').css({width:R+"px",height:B+"px"}).append(q).appendTo(t);else{if(t.css("width",""),m=F.stickToBottom&&z(),_=F.stickToRight&&S(),h=t.innerWidth()+ye!=R||t.outerHeight()!=B,h&&(R=t.innerWidth()+ye,B=t.innerHeight(),X.css({width:R+"px",height:B+"px"})),!h&&we==Y&&q.outerHeight()==K)return void t.width(R);we=Y,q.css("width",""),t.width(R),X.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}q.css("overflow","auto"),Y=s.contentWidth?s.contentWidth:q[0].scrollWidth,K=q[0].scrollHeight,q.css("overflow",""),Z=Y/R,U=K/B,V=U>1,J=Z>1,J||V?(t.addClass("jspScrollable"),r=F.maintainPosition&&(ee||se),r&&(l=C(),d=T()),o(),a(),c(),r&&(k(_?Y-R:l,!1),x(m?K-B:d,!1)),O(),W(),I(),F.enableKeyboardNavigation&&D(),F.clickOnTrack&&p(),A(),F.hijackInternalLinks&&N()):(t.removeClass("jspScrollable"),q.css({top:0,width:X.width()-ye}),E(),L(),P(),f(),H()),F.autoReinitialise&&!_e?_e=setInterval(function(){n(F)},F.autoReinitialiseDelay):!F.autoReinitialise&&_e&&clearInterval(_e),u&&t.scrollTop(0)&&x(u,!1),g&&t.scrollLeft(0)&&k(g,!1),t.trigger("jsp-initialised",[J||V])}function o(){V&&(X.append(e('<div class="jspVerticalBar" />').append(e('<div class="jspCap jspCapTop" />'),e('<div class="jspTrack" />').append(e('<div class="jspDrag" />').append(e('<div class="jspDragTop" />'),e('<div class="jspDragBottom" />'))),e('<div class="jspCap jspCapBottom" />'))),ne=X.find(">.jspVerticalBar"),oe=ne.find(">.jspTrack"),G=oe.find(">.jspDrag"),F.showArrows&&(ce=e('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",h(0,-1)).bind("click.jsp",$),de=e('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",h(0,1)).bind("click.jsp",$),F.arrowScrollOnHover&&(ce.bind("mouseover.jsp",h(0,-1,ce)),de.bind("mouseover.jsp",h(0,1,de))),d(oe,F.verticalArrowPositions,ce,de)),ae=B,X.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){ae-=e(this).outerHeight()}),G.hover(function(){G.addClass("jspHover")},function(){G.removeClass("jspHover")}).bind("mousedown.jsp",function(t){e("html").bind("dragstart.jsp selectstart.jsp",$),G.addClass("jspActive");var i=t.pageY-G.position().top;return e("html").bind("mousemove.jsp",function(e){m(e.pageY-i,!1)}).bind("mouseup.jsp mouseleave.jsp",g),!1}),r())}function r(){oe.height(ae+"px"),ee=0,re=F.verticalGutter+oe.outerWidth(),q.width(R-re-ye);try{0===ne.position().left&&q.css("margin-left",re+"px")}catch(e){}}function a(){J&&(X.append(e('<div class="jspHorizontalBar" />').append(e('<div class="jspCap jspCapLeft" />'),e('<div class="jspTrack" />').append(e('<div class="jspDrag" />').append(e('<div class="jspDragLeft" />'),e('<div class="jspDragRight" />'))),e('<div class="jspCap jspCapRight" />'))),he=X.find(">.jspHorizontalBar"),ue=he.find(">.jspTrack"),te=ue.find(">.jspDrag"),F.showArrows&&(ge=e('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",h(-1,0)).bind("click.jsp",$),me=e('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",h(1,0)).bind("click.jsp",$),F.arrowScrollOnHover&&(ge.bind("mouseover.jsp",h(-1,0,ge)),me.bind("mouseover.jsp",h(1,0,me))),d(ue,F.horizontalArrowPositions,ge,me)),te.hover(function(){te.addClass("jspHover")},function(){te.removeClass("jspHover")}).bind("mousedown.jsp",function(t){e("html").bind("dragstart.jsp selectstart.jsp",$),te.addClass("jspActive");var i=t.pageX-te.position().left;return e("html").bind("mousemove.jsp",function(e){v(e.pageX-i,!1)}).bind("mouseup.jsp mouseleave.jsp",g),!1}),pe=X.innerWidth(),l())}function l(){X.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){pe-=e(this).outerWidth()}),ue.width(pe+"px"),se=0}function c(){if(J&&V){var t=ue.outerHeight(),i=oe.outerWidth();ae-=t,e(he).find(">.jspCap:visible,>.jspArrow").each(function(){pe+=e(this).outerWidth()}),pe-=i,B-=i,R-=t,ue.parent().append(e('<div class="jspCorner" />').css("width",t+"px")),r(),l()}J&&q.width(X.outerWidth()-ye+"px"),K=q.outerHeight(),U=K/B,J&&(fe=Math.ceil(1/Z*pe),fe>F.horizontalDragMaxWidth?fe=F.horizontalDragMaxWidth:fe<F.horizontalDragMinWidth&&(fe=F.horizontalDragMinWidth),te.width(fe+"px"),ie=pe-fe,y(se)),V&&(le=Math.ceil(1/U*ae),le>F.verticalDragMaxHeight?le=F.verticalDragMaxHeight:le<F.verticalDragMinHeight&&(le=F.verticalDragMinHeight),G.height(le+"px"),Q=ae-le,_(ee))}function d(e,t,i,s){var n,o="before",r="after";"os"==t&&(t=/Mac/.test(navigator.platform)?"after":"split"),t==o?r=t:t==r&&(o=t,n=i,i=s,s=n),e[o](i)[r](s)}function h(e,t,i){return function(){return u(e,t,this,i),this.blur(),!1}}function u(t,i,s,n){s=e(s).addClass("jspActive");var o,r,a=!0,l=function(){0!==t&&be.scrollByX(t*F.arrowButtonSpeed),0!==i&&be.scrollByY(i*F.arrowButtonSpeed),r=setTimeout(l,a?F.initialDelay:F.arrowRepeatFreq),a=!1};l(),o=n?"mouseout.jsp":"mouseup.jsp",n=n||e("html"),n.bind(o,function(){s.removeClass("jspActive"),r&&clearTimeout(r),r=null,n.unbind(o)})}function p(){f(),V&&oe.bind("mousedown.jsp",function(t){if(t.originalTarget===i||t.originalTarget==t.currentTarget){var s,n=e(this),o=n.offset(),r=t.pageY-o.top-ee,a=!0,l=function(){var e=n.offset(),i=t.pageY-e.top-le/2,o=B*F.scrollPagePercent,d=Q*o/(K-B);if(r<0)ee-d>i?be.scrollByY(-o):m(i);else{if(!(r>0))return void c();ee+d<i?be.scrollByY(o):m(i)}s=setTimeout(l,a?F.initialDelay:F.trackClickRepeatFreq),a=!1},c=function(){s&&clearTimeout(s),s=null,e(document).unbind("mouseup.jsp",c)};return l(),e(document).bind("mouseup.jsp",c),!1}}),J&&ue.bind("mousedown.jsp",function(t){if(t.originalTarget===i||t.originalTarget==t.currentTarget){var s,n=e(this),o=n.offset(),r=t.pageX-o.left-se,a=!0,l=function(){var e=n.offset(),i=t.pageX-e.left-fe/2,o=R*F.scrollPagePercent,d=ie*o/(Y-R);if(r<0)se-d>i?be.scrollByX(-o):v(i);else{if(!(r>0))return void c();se+d<i?be.scrollByX(o):v(i)}s=setTimeout(l,a?F.initialDelay:F.trackClickRepeatFreq),a=!1},c=function(){s&&clearTimeout(s),s=null,e(document).unbind("mouseup.jsp",c)};return l(),e(document).bind("mouseup.jsp",c),!1}})}function f(){ue&&ue.unbind("mousedown.jsp"),oe&&oe.unbind("mousedown.jsp")}function g(){e("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp"),G&&G.removeClass("jspActive"),te&&te.removeClass("jspActive")}function m(e,t){V&&(e<0?e=0:e>Q&&(e=Q),t===i&&(t=F.animateScroll),t?be.animate(G,"top",e,_):(G.css("top",e),_(e)))}function _(e){e===i&&(e=G.position().top),X.scrollTop(0),ee=e;var s=0===ee,n=ee==Q,o=e/Q,r=-o*(K-B);xe==s&&je==n||(xe=s,je=n,t.trigger("jsp-arrow-change",[xe,je,ke,Ce])),w(s,n),q.css("top",r),t.trigger("jsp-scroll-y",[-r,s,n]).trigger("scroll")}function v(e,t){J&&(e<0?e=0:e>ie&&(e=ie),t===i&&(t=F.animateScroll),t?be.animate(te,"left",e,y):(te.css("left",e),y(e)))}function y(e){e===i&&(e=te.position().left),X.scrollTop(0),se=e;var s=0===se,n=se==ie,o=e/ie,r=-o*(Y-R);ke==s&&Ce==n||(ke=s,Ce=n,t.trigger("jsp-arrow-change",[xe,je,ke,Ce])),b(s,n),q.css("left",r),t.trigger("jsp-scroll-x",[-r,s,n]).trigger("scroll")}function w(e,t){F.showArrows&&(ce[e?"addClass":"removeClass"]("jspDisabled"),de[t?"addClass":"removeClass"]("jspDisabled"))}function b(e,t){F.showArrows&&(ge[e?"addClass":"removeClass"]("jspDisabled"),me[t?"addClass":"removeClass"]("jspDisabled"))}function x(e,t){m(e/(K-B)*Q,t)}function k(e,t){v(e/(Y-R)*ie,t)}function j(t,i,s){var n,o,r,a,l,c,d,h,u,p=0,f=0;try{n=e(t)}catch(e){return}for(o=n.outerHeight(),r=n.outerWidth(),X.scrollTop(0),X.scrollLeft(0);!n.is(".jspPane");)if(p+=n.position().top,f+=n.position().left,n=n.offsetParent(),/^body|html$/i.test(n[0].nodeName))return;a=T(),c=a+B,p<a||i?h=p-F.verticalGutter:p+o>c&&(h=p-B+o+F.verticalGutter),h&&x(h,s),l=C(),d=l+R,f<l||i?u=f-F.horizontalGutter:f+r>d&&(u=f-R+r+F.horizontalGutter),u&&k(u,s)}function C(){return-q.position().left}function T(){return-q.position().top}function z(){var e=K-B;return e>20&&e-T()<10}function S(){var e=Y-R;return e>20&&e-C()<10}function W(){X.unbind(ze).bind(ze,function(e,t,i,s){var n=se,o=ee;return be.scrollBy(i*F.mouseWheelSpeed,-s*F.mouseWheelSpeed,!1),n==se&&o==ee})}function E(){X.unbind(ze)}function $(){return!1}function O(){q.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(e){j(e.target,!1)})}function L(){q.find(":input,a").unbind("focus.jsp")}function D(){function i(){var e=se,t=ee;switch(s){case 40:be.scrollByY(F.keyboardSpeed,!1);break;case 38:be.scrollByY(-F.keyboardSpeed,!1);break;case 34:case 32:be.scrollByY(B*F.scrollPagePercent,!1);break;case 33:be.scrollByY(-B*F.scrollPagePercent,!1);break;case 39:be.scrollByX(F.keyboardSpeed,!1);break;case 37:be.scrollByX(-F.keyboardSpeed,!1)}return n=e!=se||t!=ee}var s,n,o=[];J&&o.push(he[0]),V&&o.push(ne[0]),q.focus(function(){t.focus()}),t.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(t){if(t.target===this||o.length&&e(t.target).closest(o).length){var r=se,a=ee;switch(t.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:s=t.keyCode,i();break;case 35:x(K-B),s=null;break;case 36:x(0),s=null}return!(n=t.keyCode==s&&r!=se||a!=ee)}}).bind("keypress.jsp",function(e){return e.keyCode==s&&i(),!n}),F.hideFocus?(t.css("outline","none"),"hideFocus"in X[0]&&t.attr("hideFocus",!0)):(t.css("outline",""),"hideFocus"in X[0]&&t.attr("hideFocus",!1))}function P(){t.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp")}function A(){if(location.hash&&location.hash.length>1){var t,i,s=escape(location.hash);try{t=e(s)}catch(e){return}t.length&&q.find(s)&&(0===X.scrollTop()?i=setInterval(function(){X.scrollTop()>0&&(j(s,!0),e(document).scrollTop(X.position().top),clearInterval(i))},50):(j(s,!0),e(document).scrollTop(X.position().top)))}}function H(){e("a.jspHijack").unbind("click.jsp-hijack").removeClass("jspHijack")}function N(){H(),e("a[href^=#]").addClass("jspHijack").bind("click.jsp-hijack",function(){var e,t=this.href.split("#");if(t.length>1&&(e=t[1],e.length>0&&q.find("#"+e).length>0))return j("#"+e,!0),!1})}function I(){var e,t,i,s,n,o=!1;X.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(r){var a=r.originalEvent.touches[0];e=C(),t=T(),i=a.pageX,s=a.pageY,n=!1,o=!0}).bind("touchmove.jsp",function(r){if(o){var a=r.originalEvent.touches[0],l=se,c=ee;return be.scrollTo(e+i-a.pageX,t+s-a.pageY),n=n||Math.abs(i-a.pageX)>5||Math.abs(s-a.pageY)>5,l==se&&c==ee}}).bind("touchend.jsp",function(e){o=!1}).bind("click.jsp-touchclick",function(e){if(n)return n=!1,!1})}function M(){var e=T(),i=C();t.removeClass("jspScrollable").unbind(".jsp"),t.replaceWith(Te.append(q.children())),Te.scrollTop(e),Te.scrollLeft(i)}var F,q,R,B,X,Y,K,Z,U,V,J,G,Q,ee,te,ie,se,ne,oe,re,ae,le,ce,de,he,ue,pe,fe,ge,me,_e,ve,ye,we,be=this,xe=!0,ke=!0,je=!1,Ce=!1,Te=t.clone(!1,!1).empty(),ze=e.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";ve=t.css("paddingTop")+" "+t.css("paddingRight")+" "+t.css("paddingBottom")+" "+t.css("paddingLeft"),ye=(parseInt(t.css("paddingLeft"),10)||0)+(parseInt(t.css("paddingRight"),10)||0),e.extend(be,{reinitialise:function(t){t=e.extend({},F,t),n(t)},scrollToElement:function(e,t,i){j(e,t,i)},scrollTo:function(e,t,i){k(e,i),x(t,i)},scrollToX:function(e,t){k(e,t)},scrollToY:function(e,t){x(e,t)},scrollToPercentX:function(e,t){k(e*(Y-R),t)},scrollToPercentY:function(e,t){x(e*(K-B),t)},scrollBy:function(e,t,i){be.scrollByX(e,i),be.scrollByY(t,i)},scrollByX:function(e,t){v((C()+Math[e<0?"floor":"ceil"](e))/(Y-R)*ie,t)},scrollByY:function(e,t){m((T()+Math[e<0?"floor":"ceil"](e))/(K-B)*Q,t)},positionDragX:function(e,t){v(e,t)},positionDragY:function(e,t){m(e,t)},animate:function(e,t,i,s){var n={};n[t]=i,e.animate(n,{duration:F.animateDuration,ease:F.animateEase,queue:!1,step:s})},getContentPositionX:function(){return C()},getContentPositionY:function(){return T()},getContentWidth:function(){return Y},getContentHeight:function(){return K},getPercentScrolledX:function(){return C()/(Y-R)},getPercentScrolledY:function(){return T()/(K-B)},getIsScrollableH:function(){return J},getIsScrollableV:function(){return V},getContentPane:function(){return q},scrollToBottom:function(e){m(Q,e)},hijackInternalLinks:function(){N()},destroy:function(){M()}}),n(s)}return t=e.extend({},e.fn.jScrollPane.defaults,t),e.each(["mouseWheelSpeed","arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){t[this]=t[this]||t.speed}),this.each(function(){var i=e(this),n=i.data("jsp");n?n.reinitialise(t):(n=new s(i,t),i.data("jsp",n))})},e.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:i,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:0,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:.8}}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){var t,i=navigator.userAgent,s=/iphone/i.test(i),n=/chrome/i.test(i),o=/android/i.test(i);e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},e.fn.extend({caret:function(e,t){var i;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof e?(t="number"==typeof t?t:e,this.each(function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&(i=this.createTextRange(),i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select())})):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(i=document.selection.createRange(),e=0-i.duplicate().moveStart("character",-1e5),t=e+i.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(i,r){var a,l,c,d,h,u,p,f;if(!i&&this.length>0){a=e(this[0]);var g=a.data(e.mask.dataName);return g?g():void 0}return r=e.extend({autoclear:e.mask.autoclear,placeholder:e.mask.placeholder,completed:null},r),l=e.mask.definitions,c=[],d=p=i.length,h=null,e.each(i.split(""),function(e,t){"?"==t?(p--,d=e):l[t]?(c.push(new RegExp(l[t])),null===h&&(h=c.length-1),d>e&&(u=c.length-1)):c.push(null)}),this.trigger("unmask").each(function(){function a(){if(r.completed){for(var e=h;u>=e;e++)if(c[e]&&S[e]===g(e))return;r.completed.call(z)}}function g(e){return r.placeholder.charAt(e<r.placeholder.length?e:0)}function m(e){for(;++e<p&&!c[e];);return e}function _(e){for(;--e>=0&&!c[e];);return e}function v(e,t){var i,s;if(!(0>e)){for(i=e,s=m(t);p>i;i++)if(c[i]){if(!(p>s&&c[i].test(S[s])))break;S[i]=S[s],S[s]=g(s),s=m(s)}C(),z.caret(Math.max(h,e))}}function y(e){var t,i,s,n;for(t=e,i=g(e);p>t;t++)if(c[t]){if(s=m(t),n=S[t],S[t]=i,!(p>s&&c[s].test(n)))break;i=n}}function w(){var e=z.val(),t=z.caret();if(f&&f.length&&f.length>e.length){for(T(!0);t.begin>0&&!c[t.begin-1];)t.begin--;if(0===t.begin)for(;t.begin<h&&!c[t.begin];)t.begin++;z.caret(t.begin,t.begin)}else{for(T(!0);t.begin<p&&!c[t.begin];)t.begin++;z.caret(t.begin,t.begin)}a()}function b(){T(),z.val()!=E&&z.change()}function x(e){if(!z.prop("readonly")){var t,i,n,o=e.which||e.keyCode;f=z.val(),8===o||46===o||s&&127===o?(t=z.caret(),i=t.begin,n=t.end,n-i==0&&(i=46!==o?_(i):n=m(i-1),n=46===o?m(n):n),j(i,n),v(i,n-1),e.preventDefault()):13===o?b.call(this,e):27===o&&(z.val(E),z.caret(0,T()),e.preventDefault())}}function k(t){if(!z.prop("readonly")){var i,s,n,r=t.which||t.keyCode,l=z.caret();if(!(t.ctrlKey||t.altKey||t.metaKey||32>r)&&r&&13!==r){if(l.end-l.begin!=0&&(j(l.begin,l.end),v(l.begin,l.end-1)),i=m(l.begin-1),p>i&&(s=String.fromCharCode(r),c[i].test(s))){if(y(i),S[i]=s,C(),n=m(i),o){var d=function(){e.proxy(e.fn.caret,z,n)()};setTimeout(d,0)}else z.caret(n);l.begin<=u&&a()}t.preventDefault()}}}function j(e,t){var i;for(i=e;t>i&&p>i;i++)c[i]&&(S[i]=g(i))}function C(){z.val(S.join(""))}function T(e){var t,i,s,n=z.val(),o=-1;for(t=0,s=0;p>t;t++)if(c[t]){for(S[t]=g(t);s++<n.length;)if(i=n.charAt(s-1),c[t].test(i)){S[t]=i,o=t;break}if(s>n.length){j(t+1,p);break}}else S[t]===n.charAt(s)&&s++,d>t&&(o=t);return e?C():d>o+1?r.autoclear||S.join("")===W?(z.val()&&z.val(""),j(0,p)):C():(C(),z.val(z.val().substring(0,o+1))),d?t:h}var z=e(this),S=e.map(i.split(""),function(e,t){return"?"!=e?l[e]?g(t):e:void 0}),W=S.join(""),E=z.val();z.data(e.mask.dataName,function(){return e.map(S,function(e,t){return c[t]&&e!=g(t)?e:null}).join("")}),z.one("unmask",function(){z.off(".mask").removeData(e.mask.dataName)}).on("focus.mask",function(){if(!z.prop("readonly")){clearTimeout(t);var e;E=z.val(),e=T(),t=setTimeout(function(){z.get(0)===document.activeElement&&(C(),e==i.replace("?","").length?z.caret(0,e):z.caret(e))},10)}}).on("blur.mask",b).on("keydown.mask",x).on("keypress.mask",k).on("input.mask paste.mask",function(){z.prop("readonly")||setTimeout(function(){var e=T(!0);z.caret(e),a()},0)}),n&&o&&z.off("input.mask").on("input.mask",w),T()})}})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var r=t||window.event,a=l.call(arguments,1),c=0,h=0,u=0,p=0,f=0,g=0;if(t=e.event.fix(r),t.type="mousewheel","detail"in r&&(u=r.detail*-1),"wheelDelta"in r&&(u=r.wheelDelta),"wheelDeltaY"in r&&(u=r.wheelDeltaY),"wheelDeltaX"in r&&(h=r.wheelDeltaX*-1),"axis"in r&&r.axis===r.HORIZONTAL_AXIS&&(h=u*-1,u=0),c=0===u?h:u,"deltaY"in r&&(u=r.deltaY*-1,c=u),"deltaX"in r&&(h=r.deltaX,0===u&&(c=h*-1)),0!==u||0!==h){if(1===r.deltaMode){var m=e.data(this,"mousewheel-line-height");c*=m,u*=m,h*=m}else if(2===r.deltaMode){var _=e.data(this,"mousewheel-page-height");c*=_,u*=_,h*=_}if(p=Math.max(Math.abs(u),Math.abs(h)),(!o||p<o)&&(o=p,s(r,p)&&(o/=40)),s(r,p)&&(c/=40,h/=40,u/=40),c=Math[c>=1?"floor":"ceil"](c/o),h=Math[h>=1?"floor":"ceil"](h/o),u=Math[u>=1?"floor":"ceil"](u/o),d.settings.normalizeOffset&&this.getBoundingClientRect){var v=this.getBoundingClientRect();f=t.clientX-v.left,g=t.clientY-v.top}return t.deltaX=h,t.deltaY=u,t.deltaFactor=o,t.offsetX=f,t.offsetY=g,t.deltaMode=0,a.unshift(t,c,h,u),n&&clearTimeout(n),n=setTimeout(i,200),(e.event.dispatch||e.event.handle).apply(this,a)}}function i(){o=null}function s(e,t){return d.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}var n,o,r=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(e.event.fixHooks)for(var c=r.length;c;)e.event.fixHooks[r[--c]]=e.event.mouseHooks;var d=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var i=a.length;i;)this.addEventListener(a[--i],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",d.getLineHeight(this)),e.data(this,"mousewheel-page-height",d.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=a.length;i;)this.removeEventListener(a[--i],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var i=e(t),s=i["offsetParent"in e.fn?"offsetParent":"parent"]();return s.length||(s=e("body")),parseInt(s.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),function(e,t,i,s){function n(t,i){this.settings=null,this.options=e.extend({},n.Defaults,i),this.$element=e(t),this.drag=e.extend({},u),this.state=e.extend({},p),this.e=e.extend({},f),this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._invalidated={},this._pipe=[],e.each(n.Plugins,e.proxy(function(e,t){this._plugins[e[0].toLowerCase()+e.slice(1)]=new t(this)},this)),e.each(n.Pipe,e.proxy(function(t,i){this._pipe.push({filter:i.filter,run:e.proxy(i.run,this)})},this)),this.setup(),this.initialize()}function o(e){if(e.touches!==s)return{x:e.touches[0].pageX,y:e.touches[0].pageY};if(e.touches===s){if(e.pageX!==s)return{x:e.pageX,y:e.pageY};if(e.pageX===s)return{x:e.clientX,y:e.clientY}}}function r(e){var t,s,n=i.createElement("div"),o=e;for(t in o)if(s=o[t],void 0!==n.style[s])return n=null,[s,t];return[!1]}function a(){return r(["transition","WebkitTransition","MozTransition","OTransition"])[1]}function l(){return r(["transform","WebkitTransform","MozTransform","OTransform","msTransform"])[0]}function c(){return r(["perspective","webkitPerspective","MozPerspective","OPerspective","MsPerspective"])[0]}function d(){return"ontouchstart"in t||!!navigator.msMaxTouchPoints}function h(){return t.navigator.msPointerEnabled}var u,p,f;u={start:0,startX:0,startY:0,current:0,currentX:0,currentY:0,offsetX:0,offsetY:0,distance:null,startTime:0,endTime:0,updatedX:0,targetEl:null},p={isTouch:!1,isScrolling:!1,isSwiping:!1,direction:!1,inMotion:!1},f={_onDragStart:null,_onDragMove:null,_onDragEnd:null,_transitionEnd:null,_resizer:null,_responsiveCall:null,_goToLoop:null,_checkVisibile:null},n.Defaults={items:3,loop:!1,center:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:t,responsiveClass:!1,fallbackEasing:"swing",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",themeClass:"owl-theme",baseClass:"owl-carousel",itemClass:"owl-item",centerClass:"center",activeClass:"active"},n.Width={Default:"default",Inner:"inner",Outer:"outer"},n.Plugins={},n.Pipe=[{filter:["width","items","settings"],run:function(e){e.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){var e=this._clones;(this.$stage.children(".cloned").length!==e.length||!this.settings.loop&&e.length>0)&&(this.$stage.children(".cloned").remove(),this._clones=[])}},{filter:["items","settings"],run:function(){var e,t,i=this._clones,s=this._items,n=this.settings.loop?i.length-Math.max(2*this.settings.items,4):0;for(e=0,t=Math.abs(n/2);t>e;e++)n>0?(this.$stage.children().eq(s.length+i.length-1).remove(),i.pop(),this.$stage.children().eq(0).remove(),i.pop()):(i.push(i.length/2),this.$stage.append(s[i[i.length-1]].clone().addClass("cloned")),i.push(s.length-1-(i.length-1)/2),this.$stage.prepend(s[i[i.length-1]].clone().addClass("cloned")))}},{filter:["width","items","settings"],run:function(){var e,t,i,s=this.settings.rtl?1:-1,n=(this.width()/this.settings.items).toFixed(3),o=0;for(this._coordinates=[],t=0,i=this._clones.length+this._items.length;i>t;t++)e=this._mergers[this.relative(t)],e=this.settings.mergeFit&&Math.min(e,this.settings.items)||e,o+=(this.settings.autoWidth?this._items[this.relative(t)].width()+this.settings.margin:n*e)*s,this._coordinates.push(o)}},{filter:["width","items","settings"],run:function(){var t,i,s=(this.width()/this.settings.items).toFixed(3),n={width:Math.abs(this._coordinates[this._coordinates.length-1])+2*this.settings.stagePadding,"padding-left":this.settings.stagePadding||"","padding-right":this.settings.stagePadding||""};if(this.$stage.css(n),n={width:this.settings.autoWidth?"auto":s-this.settings.margin},n[this.settings.rtl?"margin-left":"margin-right"]=this.settings.margin,!this.settings.autoWidth&&e.grep(this._mergers,function(e){return e>1}).length>0)for(t=0,i=this._coordinates.length;i>t;t++)n.width=Math.abs(this._coordinates[t])-Math.abs(this._coordinates[t-1]||0)-this.settings.margin,this.$stage.children().eq(t).css(n);else this.$stage.children().css(n)}},{filter:["width","items","settings"],run:function(e){e.current&&this.reset(this.$stage.children().index(e.current))}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){
var e,t,i,s,n=this.settings.rtl?1:-1,o=2*this.settings.stagePadding,r=this.coordinates(this.current())+o,a=r+this.width()*n,l=[];for(i=0,s=this._coordinates.length;s>i;i++)e=this._coordinates[i-1]||0,t=Math.abs(this._coordinates[i])+o*n,(this.op(e,"<=",r)&&this.op(e,">",a)||this.op(t,"<",r)&&this.op(t,">",a))&&l.push(i);this.$stage.children("."+this.settings.activeClass).removeClass(this.settings.activeClass),this.$stage.children(":eq("+l.join("), :eq(")+")").addClass(this.settings.activeClass),this.settings.center&&(this.$stage.children("."+this.settings.centerClass).removeClass(this.settings.centerClass),this.$stage.children().eq(this.current()).addClass(this.settings.centerClass))}}],n.prototype.initialize=function(){if(this.trigger("initialize"),this.$element.addClass(this.settings.baseClass).addClass(this.settings.themeClass).toggleClass("owl-rtl",this.settings.rtl),this.browserSupport(),this.settings.autoWidth&&this.state.imagesLoaded!==!0){var t,i,n;if(t=this.$element.find("img"),i=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:s,n=this.$element.children(i).width(),t.length&&0>=n)return this.preloadAutoWidthImages(t),!1}this.$element.addClass("owl-loading"),this.$stage=e("<"+this.settings.stageElement+' class="owl-stage"/>').wrap('<div class="owl-stage-outer">'),this.$element.append(this.$stage.parent()),this.replace(this.$element.children().not(this.$stage.parent())),this._width=this.$element.width(),this.refresh(),this.$element.removeClass("owl-loading").addClass("owl-loaded"),this.eventsCall(),this.internalEvents(),this.addTriggerableEvents(),this.trigger("initialized")},n.prototype.setup=function(){var t=this.viewport(),i=this.options.responsive,s=-1,n=null;i?(e.each(i,function(e){t>=e&&e>s&&(s=Number(e))}),n=e.extend({},this.options,i[s]),delete n.responsive,n.responsiveClass&&this.$element.attr("class",function(e,t){return t.replace(/\b owl-responsive-\S+/g,"")}).addClass("owl-responsive-"+s)):n=e.extend({},this.options),(null===this.settings||this._breakpoint!==s)&&(this.trigger("change",{property:{name:"settings",value:n}}),this._breakpoint=s,this.settings=n,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}}))},n.prototype.optionsLogic=function(){this.$element.toggleClass("owl-center",this.settings.center),this.settings.loop&&this._items.length<this.settings.items&&(this.settings.loop=!1),this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},n.prototype.prepare=function(t){var i=this.trigger("prepare",{content:t});return i.data||(i.data=e("<"+this.settings.itemElement+"/>").addClass(this.settings.itemClass).append(t)),this.trigger("prepared",{content:i.data}),i.data},n.prototype.update=function(){for(var t=0,i=this._pipe.length,s=e.proxy(function(e){return this[e]},this._invalidated),n={};i>t;)(this._invalidated.all||e.grep(this._pipe[t].filter,s).length>0)&&this._pipe[t].run(n),t++;this._invalidated={}},n.prototype.width=function(e){switch(e=e||n.Width.Default){case n.Width.Inner:case n.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},n.prototype.refresh=function(){if(0===this._items.length)return!1;(new Date).getTime(),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$stage.addClass("owl-refresh"),this.update(),this.$stage.removeClass("owl-refresh"),this.state.orientation=t.orientation,this.watchVisibility(),this.trigger("refreshed")},n.prototype.eventsCall=function(){this.e._onDragStart=e.proxy(function(e){this.onDragStart(e)},this),this.e._onDragMove=e.proxy(function(e){this.onDragMove(e)},this),this.e._onDragEnd=e.proxy(function(e){this.onDragEnd(e)},this),this.e._onResize=e.proxy(function(e){this.onResize(e)},this),this.e._transitionEnd=e.proxy(function(e){this.transitionEnd(e)},this),this.e._preventClick=e.proxy(function(e){this.preventClick(e)},this)},n.prototype.onThrottledResize=function(){t.clearTimeout(this.resizeTimer),this.resizeTimer=t.setTimeout(this.e._onResize,this.settings.responsiveRefreshRate)},n.prototype.onResize=function(){return!!this._items.length&&(this._width!==this.$element.width()&&(!this.trigger("resize").isDefaultPrevented()&&(this._width=this.$element.width(),this.invalidate("width"),this.refresh(),void this.trigger("resized"))))},n.prototype.eventsRouter=function(e){var t=e.type;"mousedown"===t||"touchstart"===t?this.onDragStart(e):"mousemove"===t||"touchmove"===t?this.onDragMove(e):"mouseup"===t||"touchend"===t?this.onDragEnd(e):"touchcancel"===t&&this.onDragEnd(e)},n.prototype.internalEvents=function(){var i=(d(),h());this.settings.mouseDrag?(this.$stage.on("mousedown",e.proxy(function(e){this.eventsRouter(e)},this)),this.$stage.on("dragstart",function(){return!1}),this.$stage.get(0).onselectstart=function(){return!1}):this.$element.addClass("owl-text-select-on"),this.settings.touchDrag&&!i&&this.$stage.on("touchstart touchcancel",e.proxy(function(e){this.eventsRouter(e)},this)),this.transitionEndVendor&&this.on(this.$stage.get(0),this.transitionEndVendor,this.e._transitionEnd,!1),this.settings.responsive!==!1&&this.on(t,"resize",e.proxy(this.onThrottledResize,this))},n.prototype.onDragStart=function(s){var n,r,a,l;if(n=s.originalEvent||s||t.event,3===n.which||this.state.isTouch)return!1;if("mousedown"===n.type&&this.$stage.addClass("owl-grab"),this.trigger("drag"),this.drag.startTime=(new Date).getTime(),this.speed(0),this.state.isTouch=!0,this.state.isScrolling=!1,this.state.isSwiping=!1,this.drag.distance=0,r=o(n).x,a=o(n).y,this.drag.offsetX=this.$stage.position().left,this.drag.offsetY=this.$stage.position().top,this.settings.rtl&&(this.drag.offsetX=this.$stage.position().left+this.$stage.width()-this.width()+this.settings.margin),this.state.inMotion&&this.support3d)l=this.getTransformProperty(),this.drag.offsetX=l,this.animate(l),this.state.inMotion=!0;else if(this.state.inMotion&&!this.support3d)return this.state.inMotion=!1,!1;this.drag.startX=r-this.drag.offsetX,this.drag.startY=a-this.drag.offsetY,this.drag.start=r-this.drag.startX,this.drag.targetEl=n.target||n.srcElement,this.drag.updatedX=this.drag.start,("IMG"===this.drag.targetEl.tagName||"A"===this.drag.targetEl.tagName)&&(this.drag.targetEl.draggable=!1),e(i).on("mousemove.owl.dragEvents mouseup.owl.dragEvents touchmove.owl.dragEvents touchend.owl.dragEvents",e.proxy(function(e){this.eventsRouter(e)},this))},n.prototype.onDragMove=function(e){var i,n,r,a,l,c;this.state.isTouch&&(this.state.isScrolling||(i=e.originalEvent||e||t.event,n=o(i).x,r=o(i).y,this.drag.currentX=n-this.drag.startX,this.drag.currentY=r-this.drag.startY,this.drag.distance=this.drag.currentX-this.drag.offsetX,this.drag.distance<0?this.state.direction=this.settings.rtl?"right":"left":this.drag.distance>0&&(this.state.direction=this.settings.rtl?"left":"right"),this.settings.loop?this.op(this.drag.currentX,">",this.coordinates(this.minimum()))&&"right"===this.state.direction?this.drag.currentX-=(this.settings.center&&this.coordinates(0))-this.coordinates(this._items.length):this.op(this.drag.currentX,"<",this.coordinates(this.maximum()))&&"left"===this.state.direction&&(this.drag.currentX+=(this.settings.center&&this.coordinates(0))-this.coordinates(this._items.length)):(a=this.coordinates(this.settings.rtl?this.maximum():this.minimum()),l=this.coordinates(this.settings.rtl?this.minimum():this.maximum()),c=this.settings.pullDrag?this.drag.distance/5:0,this.drag.currentX=Math.max(Math.min(this.drag.currentX,a+c),l+c)),(this.drag.distance>8||this.drag.distance<-8)&&(i.preventDefault!==s?i.preventDefault():i.returnValue=!1,this.state.isSwiping=!0),this.drag.updatedX=this.drag.currentX,(this.drag.currentY>16||this.drag.currentY<-16)&&this.state.isSwiping===!1&&(this.state.isScrolling=!0,this.drag.updatedX=this.drag.start),this.animate(this.drag.updatedX)))},n.prototype.onDragEnd=function(t){var s,n,o;if(this.state.isTouch){if("mouseup"===t.type&&this.$stage.removeClass("owl-grab"),this.trigger("dragged"),this.drag.targetEl.removeAttribute("draggable"),this.state.isTouch=!1,this.state.isScrolling=!1,this.state.isSwiping=!1,0===this.drag.distance&&this.state.inMotion!==!0)return this.state.inMotion=!1,!1;this.drag.endTime=(new Date).getTime(),s=this.drag.endTime-this.drag.startTime,n=Math.abs(this.drag.distance),(n>3||s>300)&&this.removeClick(this.drag.targetEl),o=this.closest(this.drag.updatedX),this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(o),this.invalidate("position"),this.update(),this.settings.pullDrag||this.drag.updatedX!==this.coordinates(o)||this.transitionEnd(),this.drag.distance=0,e(i).off(".owl.dragEvents")}},n.prototype.removeClick=function(i){this.drag.targetEl=i,e(i).on("click.preventClick",this.e._preventClick),t.setTimeout(function(){e(i).off("click.preventClick")},300)},n.prototype.preventClick=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),e(t.target).off("click.preventClick")},n.prototype.getTransformProperty=function(){var e,i;return e=t.getComputedStyle(this.$stage.get(0),null).getPropertyValue(this.vendorName+"transform"),e=e.replace(/matrix(3d)?\(|\)/g,"").split(","),i=16===e.length,i!==!0?e[4]:e[12]},n.prototype.closest=function(t){var i=-1,s=this.width(),n=this.coordinates();return this.settings.freeDrag||e.each(n,e.proxy(function(e,o){return t>o-30&&o+30>t?i=e:this.op(t,"<",o)&&this.op(t,">",n[e+1]||o-s)&&(i="left"===this.state.direction?e+1:e),-1===i},this)),this.settings.loop||(this.op(t,">",n[this.minimum()])?i=t=this.minimum():this.op(t,"<",n[this.maximum()])&&(i=t=this.maximum())),i},n.prototype.animate=function(t){this.trigger("translate"),this.state.inMotion=this.speed()>0,this.support3d?this.$stage.css({transform:"translate3d("+t+"px,0px, 0px)",transition:this.speed()/1e3+"s"}):this.state.isTouch?this.$stage.css({left:t+"px"}):this.$stage.animate({left:t},this.speed()/1e3,this.settings.fallbackEasing,e.proxy(function(){this.state.inMotion&&this.transitionEnd()},this))},n.prototype.current=function(e){if(e===s)return this._current;if(0===this._items.length)return s;if(e=this.normalize(e),this._current!==e){var t=this.trigger("change",{property:{name:"position",value:e}});t.data!==s&&(e=this.normalize(t.data)),this._current=e,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},n.prototype.invalidate=function(e){this._invalidated[e]=!0},n.prototype.reset=function(e){(e=this.normalize(e))!==s&&(this._speed=0,this._current=e,this.suppress(["translate","translated"]),this.animate(this.coordinates(e)),this.release(["translate","translated"]))},n.prototype.normalize=function(t,i){var n=i?this._items.length:this._items.length+this._clones.length;return!e.isNumeric(t)||1>n?s:t=this._clones.length?(t%n+n)%n:Math.max(this.minimum(i),Math.min(this.maximum(i),t))},n.prototype.relative=function(e){return e=this.normalize(e),e-=this._clones.length/2,this.normalize(e,!0)},n.prototype.maximum=function(e){var t,i,s,n=0,o=this.settings;if(e)return this._items.length-1;if(!o.loop&&o.center)t=this._items.length-1;else if(o.loop||o.center)if(o.loop||o.center)t=this._items.length+o.items;else{if(!o.autoWidth&&!o.merge)throw"Can not detect maximum absolute position.";for(revert=o.rtl?1:-1,i=this.$stage.width()-this.$element.width();(s=this.coordinates(n))&&!(s*revert>=i);)t=++n}else t=this._items.length-o.items;return t},n.prototype.minimum=function(e){return e?0:this._clones.length/2},n.prototype.items=function(e){return e===s?this._items.slice():(e=this.normalize(e,!0),this._items[e])},n.prototype.mergers=function(e){return e===s?this._mergers.slice():(e=this.normalize(e,!0),this._mergers[e])},n.prototype.clones=function(t){var i=this._clones.length/2,n=i+this._items.length,o=function(e){return e%2==0?n+e/2:i-(e+1)/2};return t===s?e.map(this._clones,function(e,t){return o(t)}):e.map(this._clones,function(e,i){return e===t?o(i):null})},n.prototype.speed=function(e){return e!==s&&(this._speed=e),this._speed},n.prototype.coordinates=function(t){var i=null;return t===s?e.map(this._coordinates,e.proxy(function(e,t){return this.coordinates(t)},this)):(this.settings.center?(i=this._coordinates[t],i+=(this.width()-i+(this._coordinates[t-1]||0))/2*(this.settings.rtl?-1:1)):i=this._coordinates[t-1]||0,i)},n.prototype.duration=function(e,t,i){return Math.min(Math.max(Math.abs(t-e),1),6)*Math.abs(i||this.settings.smartSpeed)},n.prototype.to=function(i,s){if(this.settings.loop){var n=i-this.relative(this.current()),o=this.current(),r=this.current(),a=this.current()+n,l=0>r-a,c=this._clones.length+this._items.length;a<this.settings.items&&l===!1?(o=r+this._items.length,this.reset(o)):a>=c-this.settings.items&&l===!0&&(o=r-this._items.length,this.reset(o)),t.clearTimeout(this.e._goToLoop),this.e._goToLoop=t.setTimeout(e.proxy(function(){this.speed(this.duration(this.current(),o+n,s)),this.current(o+n),this.update()},this),30)}else this.speed(this.duration(this.current(),i,s)),this.current(i),this.update()},n.prototype.next=function(e){e=e||!1,this.to(this.relative(this.current())+1,e)},n.prototype.prev=function(e){e=e||!1,this.to(this.relative(this.current())-1,e)},n.prototype.transitionEnd=function(e){return(e===s||(e.stopPropagation(),(e.target||e.srcElement||e.originalTarget)===this.$stage.get(0)))&&(this.state.inMotion=!1,void this.trigger("translated"))},n.prototype.viewport=function(){var s;if(this.options.responsiveBaseElement!==t)s=e(this.options.responsiveBaseElement).width();else if(t.innerWidth)s=t.innerWidth;else{if(!i.documentElement||!i.documentElement.clientWidth)throw"Can not detect viewport width.";s=i.documentElement.clientWidth}return s},n.prototype.replace=function(t){this.$stage.empty(),this._items=[],t&&(t=t instanceof jQuery?t:e(t)),this.settings.nestedItemSelector&&(t=t.find("."+this.settings.nestedItemSelector)),t.filter(function(){return 1===this.nodeType}).each(e.proxy(function(e,t){t=this.prepare(t),this.$stage.append(t),this._items.push(t),this._mergers.push(1*t.find("[data-merge]").andSelf("[data-merge]").attr("data-merge")||1)},this)),this.reset(e.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},n.prototype.add=function(e,t){t=t===s?this._items.length:this.normalize(t,!0),this.trigger("add",{content:e,position:t}),0===this._items.length||t===this._items.length?(this.$stage.append(e),this._items.push(e),this._mergers.push(1*e.find("[data-merge]").andSelf("[data-merge]").attr("data-merge")||1)):(this._items[t].before(e),this._items.splice(t,0,e),this._mergers.splice(t,0,1*e.find("[data-merge]").andSelf("[data-merge]").attr("data-merge")||1)),this.invalidate("items"),this.trigger("added",{content:e,position:t})},n.prototype.remove=function(e){(e=this.normalize(e,!0))!==s&&(this.trigger("remove",{content:this._items[e],position:e}),this._items[e].remove(),this._items.splice(e,1),this._mergers.splice(e,1),this.invalidate("items"),this.trigger("removed",{content:null,position:e}))},n.prototype.addTriggerableEvents=function(){var t=e.proxy(function(t,i){return e.proxy(function(e){e.relatedTarget!==this&&(this.suppress([i]),t.apply(this,[].slice.call(arguments,1)),this.release([i]))},this)},this);e.each({next:this.next,prev:this.prev,to:this.to,destroy:this.destroy,refresh:this.refresh,replace:this.replace,add:this.add,remove:this.remove},e.proxy(function(e,i){this.$element.on(e+".owl.carousel",t(i,e+".owl.carousel"))},this))},n.prototype.watchVisibility=function(){function i(e){return e.offsetWidth>0&&e.offsetHeight>0}function s(){i(this.$element.get(0))&&(this.$element.removeClass("owl-hidden"),this.refresh(),t.clearInterval(this.e._checkVisibile))}i(this.$element.get(0))||(this.$element.addClass("owl-hidden"),t.clearInterval(this.e._checkVisibile),this.e._checkVisibile=t.setInterval(e.proxy(s,this),500))},n.prototype.preloadAutoWidthImages=function(t){var i,s,n,o;i=0,s=this,t.each(function(r,a){n=e(a),o=new Image,o.onload=function(){i++,n.attr("src",o.src),n.css("opacity",1),i>=t.length&&(s.state.imagesLoaded=!0,s.initialize())},o.src=n.attr("src")||n.attr("data-src")||n.attr("data-src-retina")})},n.prototype.destroy=function(){this.$element.hasClass(this.settings.themeClass)&&this.$element.removeClass(this.settings.themeClass),this.settings.responsive!==!1&&e(t).off("resize.owl.carousel"),this.transitionEndVendor&&this.off(this.$stage.get(0),this.transitionEndVendor,this.e._transitionEnd);for(var s in this._plugins)this._plugins[s].destroy();(this.settings.mouseDrag||this.settings.touchDrag)&&(this.$stage.off("mousedown touchstart touchcancel"),e(i).off(".owl.dragEvents"),this.$stage.get(0).onselectstart=function(){},this.$stage.off("dragstart",function(){return!1})),this.$element.off(".owl"),this.$stage.children(".cloned").remove(),this.e=null,this.$element.removeData("owlCarousel"),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$stage.unwrap()},n.prototype.op=function(e,t,i){var s=this.settings.rtl;switch(t){case"<":return s?e>i:i>e;case">":return s?i>e:e>i;case">=":return s?i>=e:e>=i;case"<=":return s?e>=i:i>=e}},n.prototype.on=function(e,t,i,s){e.addEventListener?e.addEventListener(t,i,s):e.attachEvent&&e.attachEvent("on"+t,i)},n.prototype.off=function(e,t,i,s){e.removeEventListener?e.removeEventListener(t,i,s):e.detachEvent&&e.detachEvent("on"+t,i)},n.prototype.trigger=function(t,i,s){var n={item:{count:this._items.length,index:this.current()}},o=e.camelCase(e.grep(["on",t,s],function(e){return e}).join("-").toLowerCase()),r=e.Event([t,"owl",s||"carousel"].join(".").toLowerCase(),e.extend({relatedTarget:this},n,i));return this._supress[t]||(e.each(this._plugins,function(e,t){t.onTrigger&&t.onTrigger(r)}),this.$element.trigger(r),this.settings&&"function"==typeof this.settings[o]&&this.settings[o].apply(this,r)),r},n.prototype.suppress=function(t){e.each(t,e.proxy(function(e,t){this._supress[t]=!0},this))},n.prototype.release=function(t){e.each(t,e.proxy(function(e,t){delete this._supress[t]},this))},n.prototype.browserSupport=function(){if(this.support3d=c(),this.support3d){this.transformVendor=l();var e=["transitionend","webkitTransitionEnd","transitionend","oTransitionEnd"];this.transitionEndVendor=e[a()],this.vendorName=this.transformVendor.replace(/Transform/i,""),this.vendorName=""!==this.vendorName?"-"+this.vendorName.toLowerCase()+"-":""}this.state.orientation=t.orientation},e.fn.owlCarousel=function(t){return this.each(function(){e(this).data("owlCarousel")||e(this).data("owlCarousel",new n(this,t))})},e.fn.owlCarousel.Constructor=n}(window.Zepto||window.jQuery,window,document),function(e,t){var i=function(t){this._core=t,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel":e.proxy(function(t){if(t.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(t.property&&"position"==t.property.name||"initialized"==t.type))for(var i=this._core.settings,s=i.center&&Math.ceil(i.items/2)||i.items,n=i.center&&-1*s||0,o=(t.property&&t.property.value||this._core.current())+n,r=this._core.clones().length,a=e.proxy(function(e,t){this.load(t)},this);n++<s;)this.load(r/2+this._core.relative(o)),r&&e.each(this._core.clones(this._core.relative(o++)),a)},this)},this._core.options=e.extend({},i.Defaults,this._core.options),this._core.$element.on(this._handlers)};i.Defaults={lazyLoad:!1},i.prototype.load=function(i){var s=this._core.$stage.children().eq(i),n=s&&s.find(".owl-lazy");!n||e.inArray(s.get(0),this._loaded)>-1||(n.each(e.proxy(function(i,s){var n,o=e(s),r=t.devicePixelRatio>1&&o.attr("data-src-retina")||o.attr("data-src");this._core.trigger("load",{element:o,url:r},"lazy"),o.is("img")?o.one("load.owl.lazy",e.proxy(function(){o.css("opacity",1),this._core.trigger("loaded",{element:o,url:r},"lazy")},this)).attr("src",r):(n=new Image,n.onload=e.proxy(function(){o.css({"background-image":"url("+r+")",opacity:"1"}),this._core.trigger("loaded",{element:o,url:r},"lazy")},this),n.src=r)},this)),this._loaded.push(s.get(0)))},i.prototype.destroy=function(){var e,t;for(e in this.handlers)this._core.$element.off(e,this.handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.Lazy=i}(window.Zepto||window.jQuery,window,document),function(e){var t=function(i){this._core=i,this._handlers={"initialized.owl.carousel":e.proxy(function(){this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":e.proxy(function(e){this._core.settings.autoHeight&&"position"==e.property.name&&this.update()},this),"loaded.owl.lazy":e.proxy(function(e){this._core.settings.autoHeight&&e.element.closest("."+this._core.settings.itemClass)===this._core.$stage.children().eq(this._core.current())&&this.update()},this)},this._core.options=e.extend({},t.Defaults,this._core.options),this._core.$element.on(this._handlers)};t.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},t.prototype.update=function(){this._core.$stage.parent().height(this._core.$stage.children().eq(this._core.current()).height()).addClass(this._core.settings.autoHeightClass)},t.prototype.destroy=function(){var e,t;for(e in this._handlers)this._core.$element.off(e,this._handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.AutoHeight=t}(window.Zepto||window.jQuery,window,document),function(e,t,i){var s=function(t){this._core=t,this._videos={},this._playing=null,this._fullscreen=!1,this._handlers={"resize.owl.carousel":e.proxy(function(e){this._core.settings.video&&!this.isInFullScreen()&&e.preventDefault()},this),"refresh.owl.carousel changed.owl.carousel":e.proxy(function(){this._playing&&this.stop()},this),"prepared.owl.carousel":e.proxy(function(t){var i=e(t.content).find(".owl-video");i.length&&(i.css("display","none"),this.fetch(i,e(t.content)))},this)},this._core.options=e.extend({},s.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",e.proxy(function(e){this.play(e)},this))};s.Defaults={video:!1,videoHeight:!1,videoWidth:!1},s.prototype.fetch=function(e,t){var i=e.attr("data-vimeo-id")?"vimeo":"youtube",s=e.attr("data-vimeo-id")||e.attr("data-youtube-id"),n=e.attr("data-width")||this._core.settings.videoWidth,o=e.attr("data-height")||this._core.settings.videoHeight,r=e.attr("href");if(!r)throw new Error("Missing video URL.");if(s=r.match(/(http:|https:|)\/\/(player.|www.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com))\/(video\/|embed\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),s[3].indexOf("youtu")>-1)i="youtube";else{if(!(s[3].indexOf("vimeo")>-1))throw new Error("Video URL not supported.");i="vimeo"}s=s[6],this._videos[r]={type:i,id:s,width:n,height:o},t.attr("data-video",r),this.thumbnail(e,this._videos[r])},s.prototype.thumbnail=function(t,i){var s,n,o,r=i.width&&i.height?'style="width:'+i.width+"px;height:"+i.height+'px;"':"",a=t.find("img"),l="src",c="",d=this._core.settings,h=function(e){n='<div class="owl-video-play-icon"></div>',s=d.lazyLoad?'<div class="owl-video-tn '+c+'" '+l+'="'+e+'"></div>':'<div class="owl-video-tn" style="opacity:1;background-image:url('+e+')"></div>',t.after(s),t.after(n)};return t.wrap('<div class="owl-video-wrapper"'+r+"></div>"),this._core.settings.lazyLoad&&(l="data-src",c="owl-lazy"),a.length?(h(a.attr(l)),a.remove(),!1):void("youtube"===i.type?(o="http://img.youtube.com/vi/"+i.id+"/hqdefault.jpg",h(o)):"vimeo"===i.type&&e.ajax({type:"GET",url:"http://vimeo.com/api/v2/video/"+i.id+".json",jsonp:"callback",dataType:"jsonp",success:function(e){o=e[0].thumbnail_large,h(o)}}))},s.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null},s.prototype.play=function(t){this._core.trigger("play",null,"video"),this._playing&&this.stop();var i,s,n=e(t.target||t.srcElement),o=n.closest("."+this._core.settings.itemClass),r=this._videos[o.attr("data-video")],a=r.width||"100%",l=r.height||this._core.$stage.height();"youtube"===r.type?i='<iframe width="'+a+'" height="'+l+'" src="http://www.youtube.com/embed/'+r.id+"?autoplay=1&v="+r.id+'" frameborder="0" allowfullscreen></iframe>':"vimeo"===r.type&&(i='<iframe src="http://player.vimeo.com/video/'+r.id+'?autoplay=1" width="'+a+'" height="'+l+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>'),o.addClass("owl-video-playing"),this._playing=o,s=e('<div style="height:'+l+"px; width:"+a+'px" class="owl-video-frame">'+i+"</div>"),n.after(s)},s.prototype.isInFullScreen=function(){var s=i.fullscreenElement||i.mozFullScreenElement||i.webkitFullscreenElement;return s&&e(s).parent().hasClass("owl-video-frame")&&(this._core.speed(0),this._fullscreen=!0),!(s&&this._fullscreen&&this._playing)&&(this._fullscreen?(this._fullscreen=!1,!1):!this._playing||this._core.state.orientation===t.orientation||(this._core.state.orientation=t.orientation,!1))},s.prototype.destroy=function(){var e,t;this._core.$element.off("click.owl.video");for(e in this._handlers)this._core.$element.off(e,this._handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.Video=s}(window.Zepto||window.jQuery,window,document),function(e,t,i,s){var n=function(t){this.core=t,this.core.options=e.extend({},n.Defaults,this.core.options),this.swapping=!0,this.previous=s,this.next=s,this.handlers={"change.owl.carousel":e.proxy(function(e){"position"==e.property.name&&(this.previous=this.core.current(),this.next=e.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":e.proxy(function(e){this.swapping="translated"==e.type},this),"translate.owl.carousel":e.proxy(function(){this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};n.Defaults={animateOut:!1,animateIn:!1},n.prototype.swap=function(){if(1===this.core.settings.items&&this.core.support3d){this.core.speed(0);var t,i=e.proxy(this.clear,this),s=this.core.$stage.children().eq(this.previous),n=this.core.$stage.children().eq(this.next),o=this.core.settings.animateIn,r=this.core.settings.animateOut;this.core.current()!==this.previous&&(r&&(t=this.core.coordinates(this.previous)-this.core.coordinates(this.next),s.css({left:t+"px"}).addClass("animated owl-animated-out").addClass(r).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",i)),o&&n.addClass("animated owl-animated-in").addClass(o).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",i))}},n.prototype.clear=function(t){e(t.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.transitionEnd()},n.prototype.destroy=function(){var e,t;for(e in this.handlers)this.core.$element.off(e,this.handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.Animate=n}(window.Zepto||window.jQuery,window,document),function(e,t,i){var s=function(t){this.core=t,this.core.options=e.extend({},s.Defaults,this.core.options),this.handlers={"translated.owl.carousel refreshed.owl.carousel":e.proxy(function(){this.autoplay()},this),"play.owl.autoplay":e.proxy(function(e,t,i){this.play(t,i)},this),"stop.owl.autoplay":e.proxy(function(){this.stop()},this),"mouseover.owl.autoplay":e.proxy(function(){this.core.settings.autoplayHoverPause&&this.pause()},this),"mouseleave.owl.autoplay":e.proxy(function(){this.core.settings.autoplayHoverPause&&this.autoplay()},this)},this.core.$element.on(this.handlers)};s.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},s.prototype.autoplay=function(){this.core.settings.autoplay&&!this.core.state.videoPlay?(t.clearInterval(this.interval),this.interval=t.setInterval(e.proxy(function(){this.play()},this),this.core.settings.autoplayTimeout)):t.clearInterval(this.interval)},s.prototype.play=function(){return i.hidden===!0||this.core.state.isTouch||this.core.state.isScrolling||this.core.state.isSwiping||this.core.state.inMotion?void 0:this.core.settings.autoplay===!1?void t.clearInterval(this.interval):void this.core.next(this.core.settings.autoplaySpeed)},s.prototype.stop=function(){t.clearInterval(this.interval)},s.prototype.pause=function(){t.clearInterval(this.interval)},s.prototype.destroy=function(){var e,i;t.clearInterval(this.interval);for(e in this.handlers)this.core.$element.off(e,this.handlers[e]);for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},e.fn.owlCarousel.Constructor.Plugins.autoplay=s}(window.Zepto||window.jQuery,window,document),function(e){"use strict";var t=function(i){this._core=i,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":e.proxy(function(t){this._core.settings.dotsData&&this._templates.push(e(t.content).find("[data-dot]").andSelf("[data-dot]").attr("data-dot"))},this),"add.owl.carousel":e.proxy(function(t){this._core.settings.dotsData&&this._templates.splice(t.position,0,e(t.content).find("[data-dot]").andSelf("[data-dot]").attr("data-dot"))},this),"remove.owl.carousel prepared.owl.carousel":e.proxy(function(e){this._core.settings.dotsData&&this._templates.splice(e.position,1)},this),"change.owl.carousel":e.proxy(function(e){if("position"==e.property.name&&!this._core.state.revert&&!this._core.settings.loop&&this._core.settings.navRewind){var t=this._core.current(),i=this._core.maximum(),s=this._core.minimum();e.data=e.property.value>i?t>=i?s:i:e.property.value<s?i:e.property.value}},this),"changed.owl.carousel":e.proxy(function(e){"position"==e.property.name&&this.draw()},this),"refreshed.owl.carousel":e.proxy(function(){this._initialized||(this.initialize(),this._initialized=!0),this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation")},this)},this._core.options=e.extend({},t.Defaults,this._core.options),this.$element.on(this._handlers)};t.Defaults={nav:!1,navRewind:!0,navText:["prev","next"],navSpeed:!1,navElement:"div",navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotData:!1,dotsSpeed:!1,dotsContainer:!1,controlsClass:"owl-controls"},t.prototype.initialize=function(){var t,i,s=this._core.settings;s.dotsData||(this._templates=[e("<div>").addClass(s.dotClass).append(e("<span>")).prop("outerHTML")]),s.navContainer&&s.dotsContainer||(this._controls.$container=e("<div>").addClass(s.controlsClass).appendTo(this.$element)),this._controls.$indicators=s.dotsContainer?e(s.dotsContainer):e("<div>").hide().addClass(s.dotsClass).appendTo(this._controls.$container),this._controls.$indicators.on("click","div",e.proxy(function(t){var i=e(t.target).parent().is(this._controls.$indicators)?e(t.target).index():e(t.target).parent().index();t.preventDefault(),this.to(i,s.dotsSpeed)},this)),t=s.navContainer?e(s.navContainer):e("<div>").addClass(s.navContainerClass).prependTo(this._controls.$container),this._controls.$next=e("<"+s.navElement+">"),this._controls.$previous=this._controls.$next.clone(),this._controls.$previous.addClass(s.navClass[0]).html(s.navText[0]).hide().prependTo(t).on("click",e.proxy(function(){this.prev(s.navSpeed)},this)),this._controls.$next.addClass(s.navClass[1]).html(s.navText[1]).hide().appendTo(t).on("click",e.proxy(function(){this.next(s.navSpeed)},this));for(i in this._overrides)this._core[i]=e.proxy(this[i],this)},t.prototype.destroy=function(){var e,t,i,s
;for(e in this._handlers)this.$element.off(e,this._handlers[e]);for(t in this._controls)this._controls[t].remove();for(s in this.overides)this._core[s]=this._overrides[s];for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},t.prototype.update=function(){var e,t,i,s=this._core.settings,n=this._core.clones().length/2,o=n+this._core.items().length,r=s.center||s.autoWidth||s.dotData?1:s.dotsEach||s.items;if("page"!==s.slideBy&&(s.slideBy=Math.min(s.slideBy,s.items)),s.dots||"page"==s.slideBy)for(this._pages=[],e=n,t=0,i=0;o>e;e++)(t>=r||0===t)&&(this._pages.push({start:e-n,end:e-n+r-1}),t=0,++i),t+=this._core.mergers(this._core.relative(e))},t.prototype.draw=function(){var t,i,s="",n=this._core.settings,o=(this._core.$stage.children(),this._core.relative(this._core.current()));if(!n.nav||n.loop||n.navRewind||(this._controls.$previous.toggleClass("disabled",0>=o),this._controls.$next.toggleClass("disabled",o>=this._core.maximum())),this._controls.$previous.toggle(n.nav),this._controls.$next.toggle(n.nav),n.dots){if(t=this._pages.length-this._controls.$indicators.children().length,n.dotData&&0!==t){for(i=0;i<this._controls.$indicators.children().length;i++)s+=this._templates[this._core.relative(i)];this._controls.$indicators.html(s)}else t>0?(s=new Array(t+1).join(this._templates[0]),this._controls.$indicators.append(s)):0>t&&this._controls.$indicators.children().slice(t).remove();this._controls.$indicators.find(".active").removeClass("active"),this._controls.$indicators.children().eq(e.inArray(this.current(),this._pages)).addClass("active")}this._controls.$indicators.toggle(n.dots)},t.prototype.onTrigger=function(t){var i=this._core.settings;t.page={index:e.inArray(this.current(),this._pages),count:this._pages.length,size:i&&(i.center||i.autoWidth||i.dotData?1:i.dotsEach||i.items)}},t.prototype.current=function(){var t=this._core.relative(this._core.current());return e.grep(this._pages,function(e){return e.start<=t&&e.end>=t}).pop()},t.prototype.getPosition=function(t){var i,s,n=this._core.settings;return"page"==n.slideBy?(i=e.inArray(this.current(),this._pages),s=this._pages.length,t?++i:--i,i=this._pages[(i%s+s)%s].start):(i=this._core.relative(this._core.current()),s=this._core.items().length,t?i+=n.slideBy:i-=n.slideBy),i},t.prototype.next=function(t){e.proxy(this._overrides.to,this._core)(this.getPosition(!0),t)},t.prototype.prev=function(t){e.proxy(this._overrides.to,this._core)(this.getPosition(!1),t)},t.prototype.to=function(t,i,s){var n;s?e.proxy(this._overrides.to,this._core)(t,i):(n=this._pages.length,e.proxy(this._overrides.to,this._core)(this._pages[(t%n+n)%n].start,i))},e.fn.owlCarousel.Constructor.Plugins.Navigation=t}(window.Zepto||window.jQuery,window,document),function(e,t){"use strict";var i=function(s){this._core=s,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":e.proxy(function(){"URLHash"==this._core.settings.startPosition&&e(t).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":e.proxy(function(t){var i=e(t.content).find("[data-hash]").andSelf("[data-hash]").attr("data-hash");this._hashes[i]=t.content},this)},this._core.options=e.extend({},i.Defaults,this._core.options),this.$element.on(this._handlers),e(t).on("hashchange.owl.navigation",e.proxy(function(){var e=t.location.hash.substring(1),i=this._core.$stage.children(),s=this._hashes[e]&&i.index(this._hashes[e])||0;return!!e&&void this._core.to(s,!1,!0)},this))};i.Defaults={URLhashListener:!1},i.prototype.destroy=function(){var i,s;e(t).off("hashchange.owl.navigation");for(i in this._handlers)this._core.$element.off(i,this._handlers[i]);for(s in Object.getOwnPropertyNames(this))"function"!=typeof this[s]&&(this[s]=null)},e.fn.owlCarousel.Constructor.Plugins.Hash=i}(window.Zepto||window.jQuery,window,document),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):window.jQuery||window.Zepto)}(function(e){var t,i,s,n,o,r,a="Close",l="BeforeClose",c="MarkupParse",d="Open",h="Change",u="mfp",p="."+u,f="mfp-ready",g="mfp-removing",m="mfp-prevent-close",_=function(){},v=!!window.jQuery,y=e(window),w=function(e,i){t.ev.on(u+e+p,i)},b=function(t,i,s,n){var o=document.createElement("div");return o.className="mfp-"+t,s&&(o.innerHTML=s),n?i&&i.appendChild(o):(o=e(o),i&&o.appendTo(i)),o},x=function(i,s){t.ev.triggerHandler(u+i,s),t.st.callbacks&&(i=i.charAt(0).toLowerCase()+i.slice(1),t.st.callbacks[i]&&t.st.callbacks[i].apply(t,e.isArray(s)?s:[s]))},k=function(i){return i===r&&t.currTemplate.closeBtn||(t.currTemplate.closeBtn=e(t.st.closeMarkup.replace("%title%",t.st.tClose)),r=i),t.currTemplate.closeBtn},j=function(){e.magnificPopup.instance||(t=new _,t.init(),e.magnificPopup.instance=t)},C=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1};_.prototype={constructor:_,init:function(){var i=navigator.appVersion;t.isLowIE=t.isIE8=document.all&&!document.addEventListener,t.isAndroid=/android/gi.test(i),t.isIOS=/iphone|ipad|ipod/gi.test(i),t.supportsTransition=C(),t.probablyMobile=t.isAndroid||t.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),s=e(document),t.popupsCache={}},open:function(i){var n;if(i.isObj===!1){t.items=i.items.toArray(),t.index=0;var r,a=i.items;for(n=0;n<a.length;n++)if(r=a[n],r.parsed&&(r=r.el[0]),r===i.el[0]){t.index=n;break}}else t.items=e.isArray(i.items)?i.items:[i.items],t.index=i.index||0;if(t.isOpen)return void t.updateItemHTML();t.types=[],o="",i.mainEl&&i.mainEl.length?t.ev=i.mainEl.eq(0):t.ev=s,i.key?(t.popupsCache[i.key]||(t.popupsCache[i.key]={}),t.currTemplate=t.popupsCache[i.key]):t.currTemplate={},t.st=e.extend(!0,{},e.magnificPopup.defaults,i),t.fixedContentPos="auto"===t.st.fixedContentPos?!t.probablyMobile:t.st.fixedContentPos,t.st.modal&&(t.st.closeOnContentClick=!1,t.st.closeOnBgClick=!1,t.st.showCloseBtn=!1,t.st.enableEscapeKey=!1),t.bgOverlay||(t.bgOverlay=b("bg").on("click"+p,function(){t.close()}),t.wrap=b("wrap").attr("tabindex",-1).on("click"+p,function(e){t._checkIfClose(e.target)&&t.close()}),t.container=b("container",t.wrap)),t.contentContainer=b("content"),t.st.preloader&&(t.preloader=b("preloader",t.container,t.st.tLoading));var l=e.magnificPopup.modules;for(n=0;n<l.length;n++){var h=l[n];h=h.charAt(0).toUpperCase()+h.slice(1),t["init"+h].call(t)}x("BeforeOpen"),t.st.showCloseBtn&&(t.st.closeBtnInside?(w(c,function(e,t,i,s){i.close_replaceWith=k(s.type)}),o+=" mfp-close-btn-in"):t.wrap.append(k())),t.st.alignTop&&(o+=" mfp-align-top"),t.fixedContentPos?t.wrap.css({overflow:t.st.overflowY,overflowX:"hidden",overflowY:t.st.overflowY}):t.wrap.css({top:y.scrollTop(),position:"absolute"}),(t.st.fixedBgPos===!1||"auto"===t.st.fixedBgPos&&!t.fixedContentPos)&&t.bgOverlay.css({height:s.height(),position:"absolute"}),t.st.enableEscapeKey&&s.on("keyup"+p,function(e){27===e.keyCode&&t.close()}),y.on("resize"+p,function(){t.updateSize()}),t.st.closeOnContentClick||(o+=" mfp-auto-cursor"),o&&t.wrap.addClass(o);var u=t.wH=y.height(),g={};if(t.fixedContentPos&&t._hasScrollBar(u)){var m=t._getScrollbarSize();m&&(g.marginRight=m)}t.fixedContentPos&&(t.isIE7?e("body, html").css("overflow","hidden"):g.overflow="hidden");var _=t.st.mainClass;return t.isIE7&&(_+=" mfp-ie7"),_&&t._addClassToMFP(_),t.updateItemHTML(),x("BuildControls"),e("html").css(g),t.bgOverlay.add(t.wrap).prependTo(t.st.prependTo||e(document.body)),t._lastFocusedEl=document.activeElement,setTimeout(function(){t.content?(t._addClassToMFP(f),t._setFocus()):t.bgOverlay.addClass(f),s.on("focusin"+p,t._onFocusIn)},16),t.isOpen=!0,t.updateSize(u),x(d),i},close:function(){t.isOpen&&(x(l),t.isOpen=!1,t.st.removalDelay&&!t.isLowIE&&t.supportsTransition?(t._addClassToMFP(g),setTimeout(function(){t._close()},t.st.removalDelay)):t._close())},_close:function(){x(a);var i=g+" "+f+" ";if(t.bgOverlay.detach(),t.wrap.detach(),t.container.empty(),t.st.mainClass&&(i+=t.st.mainClass+" "),t._removeClassFromMFP(i),t.fixedContentPos){var n={marginRight:""};t.isIE7?e("body, html").css("overflow",""):n.overflow="",e("html").css(n)}s.off("keyup.mfp focusin"+p),t.ev.off(p),t.wrap.attr("class","mfp-wrap").removeAttr("style"),t.bgOverlay.attr("class","mfp-bg"),t.container.attr("class","mfp-container"),!t.st.showCloseBtn||t.st.closeBtnInside&&t.currTemplate[t.currItem.type]!==!0||t.currTemplate.closeBtn&&t.currTemplate.closeBtn.detach(),t.st.autoFocusLast&&t._lastFocusedEl&&e(t._lastFocusedEl).focus(),t.currItem=null,t.content=null,t.currTemplate=null,t.prevHeight=0,x("AfterClose")},updateSize:function(e){if(t.isIOS){var i=document.documentElement.clientWidth/window.innerWidth,s=window.innerHeight*i;t.wrap.css("height",s),t.wH=s}else t.wH=e||y.height();t.fixedContentPos||t.wrap.css("height",t.wH),x("Resize")},updateItemHTML:function(){var i=t.items[t.index];t.contentContainer.detach(),t.content&&t.content.detach(),i.parsed||(i=t.parseEl(t.index));var s=i.type;if(x("BeforeChange",[t.currItem?t.currItem.type:"",s]),t.currItem=i,!t.currTemplate[s]){var o=!!t.st[s]&&t.st[s].markup;x("FirstMarkupParse",o),t.currTemplate[s]=!o||e(o)}n&&n!==i.type&&t.container.removeClass("mfp-"+n+"-holder");var r=t["get"+s.charAt(0).toUpperCase()+s.slice(1)](i,t.currTemplate[s]);t.appendContent(r,s),i.preloaded=!0,x(h,i),n=i.type,t.container.prepend(t.contentContainer),x("AfterChange")},appendContent:function(e,i){t.content=e,e?t.st.showCloseBtn&&t.st.closeBtnInside&&t.currTemplate[i]===!0?t.content.find(".mfp-close").length||t.content.append(k()):t.content=e:t.content="",x("BeforeAppend"),t.container.addClass("mfp-"+i+"-holder"),t.contentContainer.append(t.content)},parseEl:function(i){var s,n=t.items[i];if(n.tagName?n={el:e(n)}:(s=n.type,n={data:n,src:n.src}),n.el){for(var o=t.types,r=0;r<o.length;r++)if(n.el.hasClass("mfp-"+o[r])){s=o[r];break}n.src=n.el.attr("data-mfp-src"),n.src||(n.src=n.el.attr("href"))}return n.type=s||t.st.type||"inline",n.index=i,n.parsed=!0,t.items[i]=n,x("ElementParse",n),t.items[i]},addGroup:function(e,i){var s=function(s){s.mfpEl=this,t._openClick(s,e,i)};i||(i={});var n="click.magnificPopup";i.mainEl=e,i.items?(i.isObj=!0,e.off(n).on(n,s)):(i.isObj=!1,i.delegate?e.off(n).on(n,i.delegate,s):(i.items=e,e.off(n).on(n,s)))},_openClick:function(i,s,n){if((void 0!==n.midClick?n.midClick:e.magnificPopup.defaults.midClick)||!(2===i.which||i.ctrlKey||i.metaKey||i.altKey||i.shiftKey)){var o=void 0!==n.disableOn?n.disableOn:e.magnificPopup.defaults.disableOn;if(o)if(e.isFunction(o)){if(!o.call(t))return!0}else if(y.width()<o)return!0;i.type&&(i.preventDefault(),t.isOpen&&i.stopPropagation()),n.el=e(i.mfpEl),n.delegate&&(n.items=s.find(n.delegate)),t.open(n)}},updateStatus:function(e,s){if(t.preloader){i!==e&&t.container.removeClass("mfp-s-"+i),s||"loading"!==e||(s=t.st.tLoading);var n={status:e,text:s};x("UpdateStatus",n),e=n.status,s=n.text,t.preloader.html(s),t.preloader.find("a").on("click",function(e){e.stopImmediatePropagation()}),t.container.addClass("mfp-s-"+e),i=e}},_checkIfClose:function(i){if(!e(i).hasClass(m)){var s=t.st.closeOnContentClick,n=t.st.closeOnBgClick;if(s&&n)return!0;if(!t.content||e(i).hasClass("mfp-close")||t.preloader&&i===t.preloader[0])return!0;if(i===t.content[0]||e.contains(t.content[0],i)){if(s)return!0}else if(n&&e.contains(document,i))return!0;return!1}},_addClassToMFP:function(e){t.bgOverlay.addClass(e),t.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),t.wrap.removeClass(e)},_hasScrollBar:function(e){return(t.isIE7?s.height():document.body.scrollHeight)>(e||y.height())},_setFocus:function(){(t.st.focus?t.content.find(t.st.focus).eq(0):t.wrap).focus()},_onFocusIn:function(i){return i.target===t.wrap[0]||e.contains(t.wrap[0],i.target)?void 0:(t._setFocus(),!1)},_parseMarkup:function(t,i,s){var n;s.data&&(i=e.extend(s.data,i)),x(c,[t,i,s]),e.each(i,function(i,s){if(void 0===s||s===!1)return!0;if(n=i.split("_"),n.length>1){var o=t.find(p+"-"+n[0]);if(o.length>0){var r=n[1];"replaceWith"===r?o[0]!==s[0]&&o.replaceWith(s):"img"===r?o.is("img")?o.attr("src",s):o.replaceWith(e("<img>").attr("src",s).attr("class",o.attr("class"))):o.attr(n[1],s)}}else t.find(p+"-"+i).html(s)})},_getScrollbarSize:function(){if(void 0===t.scrollbarSize){var e=document.createElement("div");e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),t.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return t.scrollbarSize}},e.magnificPopup={instance:null,proto:_.prototype,modules:[],open:function(t,i){return j(),t=t?e.extend(!0,{},t):{},t.isObj=!0,t.index=i||0,this.instance.open(t)},close:function(){return e.magnificPopup.instance&&e.magnificPopup.instance.close()},registerModule:function(t,i){i.options&&(e.magnificPopup.defaults[t]=i.options),e.extend(this.proto,i.proto),this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},e.fn.magnificPopup=function(i){j();var s=e(this);if("string"==typeof i)if("open"===i){var n,o=v?s.data("magnificPopup"):s[0].magnificPopup,r=parseInt(arguments[1],10)||0;o.items?n=o.items[r]:(n=s,o.delegate&&(n=n.find(o.delegate)),n=n.eq(r)),t._openClick({mfpEl:n},s,o)}else t.isOpen&&t[i].apply(t,Array.prototype.slice.call(arguments,1));else i=e.extend(!0,{},i),v?s.data("magnificPopup",i):s[0].magnificPopup=i,t.addGroup(s,i);return s};var T,z,S,W="inline",E=function(){S&&(z.after(S.addClass(T)).detach(),S=null)};e.magnificPopup.registerModule(W,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){t.types.push(W),w(a+"."+W,function(){E()})},getInline:function(i,s){if(E(),i.src){var n=t.st.inline,o=e(i.src);if(o.length){var r=o[0].parentNode;r&&r.tagName&&(z||(T=n.hiddenClass,z=b(T),T="mfp-"+T),S=o.after(z).detach().removeClass(T)),t.updateStatus("ready")}else t.updateStatus("error",n.tNotFound),o=e("<div>");return i.inlineElement=o,o}return t.updateStatus("ready"),t._parseMarkup(s,{},i),s}}});var $,O="ajax",L=function(){$&&e(document.body).removeClass($)},D=function(){L(),t.req&&t.req.abort()};e.magnificPopup.registerModule(O,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){t.types.push(O),$=t.st.ajax.cursor,w(a+"."+O,D),w("BeforeChange."+O,D)},getAjax:function(i){$&&e(document.body).addClass($),t.updateStatus("loading");var s=e.extend({url:i.src,success:function(s,n,o){var r={data:s,xhr:o};x("ParseAjax",r),t.appendContent(e(r.data),O),i.finished=!0,L(),t._setFocus(),setTimeout(function(){t.wrap.addClass(f)},16),t.updateStatus("ready"),x("AjaxContentAdded")},error:function(){L(),i.finished=i.loadError=!0,t.updateStatus("error",t.st.ajax.tError.replace("%url%",i.src))}},t.st.ajax.settings);return t.req=e.ajax(s),""}}});var P,A=function(i){if(i.data&&void 0!==i.data.title)return i.data.title;var s=t.st.image.titleSrc;if(s){if(e.isFunction(s))return s.call(t,i);if(i.el)return i.el.attr(s)||""}return""};e.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var i=t.st.image,s=".image";t.types.push("image"),w(d+s,function(){"image"===t.currItem.type&&i.cursor&&e(document.body).addClass(i.cursor)}),w(a+s,function(){i.cursor&&e(document.body).removeClass(i.cursor),y.off("resize"+p)}),w("Resize"+s,t.resizeImage),t.isLowIE&&w("AfterChange",t.resizeImage)},resizeImage:function(){var e=t.currItem;if(e&&e.img&&t.st.image.verticalFit){var i=0;t.isLowIE&&(i=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)),e.img.css("max-height",t.wH-i)}},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,P&&clearInterval(P),e.isCheckingImgSize=!1,x("ImageHasSize",e),e.imgHidden&&(t.content&&t.content.removeClass("mfp-loading"),e.imgHidden=!1))},findImageSize:function(e){var i=0,s=e.img[0],n=function(o){P&&clearInterval(P),P=setInterval(function(){return s.naturalWidth>0?void t._onImageHasSize(e):(i>200&&clearInterval(P),i++,void(3===i?n(10):40===i?n(50):100===i&&n(500)))},o)};n(1)},getImage:function(i,s){var n=0,o=function(){i&&(i.img[0].complete?(i.img.off(".mfploader"),i===t.currItem&&(t._onImageHasSize(i),t.updateStatus("ready")),i.hasSize=!0,i.loaded=!0,x("ImageLoadComplete")):(n++,200>n?setTimeout(o,100):r()))},r=function(){i&&(i.img.off(".mfploader"),i===t.currItem&&(t._onImageHasSize(i),t.updateStatus("error",a.tError.replace("%url%",i.src))),i.hasSize=!0,i.loaded=!0,i.loadError=!0)},a=t.st.image,l=s.find(".mfp-img");if(l.length){var c=document.createElement("img");c.className="mfp-img",i.el&&i.el.find("img").length&&(c.alt=i.el.find("img").attr("alt")),i.img=e(c).on("load.mfploader",o).on("error.mfploader",r),c.src=i.src,l.is("img")&&(i.img=i.img.clone()),c=i.img[0],c.naturalWidth>0?i.hasSize=!0:c.width||(i.hasSize=!1)}return t._parseMarkup(s,{title:A(i),img_replaceWith:i.img},i),t.resizeImage(),i.hasSize?(P&&clearInterval(P),i.loadError?(s.addClass("mfp-loading"),t.updateStatus("error",a.tError.replace("%url%",i.src))):(s.removeClass("mfp-loading"),t.updateStatus("ready")),s):(t.updateStatus("loading"),i.loading=!0,i.hasSize||(i.imgHidden=!0,s.addClass("mfp-loading"),t.findImageSize(i)),s)}}});var H,N=function(){return void 0===H&&(H=void 0!==document.createElement("p").style.MozTransform),H};e.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e,i=t.st.zoom,s=".zoom";if(i.enabled&&t.supportsTransition){var n,o,r=i.duration,c=function(e){var t=e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),s="all "+i.duration/1e3+"s "+i.easing,n={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},o="transition";return n["-webkit-"+o]=n["-moz-"+o]=n["-o-"+o]=n[o]=s,t.css(n),t},d=function(){t.content.css("visibility","visible")};w("BuildControls"+s,function(){if(t._allowZoom()){if(clearTimeout(n),t.content.css("visibility","hidden"),!(e=t._getItemToZoom()))return void d();o=c(e),o.css(t._getOffset()),t.wrap.append(o),n=setTimeout(function(){o.css(t._getOffset(!0)),n=setTimeout(function(){d(),setTimeout(function(){o.remove(),e=o=null,x("ZoomAnimationEnded")},16)},r)},16)}}),w(l+s,function(){if(t._allowZoom()){if(clearTimeout(n),t.st.removalDelay=r,!e){if(!(e=t._getItemToZoom()))return;o=c(e)}o.css(t._getOffset(!0)),t.wrap.append(o),t.content.css("visibility","hidden"),setTimeout(function(){o.css(t._getOffset())},16)}}),w(a+s,function(){t._allowZoom()&&(d(),o&&o.remove(),e=null)})}},_allowZoom:function(){return"image"===t.currItem.type},_getItemToZoom:function(){return!!t.currItem.hasSize&&t.currItem.img},_getOffset:function(i){var s;s=i?t.currItem.img:t.st.zoom.opener(t.currItem.el||t.currItem);var n=s.offset(),o=parseInt(s.css("padding-top"),10),r=parseInt(s.css("padding-bottom"),10);n.top-=e(window).scrollTop()-o;var a={width:s.width(),height:(v?s.innerHeight():s[0].offsetHeight)-r-o};return N()?a["-moz-transform"]=a.transform="translate("+n.left+"px,"+n.top+"px)":(a.left=n.left,a.top=n.top),a}}});var I="iframe",M=function(e){if(t.currTemplate[I]){var i=t.currTemplate[I].find("iframe");i.length&&(e||(i[0].src="//about:blank"),t.isIE8&&i.css("display",e?"block":"none"))}};e.magnificPopup.registerModule(I,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){t.types.push(I),w("BeforeChange",function(e,t,i){t!==i&&(t===I?M():i===I&&M(!0))}),w(a+"."+I,function(){M()})},getIframe:function(i,s){var n=i.src,o=t.st.iframe;e.each(o.patterns,function(){return n.indexOf(this.index)>-1?(this.id&&(n="string"==typeof this.id?n.substr(n.lastIndexOf(this.id)+this.id.length,n.length):this.id.call(this,n)),n=this.src.replace("%id%",n),!1):void 0});var r={};return o.srcAction&&(r[o.srcAction]=n),t._parseMarkup(s,r,i),t.updateStatus("ready"),s}}});var F=function(e){var i=t.items.length;return e>i-1?e-i:0>e?i+e:e},q=function(e,t,i){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,i)};e.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var i=t.st.gallery,n=".mfp-gallery";return t.direction=!0,!(!i||!i.enabled)&&(o+=" mfp-gallery",w(d+n,function(){i.navigateByImgClick&&t.wrap.on("click"+n,".mfp-img",function(){return t.items.length>1?(t.next(),!1):void 0}),s.on("keydown"+n,function(e){37===e.keyCode?t.prev():39===e.keyCode&&t.next()})}),w("UpdateStatus"+n,function(e,i){i.text&&(i.text=q(i.text,t.currItem.index,t.items.length))}),w(c+n,function(e,s,n,o){var r=t.items.length;n.counter=r>1?q(i.tCounter,o.index,r):""}),w("BuildControls"+n,function(){if(t.items.length>1&&i.arrows&&!t.arrowLeft){var s=i.arrowMarkup,n=t.arrowLeft=e(s.replace(/%title%/gi,i.tPrev).replace(/%dir%/gi,"left")).addClass(m),o=t.arrowRight=e(s.replace(/%title%/gi,i.tNext).replace(/%dir%/gi,"right")).addClass(m);n.click(function(){t.prev()}),o.click(function(){t.next()}),t.container.append(n.add(o))}}),w(h+n,function(){t._preloadTimeout&&clearTimeout(t._preloadTimeout),t._preloadTimeout=setTimeout(function(){t.preloadNearbyImages(),t._preloadTimeout=null},16)}),void w(a+n,function(){s.off(n),t.wrap.off("click"+n),t.arrowRight=t.arrowLeft=null}))},next:function(){t.direction=!0,t.index=F(t.index+1),t.updateItemHTML()},prev:function(){t.direction=!1,t.index=F(t.index-1),t.updateItemHTML()},goTo:function(e){t.direction=e>=t.index,t.index=e,t.updateItemHTML()},preloadNearbyImages:function(){var e,i=t.st.gallery.preload,s=Math.min(i[0],t.items.length),n=Math.min(i[1],t.items.length);for(e=1;e<=(t.direction?n:s);e++)t._preloadItem(t.index+e);for(e=1;e<=(t.direction?s:n);e++)t._preloadItem(t.index-e)},_preloadItem:function(i){if(i=F(i),!t.items[i].preloaded){var s=t.items[i];s.parsed||(s=t.parseEl(i)),x("LazyLoad",s),"image"===s.type&&(s.img=e('<img class="mfp-img" />').on("load.mfploader",function(){s.hasSize=!0}).on("error.mfploader",function(){s.hasSize=!0,s.loadError=!0,x("LazyLoadError",s)}).attr("src",s.src)),s.preloaded=!0}}}});var R="retina";e.magnificPopup.registerModule(R,{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,function(e){return"@2x"+e})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var e=t.st.retina,i=e.ratio;(i=isNaN(i)?i():i)>1&&(w("ImageHasSize."+R,function(e,t){t.img.css({"max-width":t.img[0].naturalWidth/i,width:"100%"})}),w("ElementParse."+R,function(t,s){s.src=e.replaceSrc(s,i)}))}}}}),j()}),function(e,t,i,s){if(!e.ionTabs){var n,o,r,a={},l={},c={},d=e(i),h=function(){try{if(i.localStorage&&null!==i.localStorage)return{save:function(e,t){"object"==typeof t&&(t=JSON.stringify(t));try{localStorage.setItem(e,t)}catch(i){"QUOTA_EXCEEDED_ERR"===i&&(localStorage.clear(),localStorage.setItem(e,t))}},load:function(e){try{return JSON.parse(localStorage.getItem(e))}catch(t){return localStorage.getItem(e)}},del:function(e){localStorage.removeItem(e)}}}catch(e){return{save:function(){return null},load:function(){return null},del:function(){return null}}}return null}(),u=function(e){this.container=e};u.prototype={init:function(){var t,i,o=this.container,r=o.find(".ionTabs__tab"),l=o.find(".ionTabs__item"),u=o.find(".ionTabs__preloader"),p=o.data("name");r.each(function(){t=e(this),i="Button__"+p+"__"+t.data("target"),t.prop("id",i)}),l.each(function(){t=e(this),i="Tab__"+p+"__"+t.data("name"),t.prop("id",i)}),r.on("click.ionTabs",function(t){t.preventDefault(),u[0].style.display="block",f(e(this).data("target"))});var f=function(t){t=decodeURIComponent(t),i="#Button__"+p+"__"+t,e(i).addClass("ionTabs__tab_state_active").siblings().removeClass("ionTabs__tab_state_active"),i="#Tab__"+p+"__"+t,e(i).addClass("ionTabs__item_state_active").siblings().removeClass("ionTabs__item_state_active"),u[0].style.display="none";var o;c[p]=t,n="tabs";for(o in c)c.hasOwnProperty(o)&&(n+="|"+encodeURIComponent(o)+":"+encodeURIComponent(c[o]));"hash"===a.type&&(s.hash=n),"storage"===a.type&&h.save(s.hostname+"__ionTabsPosition",n),d.trigger("ionTabsChange",{group:p,tab:t,tabId:i}),"function"==typeof a.onChange&&a.onChange({group:p,tab:t,tabId:i})};f(c[p]?c[p]:r.eq(0).data("target")),this.setTab=function(e){f(e)}}},e.ionTabs=function(t,i){if(t){var d;if(a=e.extend({type:"hash",onChange:null},i),"hash"===a.type&&(n=s.hash),"storage"===a.type&&(n=h.load(s.hostname+"__ionTabsPosition")),n){if(n=n.split("|"),1<n.length)for(o=1;o<n.length;o+=1)r=n[o].split(":"),c[decodeURIComponent(r[0])]=decodeURIComponent(r[1]);n=""}e(t).each(function(){d=e(this);var t=encodeURIComponent(d.data("name"));l[t]=new u(d),l[t].init()})}},e.ionTabs.setTab=function(e,t){l[e].setTab(t)}}}(jQuery,document,window,location),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.pickmeup=t()}(this,function(){function e(e,t,i){if(i=i||[],e instanceof Element)t.apply(t,[e].concat(i));else{var s,n;for(s=e.length,n=0;n<s;++n)t.apply(t,[e[n]].concat(i))}}function t(t){e(t,function(e){e.parentElement.removeChild(e)})}function i(e,t){do{e=e.parentElement}while(e&&!s(e,t));return e}function s(e,t){return(e.matches||e.webkitMatchesSelector||e.msMatchesSelector).call(e,t)}function n(e,t){return e&&e.classList.contains(t)}function o(e,t){e.classList.add(t)}function r(e,t,i,s){if(-1!==i.indexOf(" ")){i=i.split(" ");var n,o=i.length;for(n=0;n<o;++n)r(e,t,i[n],s)}else e.__pickmeup.events.push([t,i,s]),t.addEventListener(i,s)}function a(e,t,i,s){var n,o,r;if(-1!==i.indexOf(" "))for(n=i.split(" "),o=n.length,r=0;r<o;++r)a(e,t,n[r],s);else for(n=e.__pickmeup.events,o=n.length,r=0;r<o;++r)t&&t!=n[r][0]||i&&i!=n[r][1]||s&&s!=n[r][2]||n[r][0].removeEventListener(n[r][1],n[r][2])}function l(e){return e=e.getBoundingClientRect(),{top:e.top+window.pageYOffset-document.documentElement.clientTop,left:e.left+window.pageXOffset-document.documentElement.clientLeft}}function c(e,t,i){var s=document.createEvent("Event");return i&&(s.detail=i),s.initEvent("pickmeup-"+t,!1,!0),e.dispatchEvent(s)}function d(e){e=new Date(e);for(var t=28,i=e.getMonth();e.getMonth()==i;)++t,e.setDate(t);return t-1}function h(e,t){e.setDate(e.getDate()+t)}function u(e,t){var i=e.getDate();e.setDate(1),e.setMonth(e.getMonth()+t),e.setDate(Math.min(i,d(e)))}function p(e,t){var i=e.getDate();e.setDate(1),e.setFullYear(e.getFullYear()+t),e.setDate(Math.min(i,d(e)))}function f(e){var i,s,r,a,l,d=e.__pickmeup.element,f=e.__pickmeup.options,g=Math.floor(f.calendars/2),v=f.date,y=f.current,w=f.min?new Date(f.min):null,b=f.max?new Date(f.max):null;w&&(w.setDate(1),u(w,1),h(w,-1)),b&&(b.setDate(1),u(b,1),h(b,-1)),t(Array.prototype.slice.call(d.querySelectorAll(".pmu-instance > :not(nav)")));for(var x=0;x<f.calendars;x++)if(i=new Date(y),m(i),r=Array.prototype.slice.call(d.querySelectorAll(".pmu-instance"))[x],n(d,"pmu-view-years")?(p(i,12*(x-g)),s=i.getFullYear()-6+" - "+(i.getFullYear()+5)):n(d,"pmu-view-months")?(p(i,x-g),s=i.getFullYear()):n(d,"pmu-view-days")&&(u(i,x-g),s=_(i,f.title_format,f.locales[f.locale])),!l&&b&&(l=new Date(i),f.select_day?u(l,f.calendars-1):f.select_month?p(l,f.calendars-1):p(l,12*(f.calendars-1)),l>b))--x,u(y,-1),l=void 0;else if(l=new Date(i),!a&&(a=new Date(i),a.setDate(1),u(a,1),h(a,-1),w&&w>a))--x,u(y,1),a=void 0;else{r.querySelector(".pmu-month").textContent=s;var k=function(e){return"range"==f.mode&&e>=new Date(v[0]).getFullYear()&&e<=new Date(v[1]).getFullYear()||"multiple"==f.mode&&-1!==v.reduce(function(e,t){return e.push(new Date(t).getFullYear()),e},[]).indexOf(e)||new Date(v).getFullYear()==e},j=function(e,t){var i=new Date(v[0]).getFullYear(),s=new Date(v[1]).getFullYear(),n=new Date(v[0]).getMonth(),o=new Date(v[1]).getMonth();return"range"==f.mode&&(e>i&&e<s||e>i&&e==s&&t<=o||e==i&&e<s&&t>=n||e==i&&e==s&&t>=n&&t<=o)||"multiple"==f.mode&&-1!==v.reduce(function(e,t){return t=new Date(t),e.push(t.getFullYear()+"-"+t.getMonth()),e},[]).indexOf(e+"-"+t)||new Date(v).getFullYear()==e&&new Date(v).getMonth()==t};!function(){var e,t,s,n=[],a=i.getFullYear()-6,l=new Date(f.min).getFullYear(),c=new Date(f.max).getFullYear();for(s=0;12>s;++s)e=a+s,t=document.createElement("div"),t.textContent=e,t.__pickmeup_year=e,f.min&&e<l||f.max&&e>c?o(t,"pmu-disabled"):k(e)&&o(t,"pmu-selected"),n.push(t);r.appendChild(f.instance_content_template(n,"pmu-years"))}(),function(){var e,t,s=[],n=i.getFullYear(),a=new Date(f.min).getFullYear(),l=new Date(f.min).getMonth(),c=new Date(f.max).getFullYear(),d=new Date(f.max).getMonth();for(e=0;12>e;++e)t=document.createElement("div"),t.textContent=f.locales[f.locale].monthsShort[e],t.__pickmeup_month=e,t.__pickmeup_year=n,f.min&&(n<a||e<l&&n==a)||f.max&&(n>c||e>d&&n>=c)?o(t,"pmu-disabled"):j(n,e)&&o(t,"pmu-selected"),s.push(t);r.appendChild(f.instance_content_template(s,"pmu-months"))}(),function(){var e,t,s,n,a,l=[],c=i.getMonth(),d=m(new Date).valueOf();for(function(){i.setDate(1);var e=(i.getDay()-f.first_day)%7;h(i,-(e+(0>e?7:0)))}(),e=0;42>e;++e)t=document.createElement("div"),t.textContent=i.getDate(),t.__pickmeup_day=i.getDate(),t.__pickmeup_month=i.getMonth(),t.__pickmeup_year=i.getFullYear(),c!=i.getMonth()&&o(t,"pmu-not-in-month"),0==i.getDay()?o(t,"pmu-sunday"):6==i.getDay()&&o(t,"pmu-saturday"),s=f.render(new Date(i))||{},n=i.valueOf(),a=f.min&&f.min>i||f.max&&f.max<i,s.disabled||a?o(t,"pmu-disabled"):(s.selected||f.date.valueOf()==n||f.date instanceof Array&&f.date.reduce(function(e,t){return e||n===t.valueOf()},!1)||"range"==f.mode&&n>=f.date[0]&&n<=f.date[1])&&o(t,"pmu-selected"),n==d&&o(t,"pmu-today"),s.class_name&&s.class_name.split(" ").forEach(o.bind(t,t)),l.push(t),h(i,1);r.appendChild(f.instance_content_template(l,"pmu-days"))}()}a.setDate(1),l.setDate(1),u(l,1),h(l,-1),g=d.querySelector(".pmu-prev"),d=d.querySelector(".pmu-next"),g&&(g.style.visibility=f.min&&f.min>=a?"hidden":"visible"),d&&(d.style.visibility=f.max&&f.max<=l?"hidden":"visible"),c(e,"fill")}function g(e,t){var i=t.format,s=t.separator,n=t.locales[t.locale];if(e instanceof Date||e instanceof Number)return m(new Date(e));if(!e)return m(new Date);if(e instanceof Array){for(e=e.slice(),i=0;i<e.length;++i)e[i]=g(e[i],t);return e}if(s=e.split(s),1<s.length)return s.forEach(function(e,i,s){s[i]=g(e.trim(),t)}),s;s=n.monthsShort.join(")(")+")("+n.months.join(")("),s=new RegExp("[^0-9a-zA-Z("+s+")]+"),e=e.split(s);for(var o,r,a,l,c,s=i.split(s),d=new Date,i=0;i<e.length;i++)switch(s[i]){case"b":r=n.monthsShort.indexOf(e[i]);break;case"B":r=n.months.indexOf(e[i]);break;case"d":case"e":o=parseInt(e[i],10);break;case"m":r=parseInt(e[i],10)-1;break;case"Y":case"y":
a=parseInt(e[i],10),a+=100<a?0:29>a?2e3:1900;break;case"H":case"I":case"k":case"l":l=parseInt(e[i],10);break;case"P":case"p":/pm/i.test(e[i])&&12>l?l+=12:/am/i.test(e[i])&&12<=l&&(l-=12);break;case"M":c=parseInt(e[i],10)}return n=new Date(void 0===a?d.getFullYear():a,void 0===r?d.getMonth():r,void 0===o?d.getDate():o,void 0===l?d.getHours():l,void 0===c?d.getMinutes():c,0),isNaN(1*n)&&(n=new Date),m(n)}function m(e){return e.setHours(0,0,0,0),e}function _(e,t,i){var s,n=e.getMonth(),o=e.getDate(),r=e.getFullYear(),a=e.getDay(),l=e.getHours(),c=12<=l,d=c?l-12:l;s=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0);var h=new Date(e.getFullYear(),0,0,0,0,0);s=Math.floor((s-h)/24*36e5),0==d&&(d=12);var h=e.getMinutes(),u=e.getSeconds();t=t.split("");for(var p,f=0;f<t.length;f++){switch(p=t[f]){case"a":p=i.daysShort[a];break;case"A":p=i.days[a];break;case"b":p=i.monthsShort[n];break;case"B":p=i.months[n];break;case"C":p=1+Math.floor(r/100);break;case"d":p=10>o?"0"+o:o;break;case"e":p=o;break;case"H":p=10>l?"0"+l:l;break;case"I":p=10>d?"0"+d:d;break;case"j":p=100>s?10>s?"00"+s:"0"+s:s;break;case"k":p=l;break;case"l":p=d;break;case"m":p=9>n?"0"+(1+n):1+n;break;case"M":p=10>h?"0"+h:h;break;case"p":case"P":p=c?"PM":"AM";break;case"s":p=Math.floor(e.getTime()/1e3);break;case"S":p=10>u?"0"+u:u;break;case"u":p=a+1;break;case"w":p=a;break;case"y":p=(""+r).substr(2,2);break;case"Y":p=r}t[f]=p}return t.join("")}function v(e,t){var i,n=e.__pickmeup.options;m(t);e:{var o;switch(n.mode){case"multiple":for(o=t.valueOf(),i=0;i<n.date.length;++i)if(n.date[i].valueOf()===o){n.date.splice(i,1);break e}n.date.push(t);break;case"range":n.lastSel||(n.date[0]=t),t<=n.date[0]?(n.date[1]=n.date[0],n.date[0]=t):n.date[1]=t,n.lastSel=!n.lastSel;break;default:n.date=t.valueOf()}}t=w(n),s(e,"input")&&(e.value="single"==n.mode?t.formatted_date:t.formatted_date.join(n.separator)),c(e,"change",t),n.flat||!n.hide_on_select||"range"==n.mode&&n.lastSel||n.bound.hide()}function y(e,t){var r=t.target;if(n(r,"pmu-button")||(r=i(r,".pmu-button")),!n(r,"pmu-button")||n(r,"pmu-disabled"))return!1;t.preventDefault(),t.stopPropagation(),e=e.__pickmeup.options;var a=i(r,".pmu-instance");return t=a.parentElement,a=Array.prototype.slice.call(t.querySelectorAll(".pmu-instance")).indexOf(a),s(r.parentElement,"nav")?n(r,"pmu-month")?(u(e.current,a-Math.floor(e.calendars/2)),n(t,"pmu-view-years")?(e.current="single"!=e.mode?new Date(e.date[e.date.length-1]):new Date(e.date),e.select_day?(t.classList.remove("pmu-view-years"),o(t,"pmu-view-days")):e.select_month&&(t.classList.remove("pmu-view-years"),o(t,"pmu-view-months"))):n(t,"pmu-view-months")?e.select_year?(t.classList.remove("pmu-view-months"),o(t,"pmu-view-years")):e.select_day&&(t.classList.remove("pmu-view-months"),o(t,"pmu-view-days")):n(t,"pmu-view-days")&&(e.select_month?(t.classList.remove("pmu-view-days"),o(t,"pmu-view-months")):e.select_year&&(t.classList.remove("pmu-view-days"),o(t,"pmu-view-years")))):n(r,"pmu-prev")?e.bound.prev(!1):e.bound.next(!1):n(t,"pmu-view-years")?(e.current.setFullYear(r.__pickmeup_year),e.select_month?(t.classList.remove("pmu-view-years"),o(t,"pmu-view-months")):e.select_day?(t.classList.remove("pmu-view-years"),o(t,"pmu-view-days")):e.bound.update_date(e.current)):n(t,"pmu-view-months")?(e.current.setMonth(r.__pickmeup_month),e.current.setFullYear(r.__pickmeup_year),e.select_day?(t.classList.remove("pmu-view-months"),o(t,"pmu-view-days")):e.bound.update_date(e.current),u(e.current,Math.floor(e.calendars/2)-a)):(t=new Date(e.current),t.setYear(r.__pickmeup_year),t.setMonth(r.__pickmeup_month),t.setDate(r.__pickmeup_day),e.bound.update_date(t)),e.bound.fill(),!0}function w(e){var t;return"single"==e.mode?(t=new Date(e.date),{formatted_date:_(t,e.format,e.locales[e.locale]),date:t}):(t={formatted_date:[],date:[]},e.date.forEach(function(i){i=new Date(i),t.formatted_date.push(_(i,e.format,e.locales[e.locale])),t.date.push(i)}),t)}function b(e,t){var i=e.__pickmeup.element;if(t||n(i,"pmu-hidden")){var o=e.__pickmeup.options,a=l(e),d=window.pageXOffset,h=window.pageYOffset,u=document.documentElement.clientWidth,p=document.documentElement.clientHeight,f=a.top,g=a.left;if(o.bound.fill(),s(e,"input")&&((t=e.value)&&o.bound.set_date(t),r(e,e,"keydown",function(e){9==e.which&&o.bound.hide()}),o.lastSel=!1),c(e,"show")&&!o.flat){switch(o.position){case"top":f-=i.offsetHeight;break;case"left":g-=i.offsetWidth;break;case"right":g+=e.offsetWidth;break;case"bottom":f+=e.offsetHeight}f+i.offsetHeight>h+p&&(f=a.top-i.offsetHeight),f<h&&(f=a.top+e.offsetHeight),g+i.offsetWidth>d+u&&(g=a.left-i.offsetWidth),g<d&&(g=a.left+e.offsetWidth),i.style.top=f+"px",i.style.left=g+"px",i.classList.remove("pmu-hidden"),setTimeout(function(){r(e,document.documentElement,"click",o.bound.hide),r(e,window,"resize",o.bound.forced_show)})}}}function x(e,t){var i=e.__pickmeup.element,s=e.__pickmeup.options;t&&t.target&&(t.target==e||16&i.compareDocumentPosition(t.target))||!c(e,"hide")||(o(i,"pmu-hidden"),a(e,document.documentElement,"click",s.bound.hide),a(e,window,"resize",s.bound.forced_show),s.lastSel=!1)}function k(e){var t=e.__pickmeup.options;a(e,document.documentElement,"click",t.bound.hide),a(e,window,"resize",t.bound.forced_show),t.bound.forced_show()}function j(e){e=e.__pickmeup.options,"single"!=e.mode&&(e.date=[],e.lastSel=!1,e.bound.fill())}function C(e,t){void 0===t&&(t=!0);var i=e.__pickmeup.element;e=e.__pickmeup.options,n(i,"pmu-view-years")?p(e.current,-12):n(i,"pmu-view-months")?p(e.current,-1):n(i,"pmu-view-days")&&u(e.current,-1),t&&e.bound.fill()}function T(e,t){void 0===t&&(t=!0);var i=e.__pickmeup.element;e=e.__pickmeup.options,n(i,"pmu-view-years")?p(e.current,12):n(i,"pmu-view-months")?p(e.current,1):n(i,"pmu-view-days")&&u(e.current,1),t&&e.bound.fill()}function z(e,t){var i=e.__pickmeup.options;return e=w(i),"string"==typeof t?(e=e.date,e instanceof Date?_(e,t,i.locales[i.locale]):e.map(function(e){return _(e,t,i.locales[i.locale])})):e[t?"formatted_date":"date"]}function S(e,t,i){var n=e.__pickmeup.options;if(!(t instanceof Array)||0<t.length)if(n.date=g(t,n),"single"!=n.mode)for(n.date instanceof Array?(n.date[0]=n.date[0]||g(new Date,n),"range"==n.mode&&(n.date[1]=n.date[1]||g(n.date[0],n))):(n.date=[n.date],"range"==n.mode&&n.date.push(g(n.date[0],n))),t=0;t<n.date.length;++t)n.date[t]=E(n.date[t],n.min,n.max);else n.date instanceof Array&&(n.date=n.date[0]),n.date=E(n.date,n.min,n.max);else n.date=[];if(!n.select_day)if(n.date instanceof Array)for(t=0;t<n.date.length;++t)n.date[t].setDate(1);else n.date.setDate(1);if("multiple"==n.mode)for(t=0;t<n.date.length;++t)n.date.indexOf(n.date[t])!==t&&(n.date.splice(t,1),--t);i?n.current=g(i,n):(i="single"===n.mode?n.date:n.date[n.date.length-1],n.current=i?new Date(i):new Date),n.current.setDate(1),n.bound.fill(),s(e,"input")&&!1!==n.default_date&&(i=w(n),t=e.value,n="single"==n.mode?i.formatted_date:i.formatted_date.join(n.separator),t||c(e,"change",i),t!=n&&(e.value=n))}function W(e){var i=e.__pickmeup.element;a(e),t(i),delete e.__pickmeup}function E(e,t,i){return t&&t>e?new Date(t):i&&i<e?new Date(i):e}function $(e,t){if("string"==typeof e&&(e=document.querySelector(e)),!e.__pickmeup){var i,s={};t=t||{};for(i in $.defaults)s[i]=i in t?t[i]:$.defaults[i];for(i in s)null!==(t=e.getAttribute("data-pmu-"+i))&&(s[i]=t);"days"!=s.view||s.select_day||(s.view="months"),"months"!=s.view||s.select_month||(s.view="years"),"years"!=s.view||s.select_year||(s.view="days"),"days"!=s.view||s.select_day||(s.view="months"),s.calendars=Math.max(1,parseInt(s.calendars,10)||1),s.mode=/single|multiple|range/.test(s.mode)?s.mode:"single",s.min&&(s.min=g(s.min,s),s.select_day||s.min.setDate(1)),s.max&&(s.max=g(s.max,s),s.select_day||s.max.setDate(1)),t=document.createElement("div"),e.__pickmeup={options:s,events:[],element:t},t.__pickmeup_target=e,o(t,"pickmeup"),s.class_name&&o(t,s.class_name),s.bound={fill:f.bind(e,e),update_date:v.bind(e,e),click:y.bind(e,e),show:b.bind(e,e),forced_show:b.bind(e,e,!0),hide:x.bind(e,e),update:k.bind(e,e),clear:j.bind(e,e),prev:C.bind(e,e),next:T.bind(e,e),get_date:z.bind(e,e),set_date:S.bind(e,e),destroy:W.bind(e,e)},o(t,"pmu-view-"+s.view);var n=s.instance_template(s),a="";for(i=0;i<s.calendars;++i)a+=n;t.innerHTML=a,r(e,t,"click",s.bound.click),r(e,t,"onselectstart"in Element.prototype?"selectstart":"mousedown",function(e){e.preventDefault()}),s.flat?(o(t,"pmu-flat"),e.appendChild(t)):(o(t,"pmu-hidden"),document.body.appendChild(t),r(e,e,"click",b.bind(e,e,!1)),r(e,e,"input",s.bound.update),r(e,e,"change",s.bound.update)),s.bound.set_date(s.date,s.current)}return s=e.__pickmeup.options,{hide:s.bound.hide,show:s.bound.show,clear:s.bound.clear,update:s.bound.update,prev:s.bound.prev,next:s.bound.next,get_date:s.bound.get_date,set_date:s.bound.set_date,destroy:s.bound.destroy}}return $.defaults={current:null,date:new Date,default_date:new Date,flat:!1,first_day:1,prev:"&#9664;",next:"&#9654;",mode:"single",select_year:!0,select_month:!0,select_day:!0,view:"days",calendars:1,format:"d-m-Y",title_format:"B, Y",position:"bottom",class_name:"",separator:" - ",hide_on_select:!1,min:null,max:null,render:function(){},locale:"en",locales:{en:{days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),daysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),daysMin:"Su Mo Tu We Th Fr Sa".split(" "),months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")}},instance_template:function(e){var t=e.locales[e.locale].daysMin.slice();return e.first_day&&t.push(t.shift()),'<div class="pmu-instance"><nav><div class="pmu-prev pmu-button">'+e.prev+'</div><div class="pmu-month pmu-button"></div><div class="pmu-next pmu-button">'+e.next+'</div></nav><nav class="pmu-day-of-week"><div>'+t.join("</div><div>")+"</div></nav></div>"},instance_content_template:function(e,t){var i=document.createElement("div");for(o(i,t),t=0;t<e.length;++t)o(e[t],"pmu-button"),i.appendChild(e[t]);return i}},$}),function(e){"function"==typeof define&&define.amd?define(["jquery"],function(t){e(t,document,window,navigator)}):e(jQuery,document,window,navigator)}(function(e,t,i,s,n){var o=0,r=function(){var t=s.userAgent,i=/msie\s\d+/i;return 0<t.search(i)&&(t=i.exec(t).toString(),9>(t=t.split(" ")[1]))&&(e("html").addClass("lt-ie9"),!0)}();Function.prototype.bind||(Function.prototype.bind=function(e){var t=this,i=[].slice;if("function"!=typeof t)throw new TypeError;var s=i.call(arguments,1),n=function(){if(this instanceof n){var o=function(){};o.prototype=t.prototype;var o=new o,r=t.apply(o,s.concat(i.call(arguments)));return Object(r)===r?r:o}return t.apply(e,s.concat(i.call(arguments)))};return n}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var i;if(null==this)throw new TypeError('"this" is null or not defined');var s=Object(this),n=s.length>>>0;if(0===n)return-1;if(i=+t||0,1/0===Math.abs(i)&&(i=0),i>=n)return-1;for(i=Math.max(0<=i?i:n-Math.abs(i),0);i<n;){if(i in s&&s[i]===e)return i;i++}return-1});var a=function(s,n,o){this.VERSION="2.1.4",this.input=s,this.plugin_count=o,this.old_to=this.old_from=this.update_tm=this.calc_count=this.current_plugin=0,this.raf_id=this.old_min_interval=null,this.is_update=this.is_key=this.no_diapason=this.force_redraw=this.dragging=!1,this.is_start=!0,this.is_click=this.is_resize=this.is_active=this.is_finish=!1,this.$cache={win:e(i),body:e(t.body),input:e(s),cont:null,rs:null,min:null,max:null,from:null,to:null,single:null,bar:null,line:null,s_single:null,s_from:null,s_to:null,shad_single:null,shad_from:null,shad_to:null,edge:null,grid:null,grid_labels:[]},this.coords={x_gap:0,x_pointer:0,w_rs:0,w_rs_old:0,w_handle:0,p_gap:0,p_gap_left:0,p_gap_right:0,p_step:0,p_pointer:0,p_handle:0,p_single_fake:0,p_single_real:0,p_from_fake:0,p_from_real:0,p_to_fake:0,p_to_real:0,p_bar_x:0,p_bar_w:0,grid_gap:0,big_num:0,big:[],big_w:[],big_p:[],big_x:[]},this.labels={w_min:0,w_max:0,w_from:0,w_to:0,w_single:0,p_min:0,p_max:0,p_from_fake:0,p_from_left:0,p_to_fake:0,p_to_left:0,p_single_fake:0,p_single_left:0};var r=this.$cache.input;s=r.prop("value");var a;o={type:"single",min:10,max:100,from:null,to:null,step:1,min_interval:0,max_interval:0,drag_interval:!1,values:[],p_values:[],from_fixed:!1,from_min:null,from_max:null,from_shadow:!1,to_fixed:!1,to_min:null,to_max:null,to_shadow:!1,prettify_enabled:!0,prettify_separator:" ",prettify:null,force_edges:!1,keyboard:!1,keyboard_step:5,grid:!1,grid_margin:!0,grid_num:4,grid_snap:!1,hide_min_max:!1,hide_from_to:!1,prefix:"",postfix:"",max_postfix:"",decorate_both:!0,values_separator:"  ",input_values_separator:";",disable:!1,onStart:null,onChange:null,onFinish:null,onUpdate:null},r={type:r.data("type"),min:r.data("min"),max:r.data("max"),from:r.data("from"),to:r.data("to"),step:r.data("step"),min_interval:r.data("minInterval"),max_interval:r.data("maxInterval"),drag_interval:r.data("dragInterval"),values:r.data("values"),from_fixed:r.data("fromFixed"),from_min:r.data("fromMin"),from_max:r.data("fromMax"),from_shadow:r.data("fromShadow"),to_fixed:r.data("toFixed"),to_min:r.data("toMin"),to_max:r.data("toMax"),to_shadow:r.data("toShadow"),prettify_enabled:r.data("prettifyEnabled"),prettify_separator:r.data("prettifySeparator"),force_edges:r.data("forceEdges"),keyboard:r.data("keyboard"),keyboard_step:r.data("keyboardStep"),grid:r.data("grid"),grid_margin:r.data("gridMargin"),grid_num:r.data("gridNum"),grid_snap:r.data("gridSnap"),hide_min_max:r.data("hideMinMax"),hide_from_to:r.data("hideFromTo"),prefix:r.data("prefix"),postfix:r.data("postfix"),max_postfix:r.data("maxPostfix"),decorate_both:r.data("decorateBoth"),values_separator:r.data("valuesSeparator"),input_values_separator:r.data("inputValuesSeparator"),disable:r.data("disable")},r.values=r.values&&r.values.split(",");for(a in r)r.hasOwnProperty(a)&&(r[a]||0===r[a]||delete r[a]);s&&(s=s.split(r.input_values_separator||n.input_values_separator||";"),s[0]&&s[0]==+s[0]&&(s[0]=+s[0]),s[1]&&s[1]==+s[1]&&(s[1]=+s[1]),n&&n.values&&n.values.length?(o.from=s[0]&&n.values.indexOf(s[0]),o.to=s[1]&&n.values.indexOf(s[1])):(o.from=s[0]&&+s[0],o.to=s[1]&&+s[1])),e.extend(o,n),e.extend(o,r),this.options=o,this.validate(),this.result={input:this.$cache.input,slider:null,min:this.options.min,max:this.options.max,from:this.options.from,from_percent:0,from_value:null,to:this.options.to,to_percent:0,to_value:null},this.init()};a.prototype={init:function(e){this.no_diapason=!1,this.coords.p_step=this.convertToPercent(this.options.step,!0),this.target="base",this.toggleInput(),this.append(),this.setMinMax(),e?(this.force_redraw=!0,this.calc(!0),this.callOnUpdate()):(this.force_redraw=!0,this.calc(!0),this.callOnStart()),this.updateScene()},append:function(){this.$cache.input.before('<span class="irs js-irs-'+this.plugin_count+'"></span>'),this.$cache.input.prop("readonly",!0),this.$cache.cont=this.$cache.input.prev(),this.result.slider=this.$cache.cont,this.$cache.cont.html('<span class="irs"><span class="irs-line" tabindex="-1"><span class="irs-line-left"></span><span class="irs-line-mid"></span><span class="irs-line-right"></span></span><span class="irs-min">0</span><span class="irs-max">1</span><span class="irs-from">0</span><span class="irs-to">0</span><span class="irs-single">0</span></span><span class="irs-grid"></span><span class="irs-bar"></span>'),this.$cache.rs=this.$cache.cont.find(".irs"),this.$cache.min=this.$cache.cont.find(".irs-min"),this.$cache.max=this.$cache.cont.find(".irs-max"),this.$cache.from=this.$cache.cont.find(".irs-from"),this.$cache.to=this.$cache.cont.find(".irs-to"),this.$cache.single=this.$cache.cont.find(".irs-single"),this.$cache.bar=this.$cache.cont.find(".irs-bar"),this.$cache.line=this.$cache.cont.find(".irs-line"),this.$cache.grid=this.$cache.cont.find(".irs-grid"),"single"===this.options.type?(this.$cache.cont.append('<span class="irs-bar-edge"></span><span class="irs-shadow shadow-single"></span><span class="irs-slider single"></span>'),this.$cache.edge=this.$cache.cont.find(".irs-bar-edge"),this.$cache.s_single=this.$cache.cont.find(".single"),this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.shad_single=this.$cache.cont.find(".shadow-single")):(this.$cache.cont.append('<span class="irs-shadow shadow-from"></span><span class="irs-shadow shadow-to"></span><span class="irs-slider from"></span><span class="irs-slider to"></span>'),this.$cache.s_from=this.$cache.cont.find(".from"),this.$cache.s_to=this.$cache.cont.find(".to"),this.$cache.shad_from=this.$cache.cont.find(".shadow-from"),this.$cache.shad_to=this.$cache.cont.find(".shadow-to"),this.setTopHandler()),this.options.hide_from_to&&(this.$cache.from[0].style.display="none",this.$cache.to[0].style.display="none",this.$cache.single[0].style.display="none"),this.appendGrid(),this.options.disable?(this.appendDisableMask(),this.$cache.input[0].disabled=!0):(this.$cache.cont.removeClass("irs-disabled"),this.$cache.input[0].disabled=!1,this.bindEvents()),this.options.drag_interval&&(this.$cache.bar[0].style.cursor="ew-resize")},setTopHandler:function(){var e=this.options.max,t=this.options.to;this.options.from>this.options.min&&t===e?this.$cache.s_from.addClass("type_last"):t<e&&this.$cache.s_to.addClass("type_last")},changeLevel:function(e){switch(e){case"single":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_single_fake);break;case"from":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake),this.$cache.s_from.addClass("state_hover"),this.$cache.s_from.addClass("type_last"),this.$cache.s_to.removeClass("type_last");break;case"to":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_to_fake),this.$cache.s_to.addClass("state_hover"),this.$cache.s_to.addClass("type_last"),this.$cache.s_from.removeClass("type_last");break;case"both":this.coords.p_gap_left=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake),this.coords.p_gap_right=this.toFixed(this.coords.p_to_fake-this.coords.p_pointer),this.$cache.s_to.removeClass("type_last"),this.$cache.s_from.removeClass("type_last")}},appendDisableMask:function(){this.$cache.cont.append('<span class="irs-disable-mask"></span>'),this.$cache.cont.addClass("irs-disabled")},remove:function(){this.$cache.cont.remove(),this.$cache.cont=null,this.$cache.line.off("keydown.irs_"+this.plugin_count),this.$cache.body.off("touchmove.irs_"+this.plugin_count),this.$cache.body.off("mousemove.irs_"+this.plugin_count),this.$cache.win.off("touchend.irs_"+this.plugin_count),this.$cache.win.off("mouseup.irs_"+this.plugin_count),r&&(this.$cache.body.off("mouseup.irs_"+this.plugin_count),this.$cache.body.off("mouseleave.irs_"+this.plugin_count)),this.$cache.grid_labels=[],this.coords.big=[],this.coords.big_w=[],this.coords.big_p=[],this.coords.big_x=[],cancelAnimationFrame(this.raf_id)},bindEvents:function(){this.no_diapason||(this.$cache.body.on("touchmove.irs_"+this.plugin_count,this.pointerMove.bind(this)),this.$cache.body.on("mousemove.irs_"+this.plugin_count,this.pointerMove.bind(this)),this.$cache.win.on("touchend.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.win.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.line.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.line.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.options.drag_interval&&"double"===this.options.type?(this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"both")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"both"))):(this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))),"single"===this.options.type?(this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.s_single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.shad_single.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.s_single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.edge.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_single.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))):(this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,null)),this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,null)),this.$cache.from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.s_to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.s_to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))),this.options.keyboard&&this.$cache.line.on("keydown.irs_"+this.plugin_count,this.key.bind(this,"keyboard")),r&&(this.$cache.body.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.body.on("mouseleave.irs_"+this.plugin_count,this.pointerUp.bind(this))))},pointerMove:function(e){this.dragging&&(this.coords.x_pointer=(e.pageX||e.originalEvent.touches&&e.originalEvent.touches[0].pageX)-this.coords.x_gap,this.calc())},pointerUp:function(t){this.current_plugin===this.plugin_count&&this.is_active&&(this.is_active=!1,this.$cache.cont.find(".state_hover").removeClass("state_hover"),this.force_redraw=!0,r&&e("*").prop("unselectable",!1),this.updateScene(),this.restoreOriginalMinInterval(),(e.contains(this.$cache.cont[0],t.target)||this.dragging)&&(this.is_finish=!0,this.callOnFinish()),this.dragging=!1)},pointerDown:function(t,i){i.preventDefault();var s=i.pageX||i.originalEvent.touches&&i.originalEvent.touches[0].pageX;2!==i.button&&("both"===t&&this.setTempMinInterval(),t||(t=this.target),this.current_plugin=this.plugin_count,this.target=t,this.dragging=this.is_active=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=s-this.coords.x_gap,this.calcPointerPercent(),this.changeLevel(t),r&&e("*").prop("unselectable",!0),this.$cache.line.trigger("focus"),this.updateScene())},pointerClick:function(e,t){t.preventDefault();var i=t.pageX||t.originalEvent.touches&&t.originalEvent.touches[0].pageX;2!==t.button&&(this.current_plugin=this.plugin_count,this.target=e,this.is_click=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=+(i-this.coords.x_gap).toFixed(),this.force_redraw=!0,this.calc(),this.$cache.line.trigger("focus"))},key:function(e,t){if(!(this.current_plugin!==this.plugin_count||t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)){switch(t.which){case 83:case 65:case 40:case 37:t.preventDefault(),this.moveByKey(!1);break;case 87:case 68:case 38:case 39:t.preventDefault(),this.moveByKey(!0)}return!0}},moveByKey:function(e){var t=this.coords.p_pointer,t=e?t+this.options.keyboard_step:t-this.options.keyboard_step;this.coords.x_pointer=this.toFixed(this.coords.w_rs/100*t),this.is_key=!0,this.calc()},setMinMax:function(){this.options&&(this.options.hide_min_max?(this.$cache.min[0].style.display="none",this.$cache.max[0].style.display="none"):(this.options.values.length?(this.$cache.min.html(this.decorate(this.options.p_values[this.options.min])),this.$cache.max.html(this.decorate(this.options.p_values[this.options.max]))):(this.$cache.min.html(this.decorate(this._prettify(this.options.min),this.options.min)),this.$cache.max.html(this.decorate(this._prettify(this.options.max),this.options.max))),this.labels.w_min=this.$cache.min.outerWidth(!1),this.labels.w_max=this.$cache.max.outerWidth(!1)))},setTempMinInterval:function(){var e=this.result.to-this.result.from;null===this.old_min_interval&&(this.old_min_interval=this.options.min_interval),this.options.min_interval=e},restoreOriginalMinInterval:function(){null!==this.old_min_interval&&(this.options.min_interval=this.old_min_interval,this.old_min_interval=null)},calc:function(e){if(this.options&&(this.calc_count++,(10===this.calc_count||e)&&(this.calc_count=0,this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.calcHandlePercent()),this.coords.w_rs)){switch(this.calcPointerPercent(),e=this.getHandleX(),"click"===this.target&&(this.coords.p_gap=this.coords.p_handle/2,e=this.getHandleX(),this.target=this.options.drag_interval?"both_one":this.chooseHandle(e)),this.target){case"base":var t=(this.options.max-this.options.min)/100;e=(this.result.from-this.options.min)/t,t=(this.result.to-this.options.min)/t,this.coords.p_single_real=this.toFixed(e),this.coords.p_from_real=this.toFixed(e),this.coords.p_to_real=this.toFixed(t),this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real),this.target=null;break;case"single":if(this.options.from_fixed)break;this.coords.p_single_real=this.convertToRealPercent(e),this.coords.p_single_real=this.calcWithStep(this.coords.p_single_real),this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max),this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real);break;case"from":if(this.options.from_fixed)break;this.coords.p_from_real=this.convertToRealPercent(e),this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real),this.coords.p_from_real>this.coords.p_to_real&&(this.coords.p_from_real=this.coords.p_to_real),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_real=this.checkMaxInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);break;case"to":if(this.options.to_fixed)break;this.coords.p_to_real=this.convertToRealPercent(e),this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real),this.coords.p_to_real<this.coords.p_from_real&&(this.coords.p_to_real=this.coords.p_from_real),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_real=this.checkMaxInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both":if(this.options.from_fixed||this.options.to_fixed)break;e=this.toFixed(e+.1*this.coords.p_handle),this.coords.p_from_real=this.convertToRealPercent(e)-this.coords.p_gap_left,this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_real=this.convertToRealPercent(e)+this.coords.p_gap_right,this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both_one":if(!this.options.from_fixed&&!this.options.to_fixed){var i=this.convertToRealPercent(e);e=this.result.to_percent-this.result.from_percent;var s=e/2,t=i-s,i=i+s;0>t&&(t=0,i=t+e),100<i&&(i=100,t=i-e),this.coords.p_from_real=this.calcWithStep(t),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_real=this.calcWithStep(i),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real)}}"single"===this.options.type?(this.coords.p_bar_x=this.coords.p_handle/2,this.coords.p_bar_w=this.coords.p_single_fake,this.result.from_percent=this.coords.p_single_real,this.result.from=this.convertToValue(this.coords.p_single_real),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from])):(this.coords.p_bar_x=this.toFixed(this.coords.p_from_fake+this.coords.p_handle/2),this.coords.p_bar_w=this.toFixed(this.coords.p_to_fake-this.coords.p_from_fake),this.result.from_percent=this.coords.p_from_real,this.result.from=this.convertToValue(this.coords.p_from_real),this.result.to_percent=this.coords.p_to_real,this.result.to=this.convertToValue(this.coords.p_to_real),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from],this.result.to_value=this.options.values[this.result.to])),this.calcMinMax(),this.calcLabels()}},calcPointerPercent:function(){this.coords.w_rs?(0>this.coords.x_pointer||isNaN(this.coords.x_pointer)?this.coords.x_pointer=0:this.coords.x_pointer>this.coords.w_rs&&(this.coords.x_pointer=this.coords.w_rs),this.coords.p_pointer=this.toFixed(this.coords.x_pointer/this.coords.w_rs*100)):this.coords.p_pointer=0},convertToRealPercent:function(e){return e/(100-this.coords.p_handle)*100},convertToFakePercent:function(e){return e/100*(100-this.coords.p_handle)},getHandleX:function(){var e=100-this.coords.p_handle,t=this.toFixed(this.coords.p_pointer-this.coords.p_gap);return 0>t?t=0:t>e&&(t=e),t},calcHandlePercent:function(){this.coords.w_handle="single"===this.options.type?this.$cache.s_single.outerWidth(!1):this.$cache.s_from.outerWidth(!1),this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100)},chooseHandle:function(e){return"single"===this.options.type?"single":e>=this.coords.p_from_real+(this.coords.p_to_real-this.coords.p_from_real)/2?this.options.to_fixed?"from":"to":this.options.from_fixed?"to":"from"},calcMinMax:function(){this.coords.w_rs&&(this.labels.p_min=this.labels.w_min/this.coords.w_rs*100,this.labels.p_max=this.labels.w_max/this.coords.w_rs*100)},calcLabels:function(){this.coords.w_rs&&!this.options.hide_from_to&&("single"===this.options.type?(this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100,
this.labels.p_single_left=this.coords.p_single_fake+this.coords.p_handle/2-this.labels.p_single_fake/2):(this.labels.w_from=this.$cache.from.outerWidth(!1),this.labels.p_from_fake=this.labels.w_from/this.coords.w_rs*100,this.labels.p_from_left=this.coords.p_from_fake+this.coords.p_handle/2-this.labels.p_from_fake/2,this.labels.p_from_left=this.toFixed(this.labels.p_from_left),this.labels.p_from_left=this.checkEdges(this.labels.p_from_left,this.labels.p_from_fake),this.labels.w_to=this.$cache.to.outerWidth(!1),this.labels.p_to_fake=this.labels.w_to/this.coords.w_rs*100,this.labels.p_to_left=this.coords.p_to_fake+this.coords.p_handle/2-this.labels.p_to_fake/2,this.labels.p_to_left=this.toFixed(this.labels.p_to_left),this.labels.p_to_left=this.checkEdges(this.labels.p_to_left,this.labels.p_to_fake),this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=(this.labels.p_from_left+this.labels.p_to_left+this.labels.p_to_fake)/2-this.labels.p_single_fake/2,this.labels.p_single_left=this.toFixed(this.labels.p_single_left)),this.labels.p_single_left=this.checkEdges(this.labels.p_single_left,this.labels.p_single_fake))},updateScene:function(){this.raf_id&&(cancelAnimationFrame(this.raf_id),this.raf_id=null),clearTimeout(this.update_tm),this.update_tm=null,this.options&&(this.drawHandles(),this.is_active?this.raf_id=requestAnimationFrame(this.updateScene.bind(this)):this.update_tm=setTimeout(this.updateScene.bind(this),300))},drawHandles:function(){this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs&&(this.coords.w_rs!==this.coords.w_rs_old&&(this.target="base",this.is_resize=!0),(this.coords.w_rs!==this.coords.w_rs_old||this.force_redraw)&&(this.setMinMax(),this.calc(!0),this.drawLabels(),this.options.grid&&(this.calcGridMargin(),this.calcGridLabels()),this.force_redraw=!0,this.coords.w_rs_old=this.coords.w_rs,this.drawShadow()),this.coords.w_rs&&(this.dragging||this.force_redraw||this.is_key)&&((this.old_from!==this.result.from||this.old_to!==this.result.to||this.force_redraw||this.is_key)&&(this.drawLabels(),this.$cache.bar[0].style.left=this.coords.p_bar_x+"%",this.$cache.bar[0].style.width=this.coords.p_bar_w+"%","single"===this.options.type?(this.$cache.s_single[0].style.left=this.coords.p_single_fake+"%",this.$cache.single[0].style.left=this.labels.p_single_left+"%",this.options.values.length?this.$cache.input.prop("value",this.result.from_value):this.$cache.input.prop("value",this.result.from),this.$cache.input.data("from",this.result.from)):(this.$cache.s_from[0].style.left=this.coords.p_from_fake+"%",this.$cache.s_to[0].style.left=this.coords.p_to_fake+"%",(this.old_from!==this.result.from||this.force_redraw)&&(this.$cache.from[0].style.left=this.labels.p_from_left+"%"),(this.old_to!==this.result.to||this.force_redraw)&&(this.$cache.to[0].style.left=this.labels.p_to_left+"%"),this.$cache.single[0].style.left=this.labels.p_single_left+"%",this.options.values.length?this.$cache.input.prop("value",this.result.from_value+this.options.input_values_separator+this.result.to_value):this.$cache.input.prop("value",this.result.from+this.options.input_values_separator+this.result.to),this.$cache.input.data("from",this.result.from),this.$cache.input.data("to",this.result.to)),this.old_from===this.result.from&&this.old_to===this.result.to||this.is_start||this.$cache.input.trigger("change"),this.old_from=this.result.from,this.old_to=this.result.to,this.is_resize||this.is_update||this.is_start||this.is_finish||this.callOnChange(),(this.is_key||this.is_click)&&(this.is_click=this.is_key=!1,this.callOnFinish()),this.is_finish=this.is_resize=this.is_update=!1),this.force_redraw=this.is_click=this.is_key=this.is_start=!1))},drawLabels:function(){if(this.options){var e,t=this.options.values.length,i=this.options.p_values;if(!this.options.hide_from_to)if("single"===this.options.type)t=t?this.decorate(i[this.result.from]):this.decorate(this._prettify(this.result.from),this.result.from),this.$cache.single.html(t),this.calcLabels(),this.$cache.min[0].style.visibility=this.labels.p_single_left<this.labels.p_min+1?"hidden":"visible",this.$cache.max[0].style.visibility=this.labels.p_single_left+this.labels.p_single_fake>100-this.labels.p_max-1?"hidden":"visible";else{t?(this.options.decorate_both?(t=this.decorate(i[this.result.from]),t+=this.options.values_separator,t+=this.decorate(i[this.result.to])):t=this.decorate(i[this.result.from]+this.options.values_separator+i[this.result.to]),e=this.decorate(i[this.result.from]),i=this.decorate(i[this.result.to])):(this.options.decorate_both?(t=this.decorate(this._prettify(this.result.from),this.result.from),t+=this.options.values_separator,t+=this.decorate(this._prettify(this.result.to),this.result.to)):t=this.decorate(this._prettify(this.result.from)+this.options.values_separator+this._prettify(this.result.to),this.result.to),e=this.decorate(this._prettify(this.result.from),this.result.from),i=this.decorate(this._prettify(this.result.to),this.result.to)),this.$cache.single.html(t),this.$cache.from.html(e),this.$cache.to.html(i),this.calcLabels(),i=Math.min(this.labels.p_single_left,this.labels.p_from_left),t=this.labels.p_single_left+this.labels.p_single_fake,e=this.labels.p_to_left+this.labels.p_to_fake;var s=Math.max(t,e);this.labels.p_from_left+this.labels.p_from_fake>=this.labels.p_to_left?(this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",this.result.from===this.result.to?("from"===this.target?this.$cache.from[0].style.visibility="visible":"to"===this.target?this.$cache.to[0].style.visibility="visible":this.target||(this.$cache.from[0].style.visibility="visible"),this.$cache.single[0].style.visibility="hidden",s=e):(this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",s=Math.max(t,e))):(this.$cache.from[0].style.visibility="visible",this.$cache.to[0].style.visibility="visible",this.$cache.single[0].style.visibility="hidden"),this.$cache.min[0].style.visibility=i<this.labels.p_min+1?"hidden":"visible",this.$cache.max[0].style.visibility=s>100-this.labels.p_max-1?"hidden":"visible"}}},drawShadow:function(){var e=this.options,t=this.$cache,i="number"==typeof e.from_min&&!isNaN(e.from_min),s="number"==typeof e.from_max&&!isNaN(e.from_max),n="number"==typeof e.to_min&&!isNaN(e.to_min),o="number"==typeof e.to_max&&!isNaN(e.to_max);"single"===e.type?e.from_shadow&&(i||s)?(i=this.convertToPercent(i?e.from_min:e.min),s=this.convertToPercent(s?e.from_max:e.max)-i,i=this.toFixed(i-this.coords.p_handle/100*i),s=this.toFixed(s-this.coords.p_handle/100*s),i+=this.coords.p_handle/2,t.shad_single[0].style.display="block",t.shad_single[0].style.left=i+"%",t.shad_single[0].style.width=s+"%"):t.shad_single[0].style.display="none":(e.from_shadow&&(i||s)?(i=this.convertToPercent(i?e.from_min:e.min),s=this.convertToPercent(s?e.from_max:e.max)-i,i=this.toFixed(i-this.coords.p_handle/100*i),s=this.toFixed(s-this.coords.p_handle/100*s),i+=this.coords.p_handle/2,t.shad_from[0].style.display="block",t.shad_from[0].style.left=i+"%",t.shad_from[0].style.width=s+"%"):t.shad_from[0].style.display="none",e.to_shadow&&(n||o)?(n=this.convertToPercent(n?e.to_min:e.min),e=this.convertToPercent(o?e.to_max:e.max)-n,n=this.toFixed(n-this.coords.p_handle/100*n),e=this.toFixed(e-this.coords.p_handle/100*e),n+=this.coords.p_handle/2,t.shad_to[0].style.display="block",t.shad_to[0].style.left=n+"%",t.shad_to[0].style.width=e+"%"):t.shad_to[0].style.display="none")},callOnStart:function(){this.options.onStart&&"function"==typeof this.options.onStart&&this.options.onStart(this.result)},callOnChange:function(){this.options.onChange&&"function"==typeof this.options.onChange&&this.options.onChange(this.result)},callOnFinish:function(){this.options.onFinish&&"function"==typeof this.options.onFinish&&this.options.onFinish(this.result)},callOnUpdate:function(){this.options.onUpdate&&"function"==typeof this.options.onUpdate&&this.options.onUpdate(this.result)},toggleInput:function(){this.$cache.input.toggleClass("irs-hidden-input")},convertToPercent:function(e,t){var i=this.options.max-this.options.min;return i?this.toFixed((t?e:e-this.options.min)/(i/100)):(this.no_diapason=!0,0)},convertToValue:function(e){var t,i,s=this.options.min,n=this.options.max,o=s.toString().split(".")[1],r=n.toString().split(".")[1],a=0,l=0;return 0===e?this.options.min:100===e?this.options.max:(o&&(a=t=o.length),r&&(a=i=r.length),t&&i&&(a=t>=i?t:i),0>s&&(l=Math.abs(s),s=+(s+l).toFixed(a),n=+(n+l).toFixed(a)),e=(n-s)/100*e+s,(s=this.options.step.toString().split(".")[1])?e=+e.toFixed(s.length):(e/=this.options.step,e*=this.options.step,e=+e.toFixed(0)),l&&(e-=l),l=s?+e.toFixed(s.length):this.toFixed(e),l<this.options.min?l=this.options.min:l>this.options.max&&(l=this.options.max),l)},calcWithStep:function(e){var t=Math.round(e/this.coords.p_step)*this.coords.p_step;return 100<t&&(t=100),100===e&&(t=100),this.toFixed(t)},checkMinInterval:function(e,t,i){var s=this.options;return s.min_interval?(e=this.convertToValue(e),t=this.convertToValue(t),"from"===i?t-e<s.min_interval&&(e=t-s.min_interval):e-t<s.min_interval&&(e=t+s.min_interval),this.convertToPercent(e)):e},checkMaxInterval:function(e,t,i){var s=this.options;return s.max_interval?(e=this.convertToValue(e),t=this.convertToValue(t),"from"===i?t-e>s.max_interval&&(e=t-s.max_interval):e-t>s.max_interval&&(e=t+s.max_interval),this.convertToPercent(e)):e},checkDiapason:function(e,t,i){e=this.convertToValue(e);var s=this.options;return"number"!=typeof t&&(t=s.min),"number"!=typeof i&&(i=s.max),e<t&&(e=t),e>i&&(e=i),this.convertToPercent(e)},toFixed:function(e){return+(e=e.toFixed(9))},_prettify:function(e){return this.options.prettify_enabled?this.options.prettify&&"function"==typeof this.options.prettify?this.options.prettify(e):this.prettify(e):e},prettify:function(e){return e.toString().replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1"+this.options.prettify_separator)},checkEdges:function(e,t){return this.options.force_edges?(0>e?e=0:e>100-t&&(e=100-t),this.toFixed(e)):this.toFixed(e)},validate:function(){var e,t,i=this.options,s=this.result,n=i.values,o=n.length;if("string"==typeof i.min&&(i.min=+i.min),"string"==typeof i.max&&(i.max=+i.max),"string"==typeof i.from&&(i.from=+i.from),"string"==typeof i.to&&(i.to=+i.to),"string"==typeof i.step&&(i.step=+i.step),"string"==typeof i.from_min&&(i.from_min=+i.from_min),"string"==typeof i.from_max&&(i.from_max=+i.from_max),"string"==typeof i.to_min&&(i.to_min=+i.to_min),"string"==typeof i.to_max&&(i.to_max=+i.to_max),"string"==typeof i.keyboard_step&&(i.keyboard_step=+i.keyboard_step),"string"==typeof i.grid_num&&(i.grid_num=+i.grid_num),i.max<i.min&&(i.max=i.min),o)for(i.p_values=[],i.min=0,i.max=o-1,i.step=1,i.grid_num=i.max,i.grid_snap=!0,t=0;t<o;t++)e=+n[t],isNaN(e)?e=n[t]:(n[t]=e,e=this._prettify(e)),i.p_values.push(e);("number"!=typeof i.from||isNaN(i.from))&&(i.from=i.min),("number"!=typeof i.to||isNaN(i.from))&&(i.to=i.max),"single"===i.type?(i.from<i.min&&(i.from=i.min),i.from>i.max&&(i.from=i.max)):((i.from<i.min||i.from>i.max)&&(i.from=i.min),(i.to>i.max||i.to<i.min)&&(i.to=i.max),i.from>i.to&&(i.from=i.to)),("number"!=typeof i.step||isNaN(i.step)||!i.step||0>i.step)&&(i.step=1),("number"!=typeof i.keyboard_step||isNaN(i.keyboard_step)||!i.keyboard_step||0>i.keyboard_step)&&(i.keyboard_step=5),"number"==typeof i.from_min&&i.from<i.from_min&&(i.from=i.from_min),"number"==typeof i.from_max&&i.from>i.from_max&&(i.from=i.from_max),"number"==typeof i.to_min&&i.to<i.to_min&&(i.to=i.to_min),"number"==typeof i.to_max&&i.from>i.to_max&&(i.to=i.to_max),s&&(s.min!==i.min&&(s.min=i.min),s.max!==i.max&&(s.max=i.max),(s.from<s.min||s.from>s.max)&&(s.from=i.from),(s.to<s.min||s.to>s.max)&&(s.to=i.to)),("number"!=typeof i.min_interval||isNaN(i.min_interval)||!i.min_interval||0>i.min_interval)&&(i.min_interval=0),("number"!=typeof i.max_interval||isNaN(i.max_interval)||!i.max_interval||0>i.max_interval)&&(i.max_interval=0),i.min_interval&&i.min_interval>i.max-i.min&&(i.min_interval=i.max-i.min),i.max_interval&&i.max_interval>i.max-i.min&&(i.max_interval=i.max-i.min)},decorate:function(e,t){var i="",s=this.options;return s.prefix&&(i+=s.prefix),i+=e,s.max_postfix&&(s.values.length&&e===s.p_values[s.max]?(i+=s.max_postfix,s.postfix&&(i+=" ")):t===s.max&&(i+=s.max_postfix,s.postfix&&(i+=" "))),s.postfix&&(i+=s.postfix),i},updateFrom:function(){this.result.from=this.options.from,this.result.from_percent=this.convertToPercent(this.result.from),this.options.values&&(this.result.from_value=this.options.values[this.result.from])},updateTo:function(){this.result.to=this.options.to,this.result.to_percent=this.convertToPercent(this.result.to),this.options.values&&(this.result.to_value=this.options.values[this.result.to])},updateResult:function(){this.result.min=this.options.min,this.result.max=this.options.max,this.updateFrom(),this.updateTo()},appendGrid:function(){if(this.options.grid){var e,t,i=this.options;e=i.max-i.min;var s,n,o=i.grid_num,r=0,a=0,l=4,c=0,d="";for(this.calcGridMargin(),i.grid_snap?(o=e/i.step,r=this.toFixed(i.step/(e/100))):r=this.toFixed(100/o),4<o&&(l=3),7<o&&(l=2),14<o&&(l=1),28<o&&(l=0),e=0;e<o+1;e++){for(s=l,a=this.toFixed(r*e),100<a&&(a=100,0>(s-=2)&&(s=0)),this.coords.big[e]=a,n=(a-r*(e-1))/(s+1),t=1;t<=s&&0!==a;t++)c=this.toFixed(a-n*t),d+='<span class="irs-grid-pol small" style="left: '+c+'%"></span>';d+='<span class="irs-grid-pol" style="left: '+a+'%"></span>',c=this.convertToValue(a),c=i.values.length?i.p_values[c]:this._prettify(c),d+='<span class="irs-grid-text js-grid-text-'+e+'" style="left: '+a+'%">'+c+"</span>"}this.coords.big_num=Math.ceil(o+1),this.$cache.cont.addClass("irs-with-grid"),this.$cache.grid.html(d),this.cacheGridLabels()}},cacheGridLabels:function(){var e,t,i=this.coords.big_num;for(t=0;t<i;t++)e=this.$cache.grid.find(".js-grid-text-"+t),this.$cache.grid_labels.push(e);this.calcGridLabels()},calcGridLabels:function(){var e,t;t=[];var i=[],s=this.coords.big_num;for(e=0;e<s;e++)this.coords.big_w[e]=this.$cache.grid_labels[e].outerWidth(!1),this.coords.big_p[e]=this.toFixed(this.coords.big_w[e]/this.coords.w_rs*100),this.coords.big_x[e]=this.toFixed(this.coords.big_p[e]/2),t[e]=this.toFixed(this.coords.big[e]-this.coords.big_x[e]),i[e]=this.toFixed(t[e]+this.coords.big_p[e]);for(this.options.force_edges&&(t[0]<-this.coords.grid_gap&&(t[0]=-this.coords.grid_gap,i[0]=this.toFixed(t[0]+this.coords.big_p[0]),this.coords.big_x[0]=this.coords.grid_gap),i[s-1]>100+this.coords.grid_gap&&(i[s-1]=100+this.coords.grid_gap,t[s-1]=this.toFixed(i[s-1]-this.coords.big_p[s-1]),this.coords.big_x[s-1]=this.toFixed(this.coords.big_p[s-1]-this.coords.grid_gap))),this.calcGridCollision(2,t,i),this.calcGridCollision(4,t,i),e=0;e<s;e++)t=this.$cache.grid_labels[e][0],t.style.marginLeft=-this.coords.big_x[e]+"%"},calcGridCollision:function(e,t,i){var s,n,o,r=this.coords.big_num;for(s=0;s<r&&!((n=s+e/2)>=r);s+=e)o=this.$cache.grid_labels[n][0],o.style.visibility=i[s]<=t[n]?"visible":"hidden"},calcGridMargin:function(){this.options.grid_margin&&(this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs&&(this.coords.w_handle="single"===this.options.type?this.$cache.s_single.outerWidth(!1):this.$cache.s_from.outerWidth(!1),this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100),this.coords.grid_gap=this.toFixed(this.coords.p_handle/2-.1),this.$cache.grid[0].style.width=this.toFixed(100-this.coords.p_handle)+"%",this.$cache.grid[0].style.left=this.coords.grid_gap+"%"))},update:function(t){this.input&&(this.is_update=!0,this.options.from=this.result.from,this.options.to=this.result.to,this.options=e.extend(this.options,t),this.validate(),this.updateResult(t),this.toggleInput(),this.remove(),this.init(!0))},reset:function(){this.input&&(this.updateResult(),this.update())},destroy:function(){this.input&&(this.toggleInput(),this.$cache.input.prop("readonly",!1),e.data(this.input,"ionRangeSlider",null),this.remove(),this.options=this.input=null)}},e.fn.ionRangeSlider=function(t){return this.each(function(){e.data(this,"ionRangeSlider")||e.data(this,"ionRangeSlider",new a(this,t,o++))})},function(){for(var e=0,t=["ms","moz","webkit","o"],s=0;s<t.length&&!i.requestAnimationFrame;++s)i.requestAnimationFrame=i[t[s]+"RequestAnimationFrame"],i.cancelAnimationFrame=i[t[s]+"CancelAnimationFrame"]||i[t[s]+"CancelRequestAnimationFrame"];i.requestAnimationFrame||(i.requestAnimationFrame=function(t,s){var n=(new Date).getTime(),o=Math.max(0,16-(n-e)),r=i.setTimeout(function(){t(n+o)},o);return e=n+o,r}),i.cancelAnimationFrame||(i.cancelAnimationFrame=function(e){clearTimeout(e)})}()}),"function"!=typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),function(e,t,i,s){var n={init:function(t,i){var s=this;s.elem=i,s.$elem=e(i),s.imageSrc=s.$elem.data("zoom-image")?s.$elem.data("zoom-image"):s.$elem.attr("src"),s.options=e.extend({},e.fn.elevateZoom.options,t),s.options.tint&&(s.options.lensColour="none",s.options.lensOpacity="1"),"inner"==s.options.zoomType&&(s.options.showLens=!1),s.$elem.parent().removeAttr("title").removeAttr("alt"),s.zoomImage=s.imageSrc,s.refresh(1),e("#"+s.options.gallery+" a").click(function(t){return s.options.galleryActiveClass&&(e("#"+s.options.gallery+" a").removeClass(s.options.galleryActiveClass),e(this).addClass(s.options.galleryActiveClass)),t.preventDefault(),e(this).data("zoom-image")?s.zoomImagePre=e(this).data("zoom-image"):s.zoomImagePre=e(this).data("image"),s.swaptheimage(e(this).data("image"),s.zoomImagePre),!1})},refresh:function(e){var t=this;setTimeout(function(){t.fetch(t.imageSrc)},e||t.options.refresh)},fetch:function(e){var t=this,i=new Image;i.onload=function(){t.largeWidth=i.width,t.largeHeight=i.height,t.startZoom(),t.currentImage=t.imageSrc,t.options.onZoomedImageLoaded(t.$elem)},i.src=e},startZoom:function(){var t=this;if(t.nzWidth=t.$elem.width(),t.nzHeight=t.$elem.height(),t.isWindowActive=!1,t.isLensActive=!1,t.isTintActive=!1,t.overWindow=!1,t.options.imageCrossfade&&(t.zoomWrap=t.$elem.wrap('<div style="height:'+t.nzHeight+"px;width:"+t.nzWidth+'px;" class="zoomWrapper" />'),t.$elem.css("position","absolute")),t.zoomLock=1,t.scrollingLock=!1,t.changeBgSize=!1,t.currentZoomLevel=t.options.zoomLevel,t.nzOffset=t.$elem.offset(),t.widthRatio=t.largeWidth/t.currentZoomLevel/t.nzWidth,t.heightRatio=t.largeHeight/t.currentZoomLevel/t.nzHeight,"window"==t.options.zoomType&&(t.zoomWindowStyle="overflow: hidden;background-position: 0px 0px;text-align:center;background-color: "+String(t.options.zoomWindowBgColour)+";width: "+String(t.options.zoomWindowWidth)+"px;height: "+String(t.options.zoomWindowHeight)+"px;float: left;background-size: "+t.largeWidth/t.currentZoomLevel+"px "+t.largeHeight/t.currentZoomLevel+"px;display: none;z-index:100;border: "+String(t.options.borderSize)+"px solid "+t.options.borderColour+";background-repeat: no-repeat;position: absolute;"),"inner"==t.options.zoomType){var i=t.$elem.css("border-left-width");t.zoomWindowStyle="overflow: hidden;margin-left: "+String(i)+";margin-top: "+String(i)+";background-position: 0px 0px;width: "+String(t.nzWidth)+"px;height: "+String(t.nzHeight)+"px;float: left;display: none;cursor:"+t.options.cursor+";px solid "+t.options.borderColour+";background-repeat: no-repeat;position: absolute;"}"window"==t.options.zoomType&&(lensHeight=t.nzHeight<t.options.zoomWindowWidth/t.widthRatio?t.nzHeight:String(t.options.zoomWindowHeight/t.heightRatio),lensWidth=t.largeWidth<t.options.zoomWindowWidth?t.nzWidth:t.options.zoomWindowWidth/t.widthRatio,t.lensStyle="background-position: 0px 0px;width: "+String(t.options.zoomWindowWidth/t.widthRatio)+"px;height: "+String(t.options.zoomWindowHeight/t.heightRatio)+"px;float: right;display: none;overflow: hidden;z-index: 999;-webkit-transform: translateZ(0);opacity:"+t.options.lensOpacity+";filter: alpha(opacity = "+100*t.options.lensOpacity+"); zoom:1;width:"+lensWidth+"px;height:"+lensHeight+"px;background-color:"+t.options.lensColour+";cursor:"+t.options.cursor+";border: "+t.options.lensBorderSize+"px solid "+t.options.lensBorderColour+";background-repeat: no-repeat;position: absolute;"),t.tintStyle="display: block;position: absolute;background-color: "+t.options.tintColour+";filter:alpha(opacity=0);opacity: 0;width: "+t.nzWidth+"px;height: "+t.nzHeight+"px;",t.lensRound="","lens"==t.options.zoomType&&(t.lensStyle="background-position: 0px 0px;float: left;display: none;border: "+String(t.options.borderSize)+"px solid "+t.options.borderColour+";width:"+String(t.options.lensSize)+"px;height:"+String(t.options.lensSize)+"px;background-repeat: no-repeat;position: absolute;"),"round"==t.options.lensShape&&(t.lensRound="border-top-left-radius: "+String(t.options.lensSize/2+t.options.borderSize)+"px;border-top-right-radius: "+String(t.options.lensSize/2+t.options.borderSize)+"px;border-bottom-left-radius: "+String(t.options.lensSize/2+t.options.borderSize)+"px;border-bottom-right-radius: "+String(t.options.lensSize/2+t.options.borderSize)+"px;"),t.zoomContainer=e('<div class="zoomContainer" style="-webkit-transform: translateZ(0);position:absolute;left:'+t.nzOffset.left+"px;top:"+t.nzOffset.top+"px;height:"+t.nzHeight+"px;width:"+t.nzWidth+'px;"></div>'),e("body").append(t.zoomContainer),t.options.containLensZoom&&"lens"==t.options.zoomType&&t.zoomContainer.css("overflow","hidden"),"inner"!=t.options.zoomType&&(t.zoomLens=e("<div class='zoomLens' style='"+t.lensStyle+t.lensRound+"'>&nbsp;</div>").appendTo(t.zoomContainer).click(function(){t.$elem.trigger("click")}),t.options.tint&&(t.tintContainer=e("<div/>").addClass("tintContainer"),t.zoomTint=e("<div class='zoomTint' style='"+t.tintStyle+"'></div>"),t.zoomLens.wrap(t.tintContainer),t.zoomTintcss=t.zoomLens.after(t.zoomTint),t.zoomTintImage=e('<img style="position: absolute; left: 0px; top: 0px; max-width: none; width: '+t.nzWidth+"px; height: "+t.nzHeight+'px;" src="'+t.imageSrc+'">').appendTo(t.zoomLens).click(function(){t.$elem.trigger("click")}))),isNaN(t.options.zoomWindowPosition)?t.zoomWindow=e("<div style='z-index:999;left:"+t.windowOffsetLeft+"px;top:"+t.windowOffsetTop+"px;"+t.zoomWindowStyle+"' class='zoomWindow'>&nbsp;</div>").appendTo("body").click(function(){t.$elem.trigger("click")}):t.zoomWindow=e("<div style='z-index:999;left:"+t.windowOffsetLeft+"px;top:"+t.windowOffsetTop+"px;"+t.zoomWindowStyle+"' class='zoomWindow'>&nbsp;</div>").appendTo(t.zoomContainer).click(function(){t.$elem.trigger("click")}),t.zoomWindowContainer=e("<div/>").addClass("zoomWindowContainer").css("width",t.options.zoomWindowWidth),t.zoomWindow.wrap(t.zoomWindowContainer),"lens"==t.options.zoomType&&t.zoomLens.css({backgroundImage:"url('"+t.imageSrc+"')"}),"window"==t.options.zoomType&&t.zoomWindow.css({backgroundImage:"url('"+t.imageSrc+"')"}),"inner"==t.options.zoomType&&t.zoomWindow.css({backgroundImage:"url('"+t.imageSrc+"')"}),t.$elem.bind("touchmove",function(e){e.preventDefault(),t.setPosition(e.originalEvent.touches[0]||e.originalEvent.changedTouches[0])}),t.zoomContainer.bind("touchmove",function(e){"inner"==t.options.zoomType&&t.showHideWindow("show"),e.preventDefault(),t.setPosition(e.originalEvent.touches[0]||e.originalEvent.changedTouches[0])}),t.zoomContainer.bind("touchend",function(e){t.showHideWindow("hide"),t.options.showLens&&t.showHideLens("hide"),t.options.tint&&"inner"!=t.options.zoomType&&t.showHideTint("hide")}),t.$elem.bind("touchend",function(e){t.showHideWindow("hide"),t.options.showLens&&t.showHideLens("hide"),t.options.tint&&"inner"!=t.options.zoomType&&t.showHideTint("hide")}),t.options.showLens&&(t.zoomLens.bind("touchmove",function(e){e.preventDefault(),t.setPosition(e.originalEvent.touches[0]||e.originalEvent.changedTouches[0])}),t.zoomLens.bind("touchend",function(e){t.showHideWindow("hide"),t.options.showLens&&t.showHideLens("hide"),t.options.tint&&"inner"!=t.options.zoomType&&t.showHideTint("hide")})),t.$elem.bind("mousemove",function(e){0==t.overWindow&&t.setElements("show"),t.lastX===e.clientX&&t.lastY===e.clientY||(t.setPosition(e),t.currentLoc=e),t.lastX=e.clientX,t.lastY=e.clientY}),t.zoomContainer.bind("mousemove",function(e){0==t.overWindow&&t.setElements("show"),t.lastX===e.clientX&&t.lastY===e.clientY||(t.setPosition(e),t.currentLoc=e),t.lastX=e.clientX,t.lastY=e.clientY}),"inner"!=t.options.zoomType&&t.zoomLens.bind("mousemove",function(e){t.lastX===e.clientX&&t.lastY===e.clientY||(t.setPosition(e),t.currentLoc=e),t.lastX=e.clientX,t.lastY=e.clientY}),t.options.tint&&"inner"!=t.options.zoomType&&t.zoomTint.bind("mousemove",function(e){t.lastX===e.clientX&&t.lastY===e.clientY||(t.setPosition(e),t.currentLoc=e),t.lastX=e.clientX,t.lastY=e.clientY}),"inner"==t.options.zoomType&&t.zoomWindow.bind("mousemove",function(e){t.lastX===e.clientX&&t.lastY===e.clientY||(t.setPosition(e),t.currentLoc=e),t.lastX=e.clientX,t.lastY=e.clientY}),t.zoomContainer.add(t.$elem).mouseenter(function(){0==t.overWindow&&t.setElements("show")}).mouseleave(function(){t.scrollLock||t.setElements("hide")}),"inner"!=t.options.zoomType&&t.zoomWindow.mouseenter(function(){t.overWindow=!0,t.setElements("hide")}).mouseleave(function(){t.overWindow=!1}),t.minZoomLevel=t.options.minZoomLevel?t.options.minZoomLevel:2*t.options.scrollZoomIncrement,t.options.scrollZoom&&t.zoomContainer.add(t.$elem).bind("mousewheel DOMMouseScroll MozMousePixelScroll",function(i){t.scrollLock=!0,clearTimeout(e.data(this,"timer")),e.data(this,"timer",setTimeout(function(){t.scrollLock=!1},250));var s=i.originalEvent.wheelDelta||-1*i.originalEvent.detail;return i.stopImmediatePropagation(),i.stopPropagation(),i.preventDefault(),0<s/120?t.currentZoomLevel>=t.minZoomLevel&&t.changeZoomLevel(t.currentZoomLevel-t.options.scrollZoomIncrement):t.options.maxZoomLevel?t.currentZoomLevel<=t.options.maxZoomLevel&&t.changeZoomLevel(parseFloat(t.currentZoomLevel)+t.options.scrollZoomIncrement):t.changeZoomLevel(parseFloat(t.currentZoomLevel)+t.options.scrollZoomIncrement),!1})},setElements:function(e){if(!this.options.zoomEnabled)return!1;"show"==e&&this.isWindowSet&&("inner"==this.options.zoomType&&this.showHideWindow("show"),"window"==this.options.zoomType&&this.showHideWindow("show"),this.options.showLens&&this.showHideLens("show"),this.options.tint&&"inner"!=this.options.zoomType&&this.showHideTint("show")),"hide"==e&&("window"==this.options.zoomType&&this.showHideWindow("hide"),this.options.tint||this.showHideWindow("hide"),this.options.showLens&&this.showHideLens("hide"),this.options.tint&&this.showHideTint("hide"))},setPosition:function(e){if(!this.options.zoomEnabled)return!1;this.nzHeight=this.$elem.height(),this.nzWidth=this.$elem.width(),this.nzOffset=this.$elem.offset(),this.options.tint&&"inner"!=this.options.zoomType&&(this.zoomTint.css({top:0}),this.zoomTint.css({left:0})),this.options.responsive&&!this.options.scrollZoom&&this.options.showLens&&(lensHeight=this.nzHeight<this.options.zoomWindowWidth/this.widthRatio?this.nzHeight:String(this.options.zoomWindowHeight/this.heightRatio),lensWidth=this.largeWidth<this.options.zoomWindowWidth?this.nzWidth:this.options.zoomWindowWidth/this.widthRatio,this.widthRatio=this.largeWidth/this.nzWidth,this.heightRatio=this.largeHeight/this.nzHeight,"lens"!=this.options.zoomType&&(lensHeight=this.nzHeight<this.options.zoomWindowWidth/this.widthRatio?this.nzHeight:String(this.options.zoomWindowHeight/this.heightRatio),lensWidth=this.options.zoomWindowWidth<this.options.zoomWindowWidth?this.nzWidth:this.options.zoomWindowWidth/this.widthRatio,this.zoomLens.css("width",lensWidth),this.zoomLens.css("height",lensHeight),this.options.tint&&(this.zoomTintImage.css("width",this.nzWidth),this.zoomTintImage.css("height",this.nzHeight))),"lens"==this.options.zoomType&&this.zoomLens.css({width:String(this.options.lensSize)+"px",height:String(this.options.lensSize)+"px"})),this.zoomContainer.css({top:this.nzOffset.top}),this.zoomContainer.css({left:this.nzOffset.left}),this.mouseLeft=parseInt(e.pageX-this.nzOffset.left),this.mouseTop=parseInt(e.pageY-this.nzOffset.top),"window"==this.options.zoomType&&(this.Etoppos=this.mouseTop<this.zoomLens.height()/2,this.Eboppos=this.mouseTop>this.nzHeight-this.zoomLens.height()/2-2*this.options.lensBorderSize,this.Eloppos=this.mouseLeft<0+this.zoomLens.width()/2,this.Eroppos=this.mouseLeft>this.nzWidth-this.zoomLens.width()/2-2*this.options.lensBorderSize),"inner"==this.options.zoomType&&(this.Etoppos=this.mouseTop<this.nzHeight/2/this.heightRatio,this.Eboppos=this.mouseTop>this.nzHeight-this.nzHeight/2/this.heightRatio,this.Eloppos=this.mouseLeft<0+this.nzWidth/2/this.widthRatio,this.Eroppos=this.mouseLeft>this.nzWidth-this.nzWidth/2/this.widthRatio-2*this.options.lensBorderSize),0>=this.mouseLeft||0>this.mouseTop||this.mouseLeft>this.nzWidth||this.mouseTop>this.nzHeight?this.setElements("hide"):(this.options.showLens&&(this.lensLeftPos=String(this.mouseLeft-this.zoomLens.width()/2),this.lensTopPos=String(this.mouseTop-this.zoomLens.height()/2)),this.Etoppos&&(this.lensTopPos=0),this.Eloppos&&(this.tintpos=this.lensLeftPos=this.windowLeftPos=0),"window"==this.options.zoomType&&(this.Eboppos&&(this.lensTopPos=Math.max(this.nzHeight-this.zoomLens.height()-2*this.options.lensBorderSize,0)),this.Eroppos&&(this.lensLeftPos=this.nzWidth-this.zoomLens.width()-2*this.options.lensBorderSize)),"inner"==this.options.zoomType&&(this.Eboppos&&(this.lensTopPos=Math.max(this.nzHeight-2*this.options.lensBorderSize,0)),this.Eroppos&&(this.lensLeftPos=this.nzWidth-this.nzWidth-2*this.options.lensBorderSize)),"lens"==this.options.zoomType&&(this.windowLeftPos=String(-1*((e.pageX-this.nzOffset.left)*this.widthRatio-this.zoomLens.width()/2)),this.windowTopPos=String(-1*((e.pageY-this.nzOffset.top)*this.heightRatio-this.zoomLens.height()/2)),this.zoomLens.css({backgroundPosition:this.windowLeftPos+"px "+this.windowTopPos+"px"}),this.changeBgSize&&(this.nzHeight>this.nzWidth?("lens"==this.options.zoomType&&this.zoomLens.css({"background-size":this.largeWidth/this.newvalueheight+"px "+this.largeHeight/this.newvalueheight+"px"}),this.zoomWindow.css({"background-size":this.largeWidth/this.newvalueheight+"px "+this.largeHeight/this.newvalueheight+"px"})):("lens"==this.options.zoomType&&this.zoomLens.css({"background-size":this.largeWidth/this.newvaluewidth+"px "+this.largeHeight/this.newvaluewidth+"px"}),this.zoomWindow.css({"background-size":this.largeWidth/this.newvaluewidth+"px "+this.largeHeight/this.newvaluewidth+"px"})),this.changeBgSize=!1),this.setWindowPostition(e)),this.options.tint&&"inner"!=this.options.zoomType&&this.setTintPosition(e),"window"==this.options.zoomType&&this.setWindowPostition(e),"inner"==this.options.zoomType&&this.setWindowPostition(e),this.options.showLens&&(this.fullwidth&&"lens"!=this.options.zoomType&&(this.lensLeftPos=0),this.zoomLens.css({left:this.lensLeftPos+"px",top:this.lensTopPos+"px"})))},showHideWindow:function(e){"show"!=e||this.isWindowActive||(this.options.zoomWindowFadeIn?this.zoomWindow.stop(!0,!0,!1).fadeIn(this.options.zoomWindowFadeIn):this.zoomWindow.show(),this.isWindowActive=!0),"hide"==e&&this.isWindowActive&&(this.options.zoomWindowFadeOut?this.zoomWindow.stop(!0,!0).fadeOut(this.options.zoomWindowFadeOut):this.zoomWindow.hide(),this.isWindowActive=!1)},showHideLens:function(e){"show"!=e||this.isLensActive||(this.options.lensFadeIn?this.zoomLens.stop(!0,!0,!1).fadeIn(this.options.lensFadeIn):this.zoomLens.show(),this.isLensActive=!0),"hide"==e&&this.isLensActive&&(this.options.lensFadeOut?this.zoomLens.stop(!0,!0).fadeOut(this.options.lensFadeOut):this.zoomLens.hide(),this.isLensActive=!1)},showHideTint:function(e){"show"!=e||this.isTintActive||(this.options.zoomTintFadeIn?this.zoomTint.css({opacity:this.options.tintOpacity
}).animate().stop(!0,!0).fadeIn("slow"):(this.zoomTint.css({opacity:this.options.tintOpacity}).animate(),this.zoomTint.show()),this.isTintActive=!0),"hide"==e&&this.isTintActive&&(this.options.zoomTintFadeOut?this.zoomTint.stop(!0,!0).fadeOut(this.options.zoomTintFadeOut):this.zoomTint.hide(),this.isTintActive=!1)},setLensPostition:function(e){},setWindowPostition:function(t){var i=this;if(isNaN(i.options.zoomWindowPosition))i.externalContainer=e("#"+i.options.zoomWindowPosition),i.externalContainerWidth=i.externalContainer.width(),i.externalContainerHeight=i.externalContainer.height(),i.externalContainerOffset=i.externalContainer.offset(),i.windowOffsetTop=i.externalContainerOffset.top,i.windowOffsetLeft=i.externalContainerOffset.left;else switch(i.options.zoomWindowPosition){case 1:i.windowOffsetTop=i.options.zoomWindowOffety,i.windowOffsetLeft=+i.nzWidth;break;case 2:i.options.zoomWindowHeight>i.nzHeight&&(i.windowOffsetTop=-1*(i.options.zoomWindowHeight/2-i.nzHeight/2),i.windowOffsetLeft=i.nzWidth);break;case 3:i.windowOffsetTop=i.nzHeight-i.zoomWindow.height()-2*i.options.borderSize,i.windowOffsetLeft=i.nzWidth;break;case 4:i.windowOffsetTop=i.nzHeight,i.windowOffsetLeft=i.nzWidth;break;case 5:i.windowOffsetTop=i.nzHeight,i.windowOffsetLeft=i.nzWidth-i.zoomWindow.width()-2*i.options.borderSize;break;case 6:i.options.zoomWindowHeight>i.nzHeight&&(i.windowOffsetTop=i.nzHeight,i.windowOffsetLeft=-1*(i.options.zoomWindowWidth/2-i.nzWidth/2+2*i.options.borderSize));break;case 7:i.windowOffsetTop=i.nzHeight,i.windowOffsetLeft=0;break;case 8:i.windowOffsetTop=i.nzHeight,i.windowOffsetLeft=-1*(i.zoomWindow.width()+2*i.options.borderSize);break;case 9:i.windowOffsetTop=i.nzHeight-i.zoomWindow.height()-2*i.options.borderSize,i.windowOffsetLeft=-1*(i.zoomWindow.width()+2*i.options.borderSize);break;case 10:i.options.zoomWindowHeight>i.nzHeight&&(i.windowOffsetTop=-1*(i.options.zoomWindowHeight/2-i.nzHeight/2),i.windowOffsetLeft=-1*(i.zoomWindow.width()+2*i.options.borderSize));break;case 11:i.windowOffsetTop=i.options.zoomWindowOffety,i.windowOffsetLeft=-1*(i.zoomWindow.width()+2*i.options.borderSize);break;case 12:i.windowOffsetTop=-1*(i.zoomWindow.height()+2*i.options.borderSize),i.windowOffsetLeft=-1*(i.zoomWindow.width()+2*i.options.borderSize);break;case 13:i.windowOffsetTop=-1*(i.zoomWindow.height()+2*i.options.borderSize),i.windowOffsetLeft=0;break;case 14:i.options.zoomWindowHeight>i.nzHeight&&(i.windowOffsetTop=-1*(i.zoomWindow.height()+2*i.options.borderSize),i.windowOffsetLeft=-1*(i.options.zoomWindowWidth/2-i.nzWidth/2+2*i.options.borderSize));break;case 15:i.windowOffsetTop=-1*(i.zoomWindow.height()+2*i.options.borderSize),i.windowOffsetLeft=i.nzWidth-i.zoomWindow.width()-2*i.options.borderSize;break;case 16:i.windowOffsetTop=-1*(i.zoomWindow.height()+2*i.options.borderSize),i.windowOffsetLeft=i.nzWidth;break;default:i.windowOffsetTop=i.options.zoomWindowOffety,i.windowOffsetLeft=i.nzWidth}i.isWindowSet=!0,i.windowOffsetTop+=i.options.zoomWindowOffety,i.windowOffsetLeft+=i.options.zoomWindowOffetx,i.zoomWindow.css({top:i.windowOffsetTop}),i.zoomWindow.css({left:i.windowOffsetLeft}),"inner"==i.options.zoomType&&(i.zoomWindow.css({top:0}),i.zoomWindow.css({left:0})),i.windowLeftPos=String(-1*((t.pageX-i.nzOffset.left)*i.widthRatio-i.zoomWindow.width()/2)),i.windowTopPos=String(-1*((t.pageY-i.nzOffset.top)*i.heightRatio-i.zoomWindow.height()/2)),i.Etoppos&&(i.windowTopPos=0),i.Eloppos&&(i.windowLeftPos=0),i.Eboppos&&(i.windowTopPos=-1*(i.largeHeight/i.currentZoomLevel-i.zoomWindow.height())),i.Eroppos&&(i.windowLeftPos=-1*(i.largeWidth/i.currentZoomLevel-i.zoomWindow.width())),i.fullheight&&(i.windowTopPos=0),i.fullwidth&&(i.windowLeftPos=0),"window"!=i.options.zoomType&&"inner"!=i.options.zoomType||(1==i.zoomLock&&(1>=i.widthRatio&&(i.windowLeftPos=0),1>=i.heightRatio&&(i.windowTopPos=0)),i.largeHeight<i.options.zoomWindowHeight&&(i.windowTopPos=0),i.largeWidth<i.options.zoomWindowWidth&&(i.windowLeftPos=0),i.options.easing?(i.xp||(i.xp=0),i.yp||(i.yp=0),i.loop||(i.loop=setInterval(function(){i.xp+=(i.windowLeftPos-i.xp)/i.options.easingAmount,i.yp+=(i.windowTopPos-i.yp)/i.options.easingAmount,i.scrollingLock?(clearInterval(i.loop),i.xp=i.windowLeftPos,i.yp=i.windowTopPos,i.xp=-1*((t.pageX-i.nzOffset.left)*i.widthRatio-i.zoomWindow.width()/2),i.yp=-1*((t.pageY-i.nzOffset.top)*i.heightRatio-i.zoomWindow.height()/2),i.changeBgSize&&(i.nzHeight>i.nzWidth?("lens"==i.options.zoomType&&i.zoomLens.css({"background-size":i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"}),i.zoomWindow.css({"background-size":i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"})):("lens"!=i.options.zoomType&&i.zoomLens.css({"background-size":i.largeWidth/i.newvaluewidth+"px "+i.largeHeight/i.newvalueheight+"px"}),i.zoomWindow.css({"background-size":i.largeWidth/i.newvaluewidth+"px "+i.largeHeight/i.newvaluewidth+"px"})),i.changeBgSize=!1),i.zoomWindow.css({backgroundPosition:i.windowLeftPos+"px "+i.windowTopPos+"px"}),i.scrollingLock=!1,i.loop=!1):(i.changeBgSize&&(i.nzHeight>i.nzWidth?("lens"==i.options.zoomType&&i.zoomLens.css({"background-size":i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"}),i.zoomWindow.css({"background-size":i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"})):("lens"!=i.options.zoomType&&i.zoomLens.css({"background-size":i.largeWidth/i.newvaluewidth+"px "+i.largeHeight/i.newvaluewidth+"px"}),i.zoomWindow.css({"background-size":i.largeWidth/i.newvaluewidth+"px "+i.largeHeight/i.newvaluewidth+"px"})),i.changeBgSize=!1),i.zoomWindow.css({backgroundPosition:i.xp+"px "+i.yp+"px"}))},16))):(i.changeBgSize&&(i.nzHeight>i.nzWidth?("lens"==i.options.zoomType&&i.zoomLens.css({"background-size":i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"}),i.zoomWindow.css({"background-size":i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"})):("lens"==i.options.zoomType&&i.zoomLens.css({"background-size":i.largeWidth/i.newvaluewidth+"px "+i.largeHeight/i.newvaluewidth+"px"}),i.largeHeight/i.newvaluewidth<i.options.zoomWindowHeight?i.zoomWindow.css({"background-size":i.largeWidth/i.newvaluewidth+"px "+i.largeHeight/i.newvaluewidth+"px"}):i.zoomWindow.css({"background-size":i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"})),i.changeBgSize=!1),i.zoomWindow.css({backgroundPosition:i.windowLeftPos+"px "+i.windowTopPos+"px"})))},setTintPosition:function(e){this.nzOffset=this.$elem.offset(),this.tintpos=String(-1*(e.pageX-this.nzOffset.left-this.zoomLens.width()/2)),this.tintposy=String(-1*(e.pageY-this.nzOffset.top-this.zoomLens.height()/2)),this.Etoppos&&(this.tintposy=0),this.Eloppos&&(this.tintpos=0),this.Eboppos&&(this.tintposy=-1*(this.nzHeight-this.zoomLens.height()-2*this.options.lensBorderSize)),this.Eroppos&&(this.tintpos=-1*(this.nzWidth-this.zoomLens.width()-2*this.options.lensBorderSize)),this.options.tint&&(this.fullheight&&(this.tintposy=0),this.fullwidth&&(this.tintpos=0),this.zoomTintImage.css({left:this.tintpos+"px"}),this.zoomTintImage.css({top:this.tintposy+"px"}))},swaptheimage:function(t,i){var s=this,n=new Image;s.options.loadingIcon&&(s.spinner=e("<div style=\"background: url('"+s.options.loadingIcon+"') no-repeat center;height:"+s.nzHeight+"px;width:"+s.nzWidth+'px;z-index: 2000;position: absolute; background-position: center center;"></div>'),s.$elem.after(s.spinner)),s.options.onImageSwap(s.$elem),n.onload=function(){s.largeWidth=n.width,s.largeHeight=n.height,s.zoomImage=i,s.zoomWindow.css({"background-size":s.largeWidth+"px "+s.largeHeight+"px"}),s.zoomWindow.css({"background-size":s.largeWidth+"px "+s.largeHeight+"px"}),s.swapAction(t,i)},n.src=i},swapAction:function(t,i){var s=this,n=new Image;if(n.onload=function(){s.nzHeight=n.height,s.nzWidth=n.width,s.options.onImageSwapComplete(s.$elem),s.doneCallback()},n.src=t,s.currentZoomLevel=s.options.zoomLevel,s.options.maxZoomLevel=!1,"lens"==s.options.zoomType&&s.zoomLens.css({backgroundImage:"url('"+i+"')"}),"window"==s.options.zoomType&&s.zoomWindow.css({backgroundImage:"url('"+i+"')"}),"inner"==s.options.zoomType&&s.zoomWindow.css({backgroundImage:"url('"+i+"')"}),s.currentImage=i,s.options.imageCrossfade){var o=s.$elem,r=o.clone();s.$elem.attr("src",t),s.$elem.after(r),r.stop(!0).fadeOut(s.options.imageCrossfade,function(){e(this).remove()}),s.$elem.width("auto").removeAttr("width"),s.$elem.height("auto").removeAttr("height"),o.fadeIn(s.options.imageCrossfade),s.options.tint&&"inner"!=s.options.zoomType&&(o=s.zoomTintImage,r=o.clone(),s.zoomTintImage.attr("src",i),s.zoomTintImage.after(r),r.stop(!0).fadeOut(s.options.imageCrossfade,function(){e(this).remove()}),o.fadeIn(s.options.imageCrossfade),s.zoomTint.css({height:s.$elem.height()}),s.zoomTint.css({width:s.$elem.width()})),s.zoomContainer.css("height",s.$elem.height()),s.zoomContainer.css("width",s.$elem.width()),"inner"!=s.options.zoomType||s.options.constrainType||(s.zoomWrap.parent().css("height",s.$elem.height()),s.zoomWrap.parent().css("width",s.$elem.width()),s.zoomWindow.css("height",s.$elem.height()),s.zoomWindow.css("width",s.$elem.width()))}else s.$elem.attr("src",t),s.options.tint&&(s.zoomTintImage.attr("src",i),s.zoomTintImage.attr("height",s.$elem.height()),s.zoomTintImage.css({height:s.$elem.height()}),s.zoomTint.css({height:s.$elem.height()})),s.zoomContainer.css("height",s.$elem.height()),s.zoomContainer.css("width",s.$elem.width());s.options.imageCrossfade&&(s.zoomWrap.css("height",s.$elem.height()),s.zoomWrap.css("width",s.$elem.width())),s.options.constrainType&&("height"==s.options.constrainType&&(s.zoomContainer.css("height",s.options.constrainSize),s.zoomContainer.css("width","auto"),s.options.imageCrossfade?(s.zoomWrap.css("height",s.options.constrainSize),s.zoomWrap.css("width","auto"),s.constwidth=s.zoomWrap.width()):(s.$elem.css("height",s.options.constrainSize),s.$elem.css("width","auto"),s.constwidth=s.$elem.width()),"inner"==s.options.zoomType&&(s.zoomWrap.parent().css("height",s.options.constrainSize),s.zoomWrap.parent().css("width",s.constwidth),s.zoomWindow.css("height",s.options.constrainSize),s.zoomWindow.css("width",s.constwidth)),s.options.tint&&(s.tintContainer.css("height",s.options.constrainSize),s.tintContainer.css("width",s.constwidth),s.zoomTint.css("height",s.options.constrainSize),s.zoomTint.css("width",s.constwidth),s.zoomTintImage.css("height",s.options.constrainSize),s.zoomTintImage.css("width",s.constwidth))),"width"==s.options.constrainType&&(s.zoomContainer.css("height","auto"),s.zoomContainer.css("width",s.options.constrainSize),s.options.imageCrossfade?(s.zoomWrap.css("height","auto"),s.zoomWrap.css("width",s.options.constrainSize),s.constheight=s.zoomWrap.height()):(s.$elem.css("height","auto"),s.$elem.css("width",s.options.constrainSize),s.constheight=s.$elem.height()),"inner"==s.options.zoomType&&(s.zoomWrap.parent().css("height",s.constheight),s.zoomWrap.parent().css("width",s.options.constrainSize),s.zoomWindow.css("height",s.constheight),s.zoomWindow.css("width",s.options.constrainSize)),s.options.tint&&(s.tintContainer.css("height",s.constheight),s.tintContainer.css("width",s.options.constrainSize),s.zoomTint.css("height",s.constheight),s.zoomTint.css("width",s.options.constrainSize),s.zoomTintImage.css("height",s.constheight),s.zoomTintImage.css("width",s.options.constrainSize))))},doneCallback:function(){this.options.loadingIcon&&this.spinner.hide(),this.nzOffset=this.$elem.offset(),this.nzWidth=this.$elem.width(),this.nzHeight=this.$elem.height(),this.currentZoomLevel=this.options.zoomLevel,this.widthRatio=this.largeWidth/this.nzWidth,this.heightRatio=this.largeHeight/this.nzHeight,"window"==this.options.zoomType&&(lensHeight=this.nzHeight<this.options.zoomWindowWidth/this.widthRatio?this.nzHeight:String(this.options.zoomWindowHeight/this.heightRatio),lensWidth=this.options.zoomWindowWidth<this.options.zoomWindowWidth?this.nzWidth:this.options.zoomWindowWidth/this.widthRatio,this.zoomLens&&(this.zoomLens.css("width",lensWidth),this.zoomLens.css("height",lensHeight)))},getCurrentImage:function(){return this.zoomImage},getGalleryList:function(){var t=this;return t.gallerylist=[],t.options.gallery?e("#"+t.options.gallery+" a").each(function(){var i="";e(this).data("zoom-image")?i=e(this).data("zoom-image"):e(this).data("image")&&(i=e(this).data("image")),i==t.zoomImage?t.gallerylist.unshift({href:""+i,title:e(this).find("img").attr("title")}):t.gallerylist.push({href:""+i,title:e(this).find("img").attr("title")})}):t.gallerylist.push({href:""+t.zoomImage,title:e(this).find("img").attr("title")}),t.gallerylist},changeZoomLevel:function(e){this.scrollingLock=!0,this.newvalue=parseFloat(e).toFixed(2),newvalue=parseFloat(e).toFixed(2),maxheightnewvalue=this.largeHeight/(this.options.zoomWindowHeight/this.nzHeight*this.nzHeight),maxwidthtnewvalue=this.largeWidth/(this.options.zoomWindowWidth/this.nzWidth*this.nzWidth),"inner"!=this.options.zoomType&&(maxheightnewvalue<=newvalue?(this.heightRatio=this.largeHeight/maxheightnewvalue/this.nzHeight,this.newvalueheight=maxheightnewvalue,this.fullheight=!0):(this.heightRatio=this.largeHeight/newvalue/this.nzHeight,this.newvalueheight=newvalue,this.fullheight=!1),maxwidthtnewvalue<=newvalue?(this.widthRatio=this.largeWidth/maxwidthtnewvalue/this.nzWidth,this.newvaluewidth=maxwidthtnewvalue,this.fullwidth=!0):(this.widthRatio=this.largeWidth/newvalue/this.nzWidth,this.newvaluewidth=newvalue,this.fullwidth=!1),"lens"==this.options.zoomType&&(maxheightnewvalue<=newvalue?(this.fullwidth=!0,this.newvaluewidth=maxheightnewvalue):(this.widthRatio=this.largeWidth/newvalue/this.nzWidth,this.newvaluewidth=newvalue,this.fullwidth=!1))),"inner"==this.options.zoomType&&(maxheightnewvalue=parseFloat(this.largeHeight/this.nzHeight).toFixed(2),maxwidthtnewvalue=parseFloat(this.largeWidth/this.nzWidth).toFixed(2),newvalue>maxheightnewvalue&&(newvalue=maxheightnewvalue),newvalue>maxwidthtnewvalue&&(newvalue=maxwidthtnewvalue),maxheightnewvalue<=newvalue?(this.heightRatio=this.largeHeight/newvalue/this.nzHeight,this.newvalueheight=newvalue>maxheightnewvalue?maxheightnewvalue:newvalue,this.fullheight=!0):(this.heightRatio=this.largeHeight/newvalue/this.nzHeight,this.newvalueheight=newvalue>maxheightnewvalue?maxheightnewvalue:newvalue,this.fullheight=!1),maxwidthtnewvalue<=newvalue?(this.widthRatio=this.largeWidth/newvalue/this.nzWidth,this.newvaluewidth=newvalue>maxwidthtnewvalue?maxwidthtnewvalue:newvalue,this.fullwidth=!0):(this.widthRatio=this.largeWidth/newvalue/this.nzWidth,this.newvaluewidth=newvalue,this.fullwidth=!1)),scrcontinue=!1,"inner"==this.options.zoomType&&(this.nzWidth>this.nzHeight&&(this.newvaluewidth<=maxwidthtnewvalue?scrcontinue=!0:(scrcontinue=!1,this.fullwidth=this.fullheight=!0)),this.nzHeight>this.nzWidth&&(this.newvaluewidth<=maxwidthtnewvalue?scrcontinue=!0:(scrcontinue=!1,this.fullwidth=this.fullheight=!0))),"inner"!=this.options.zoomType&&(scrcontinue=!0),scrcontinue&&(this.zoomLock=0,this.changeZoom=!0,this.options.zoomWindowHeight/this.heightRatio<=this.nzHeight&&(this.currentZoomLevel=this.newvalueheight,"lens"!=this.options.zoomType&&"inner"!=this.options.zoomType&&(this.changeBgSize=!0,this.zoomLens.css({height:String(this.options.zoomWindowHeight/this.heightRatio)+"px"})),"lens"==this.options.zoomType||"inner"==this.options.zoomType)&&(this.changeBgSize=!0),this.options.zoomWindowWidth/this.widthRatio<=this.nzWidth&&("inner"!=this.options.zoomType&&this.newvaluewidth>this.newvalueheight&&(this.currentZoomLevel=this.newvaluewidth),"lens"!=this.options.zoomType&&"inner"!=this.options.zoomType&&(this.changeBgSize=!0,this.zoomLens.css({width:String(this.options.zoomWindowWidth/this.widthRatio)+"px"})),"lens"==this.options.zoomType||"inner"==this.options.zoomType)&&(this.changeBgSize=!0),"inner"==this.options.zoomType&&(this.changeBgSize=!0,this.nzWidth>this.nzHeight&&(this.currentZoomLevel=this.newvaluewidth),this.nzHeight>this.nzWidth&&(this.currentZoomLevel=this.newvaluewidth))),this.setPosition(this.currentLoc)},closeAll:function(){self.zoomWindow&&self.zoomWindow.hide(),self.zoomLens&&self.zoomLens.hide(),self.zoomTint&&self.zoomTint.hide()},changeState:function(e){"enable"==e&&(this.options.zoomEnabled=!0),"disable"==e&&(this.options.zoomEnabled=!1)}};e.fn.elevateZoom=function(t){return this.each(function(){var i=Object.create(n);i.init(t,this),e.data(this,"elevateZoom",i)})},e.fn.elevateZoom.options={zoomActivation:"hover",zoomEnabled:!0,preloading:1,zoomLevel:1,scrollZoom:!1,scrollZoomIncrement:.1,minZoomLevel:!1,maxZoomLevel:!1,easing:!1,easingAmount:12,lensSize:200,zoomWindowWidth:400,zoomWindowHeight:400,zoomWindowOffetx:0,zoomWindowOffety:0,zoomWindowPosition:1,zoomWindowBgColour:"#fff",lensFadeIn:!1,lensFadeOut:!1,debug:!1,zoomWindowFadeIn:!1,zoomWindowFadeOut:!1,zoomWindowAlwaysShow:!1,zoomTintFadeIn:!1,zoomTintFadeOut:!1,borderSize:4,showLens:!0,borderColour:"#888",lensBorderSize:1,lensBorderColour:"#000",lensShape:"square",zoomType:"window",containLensZoom:!1,lensColour:"white",lensOpacity:.4,lenszoom:!1,tint:!1,tintColour:"#333",tintOpacity:.4,gallery:!1,galleryActiveClass:"zoomGalleryActive",imageCrossfade:!1,constrainType:!1,constrainSize:!1,loadingIcon:!1,cursor:"default",responsive:!0,onComplete:e.noop,onZoomedImageLoaded:function(){},onImageSwap:e.noop,onImageSwapComplete:e.noop}}(jQuery,window,document),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){var t=-1,i=-1,s=function(e){return parseFloat(e)||0},n=function(t){var i=e(t),n=null,o=[];return i.each(function(){var t=e(this),i=t.offset().top-s(t.css("margin-top")),r=o.length>0?o[o.length-1]:null;null===r?o.push(t):Math.floor(Math.abs(n-i))<=1?o[o.length-1]=r.add(t):o.push(t),n=i}),o},o=function(t){var i={byRow:!0,property:"height",target:null,remove:!1};return"object"==typeof t?e.extend(i,t):("boolean"==typeof t?i.byRow=t:"remove"===t&&(i.remove=!0),i)},r=e.fn.matchHeight=function(t){var i=o(t);if(i.remove){var s=this;return this.css(i.property,""),e.each(r._groups,function(e,t){t.elements=t.elements.not(s)}),this}return this.length<=1&&!i.target?this:(r._groups.push({elements:this,options:i}),r._apply(this,i),this)};r.version="0.7.0",r._groups=[],r._throttle=80,r._maintainScroll=!1,r._beforeUpdate=null,r._afterUpdate=null,r._rows=n,r._parse=s,r._parseOptions=o,r._apply=function(t,i){var a=o(i),l=e(t),c=[l],d=e(window).scrollTop(),h=e("html").outerHeight(!0),u=l.parents().filter(":hidden");return u.each(function(){var t=e(this);t.data("style-cache",t.attr("style"))}),u.css("display","block"),a.byRow&&!a.target&&(l.each(function(){var t=e(this),i=t.css("display");"inline-block"!==i&&"flex"!==i&&"inline-flex"!==i&&(i="block"),t.data("style-cache",t.attr("style")),t.css({display:i,"padding-top":"0","padding-bottom":"0","margin-top":"0","margin-bottom":"0","border-top-width":"0","border-bottom-width":"0",height:"100px",overflow:"hidden"})}),c=n(l),l.each(function(){var t=e(this);t.attr("style",t.data("style-cache")||"")})),e.each(c,function(t,i){var n=e(i),o=0;if(a.target)o=a.target.outerHeight(!1);else{if(a.byRow&&n.length<=1)return void n.css(a.property,"");n.each(function(){var t=e(this),i=t.attr("style"),s=t.css("display");"inline-block"!==s&&"flex"!==s&&"inline-flex"!==s&&(s="block");var n={display:s};n[a.property]="",t.css(n),t.outerHeight(!1)>o&&(o=t.outerHeight(!1)),i?t.attr("style",i):t.css("display","")})}n.each(function(){var t=e(this),i=0;a.target&&t.is(a.target)||("border-box"!==t.css("box-sizing")&&(i+=s(t.css("border-top-width"))+s(t.css("border-bottom-width")),i+=s(t.css("padding-top"))+s(t.css("padding-bottom"))),t.css(a.property,o-i+"px"))})}),u.each(function(){var t=e(this);t.attr("style",t.data("style-cache")||null)}),r._maintainScroll&&e(window).scrollTop(d/h*e("html").outerHeight(!0)),this},r._applyDataApi=function(){var t={};e("[data-match-height], [data-mh]").each(function(){var i=e(this),s=i.attr("data-mh")||i.attr("data-match-height");t[s]=s in t?t[s].add(i):i}),e.each(t,function(){this.matchHeight(!0)})};var a=function(t){r._beforeUpdate&&r._beforeUpdate(t,r._groups),e.each(r._groups,function(){r._apply(this.elements,this.options)}),r._afterUpdate&&r._afterUpdate(t,r._groups)};r._update=function(s,n){if(n&&"resize"===n.type){var o=e(window).width();if(o===t)return;t=o}s?-1===i&&(i=setTimeout(function(){a(n),i=-1},r._throttle)):a(n)},e(r._applyDataApi),e(window).bind("load",function(e){r._update(!1,e)}),e(window).bind("resize orientationchange",function(e){r._update(!0,e)})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e,t){"use strict";if(!e.jstree){var i=0,s=!1,n=!1,o=!1,r=[],a=e("script:last").attr("src"),l=window.document;e.jstree={version:"3.3.3",defaults:{plugins:[]},plugins:{},path:a&&a.indexOf("/")!==-1?a.replace(/\/[^\/]+$/,""):"",idregex:/[\\:&!^|()\[\]<>@*'+~#";.,=\- \/${}%?`]/g,root:"#"},e.jstree.create=function(t,s){var n=new e.jstree.core(++i),o=s;return s=e.extend(!0,{},e.jstree.defaults,s),o&&o.plugins&&(s.plugins=o.plugins),e.each(s.plugins,function(e,t){"core"!==e&&(n=n.plugin(t,s[t]))}),e(t).data("jstree",n),n.init(t,s),n},e.jstree.destroy=function(){e(".jstree:jstree").jstree("destroy"),e(l).off(".jstree")},e.jstree.core=function(e){this._id=e,this._cnt=0,this._wrk=null,this._data={core:{themes:{name:!1,dots:!1,icons:!1,ellipsis:!1},selected:[],last_error:{},working:!1,worker_queue:[],focused:null}}},e.jstree.reference=function(t){var i=null,s=null;if(!t||!t.id||t.tagName&&t.nodeType||(t=t.id),!s||!s.length)try{s=e(t)}catch(e){}if(!s||!s.length)try{s=e("#"+t.replace(e.jstree.idregex,"\\$&"))}catch(e){}return s&&s.length&&(s=s.closest(".jstree")).length&&(s=s.data("jstree"))?i=s:e(".jstree").each(function(){var s=e(this).data("jstree");if(s&&s._model.data[t])return i=s,!1}),i},e.fn.jstree=function(i){var s="string"==typeof i,n=Array.prototype.slice.call(arguments,1),o=null;return!(i===!0&&!this.length)&&(this.each(function(){var r=e.jstree.reference(this),a=s&&r?r[i]:null;if(o=s&&a?a.apply(r,n):null,r||s||i!==t&&!e.isPlainObject(i)||e.jstree.create(this,i),(r&&!s||i===!0)&&(o=r||!1),null!==o&&o!==t)return!1}),null!==o&&o!==t?o:this)},e.expr.pseudos.jstree=e.expr.createPseudo(function(i){return function(i){return e(i).hasClass("jstree")&&e(i).data("jstree")!==t}}),e.jstree.defaults.core={data:!1,strings:!1,check_callback:!1,error:e.noop,animation:200,multiple:!0,themes:{name:!1,url:!1,dir:!1,dots:!0,icons:!0,ellipsis:!1,stripes:!1,variant:!1,responsive:!1},expand_selected_onload:!0,worker:!0,force_text:!1,dblclick_toggle:!0},e.jstree.core.prototype={plugin:function(t,i){var s=e.jstree.plugins[t];return s?(this._data[t]={},s.prototype=this,new s(i,this)):this},init:function(t,i){this._model={data:{},changed:[],force_full_redraw:!1,redraw_timeout:!1,default_state:{loaded:!0,opened:!1,selected:!1,disabled:!1}},this._model.data[e.jstree.root]={id:e.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this.element=e(t).addClass("jstree jstree-"+this._id),this.settings=i,this._data.core.ready=!1,this._data.core.loaded=!1,this._data.core.rtl="rtl"===this.element.css("direction"),this.element[this._data.core.rtl?"addClass":"removeClass"]("jstree-rtl"),this.element.attr("role","tree"),this.settings.core.multiple&&this.element.attr("aria-multiselectable",!0),this.element.attr("tabindex")||this.element.attr("tabindex","0"),this.bind(),this.trigger("init"),this._data.core.original_container_html=this.element.find(" > ul > li").clone(!0),this._data.core.original_container_html.find("li").addBack().contents().filter(function(){return 3===this.nodeType&&(!this.nodeValue||/^\s+$/.test(this.nodeValue))}).remove(),this.element.html("<ul class='jstree-container-ul jstree-children' role='group'><li id='j"+this._id+"_loading' class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='tree-item'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading"),this._data.core.li_height=this.get_container_ul().children("li").first().height()||24,this._data.core.node=this._create_prototype_node(),this.trigger("loading"),this.load_node(e.jstree.root)},destroy:function(e){if(this._wrk)try{window.URL.revokeObjectURL(this._wrk),this._wrk=null}catch(e){}e||this.element.empty(),this.teardown()},_create_prototype_node:function(){var e,t,i=l.createElement("LI");return i.setAttribute("role","treeitem"),e=l.createElement("I"),e.className="jstree-icon jstree-ocl",e.setAttribute("role","presentation"),i.appendChild(e),e=l.createElement("A"),e.className="jstree-anchor",e.setAttribute("href","#"),e.setAttribute("tabindex","-1"),t=l.createElement("I"),t.className="jstree-icon jstree-themeicon",t.setAttribute("role","presentation"),e.appendChild(t),i.appendChild(e),e=t=null,i},teardown:function(){this.unbind(),this.element.removeClass("jstree").removeData("jstree").find("[class^='jstree']").addBack().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/gi,"")}),this.element=null},bind:function(){var t="",i=null,s=0;this.element.on("dblclick.jstree",function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;if(l.selection&&l.selection.empty)l.selection.empty();else if(window.getSelection){var t=window.getSelection();try{t.removeAllRanges(),t.collapse()}catch(e){}}}).on("mousedown.jstree",e.proxy(function(e){e.target===this.element[0]&&(e.preventDefault(),s=+new Date)},this)).on("mousedown.jstree",".jstree-ocl",function(e){e.preventDefault()}).on("click.jstree",".jstree-ocl",e.proxy(function(e){this.toggle_node(e.target)},this)).on("dblclick.jstree",".jstree-anchor",e.proxy(function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;this.settings.core.dblclick_toggle&&this.toggle_node(e.target)},this)).on("click.jstree",".jstree-anchor",e.proxy(function(t){t.preventDefault(),t.currentTarget!==l.activeElement&&e(t.currentTarget).focus(),this.activate_node(t.currentTarget,t)},this)).on("keydown.jstree",".jstree-anchor",e.proxy(function(t){if(t.target.tagName&&"input"===t.target.tagName.toLowerCase())return!0;if(32!==t.which&&13!==t.which&&(t.shiftKey||t.ctrlKey||t.altKey||t.metaKey))return!0;var i=null;switch(this._data.core.rtl&&(37===t.which?t.which=39:39===t.which&&(t.which=37)),t.which){case 32:t.ctrlKey&&(t.type="click",e(t.currentTarget).trigger(t));break;case 13:t.type="click",e(t.currentTarget).trigger(t);break;case 37:t.preventDefault(),this.is_open(t.currentTarget)?this.close_node(t.currentTarget):(i=this.get_parent(t.currentTarget))&&i.id!==e.jstree.root&&this.get_node(i,!0).children(".jstree-anchor").focus();break;case 38:t.preventDefault(),i=this.get_prev_dom(t.currentTarget),i&&i.length&&i.children(".jstree-anchor").focus();break;case 39:t.preventDefault(),this.is_closed(t.currentTarget)?this.open_node(t.currentTarget,function(e){this.get_node(e,!0).children(".jstree-anchor").focus()}):this.is_open(t.currentTarget)&&(i=this.get_node(t.currentTarget,!0).children(".jstree-children")[0])&&e(this._firstChild(i)).children(".jstree-anchor").focus();break;case 40:t.preventDefault(),i=this.get_next_dom(t.currentTarget),i&&i.length&&i.children(".jstree-anchor").focus();break;case 106:this.open_all();break;case 36:t.preventDefault(),i=this._firstChild(this.get_container_ul()[0]),i&&e(i).children(".jstree-anchor").filter(":visible").focus();break;case 35:t.preventDefault(),this.element.find(".jstree-anchor").filter(":visible").last().focus();break;case 113:t.preventDefault(),this.edit(t.currentTarget)}},this)).on("load_node.jstree",e.proxy(function(t,i){i.status&&(i.node.id!==e.jstree.root||this._data.core.loaded||(this._data.core.loaded=!0,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.trigger("loaded")),this._data.core.ready||setTimeout(e.proxy(function(){if(this.element&&!this.get_container_ul().find(".jstree-loading").length){if(this._data.core.ready=!0,this._data.core.selected.length){if(this.settings.core.expand_selected_onload){var t,i,s=[];for(t=0,i=this._data.core.selected.length;t<i;t++)s=s.concat(this._model.data[this._data.core.selected[t]].parents);for(s=e.vakata.array_unique(s),t=0,i=s.length;t<i;t++)this.open_node(s[t],!1,0)}this.trigger("changed",{action:"ready",selected:this._data.core.selected})}this.trigger("ready")}},this),0))},this)).on("keypress.jstree",e.proxy(function(s){if(s.target.tagName&&"input"===s.target.tagName.toLowerCase())return!0;i&&clearTimeout(i),i=setTimeout(function(){t=""},500);var n=String.fromCharCode(s.which).toLowerCase(),o=this.element.find(".jstree-anchor").filter(":visible"),r=o.index(l.activeElement)||0,a=!1;if(t+=n,t.length>1){if(o.slice(r).each(e.proxy(function(i,s){if(0===e(s).text().toLowerCase().indexOf(t))return e(s).focus(),a=!0,!1},this)),a)return;if(o.slice(0,r).each(e.proxy(function(i,s){if(0===e(s).text().toLowerCase().indexOf(t))return e(s).focus(),a=!0,!1},this)),a)return}if(new RegExp("^"+n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"+$").test(t)){if(o.slice(r+1).each(e.proxy(function(t,i){if(e(i).text().toLowerCase().charAt(0)===n)return e(i).focus(),a=!0,!1},this)),a)return;if(o.slice(0,r+1).each(e.proxy(function(t,i){if(e(i).text().toLowerCase().charAt(0)===n)return e(i).focus(),a=!0,!1},this)),a)return}},this)).on("init.jstree",e.proxy(function(){var e=this.settings.core.themes;this._data.core.themes.dots=e.dots,this._data.core.themes.stripes=e.stripes,this._data.core.themes.icons=e.icons,this._data.core.themes.ellipsis=e.ellipsis,this.set_theme(e.name||"default",e.url),this.set_theme_variant(e.variant)},this)).on("loading.jstree",e.proxy(function(){this[this._data.core.themes.dots?"show_dots":"hide_dots"](),this[this._data.core.themes.icons?"show_icons":"hide_icons"](),this[this._data.core.themes.stripes?"show_stripes":"hide_stripes"](),this[this._data.core.themes.ellipsis?"show_ellipsis":"hide_ellipsis"]()},this)).on("blur.jstree",".jstree-anchor",e.proxy(function(t){this._data.core.focused=null,e(t.currentTarget).filter(".jstree-hovered").mouseleave(),this.element.attr("tabindex","0")},this)).on("focus.jstree",".jstree-anchor",e.proxy(function(t){var i=this.get_node(t.currentTarget);i&&i.id&&(this._data.core.focused=i.id),this.element.find(".jstree-hovered").not(t.currentTarget).mouseleave(),e(t.currentTarget).mouseenter(),this.element.attr("tabindex","-1")},this)).on("focus.jstree",e.proxy(function(){if(+new Date-s>500&&!this._data.core.focused){s=0;var e=this.get_node(this.element.attr("aria-activedescendant"),!0);e&&e.find("> .jstree-anchor").focus()}},this)).on("mouseenter.jstree",".jstree-anchor",e.proxy(function(e){this.hover_node(e.currentTarget)},this)).on("mouseleave.jstree",".jstree-anchor",e.proxy(function(e){this.dehover_node(e.currentTarget)},this))},unbind:function(){this.element.off(".jstree"),e(l).off(".jstree-"+this._id)},trigger:function(e,t){t||(t={}),t.instance=this,this.element.triggerHandler(e.replace(".jstree","")+".jstree",t)},get_container:function(){return this.element},get_container_ul:function(){return this.element.children(".jstree-children").first()},get_string:function(t){var i=this.settings.core.strings;return e.isFunction(i)?i.call(this,t):i&&i[t]?i[t]:t},_firstChild:function(e){for(e=e?e.firstChild:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},_nextSibling:function(e){for(e=e?e.nextSibling:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},_previousSibling:function(e){for(e=e?e.previousSibling:null;null!==e&&1!==e.nodeType;)e=e.previousSibling;return e},get_node:function(t,i){
t&&t.id&&(t=t.id);var s;try{if(this._model.data[t])t=this._model.data[t];else if("string"==typeof t&&this._model.data[t.replace(/^#/,"")])t=this._model.data[t.replace(/^#/,"")];else if("string"==typeof t&&(s=e("#"+t.replace(e.jstree.idregex,"\\$&"),this.element)).length&&this._model.data[s.closest(".jstree-node").attr("id")])t=this._model.data[s.closest(".jstree-node").attr("id")];else if((s=e(t,this.element)).length&&this._model.data[s.closest(".jstree-node").attr("id")])t=this._model.data[s.closest(".jstree-node").attr("id")];else{if(!(s=e(t,this.element)).length||!s.hasClass("jstree"))return!1;t=this._model.data[e.jstree.root]}return i&&(t=t.id===e.jstree.root?this.element:e("#"+t.id.replace(e.jstree.idregex,"\\$&"),this.element)),t}catch(e){return!1}},get_path:function(t,i,s){if(!(t=t.parents?t:this.get_node(t))||t.id===e.jstree.root||!t.parents)return!1;var n,o,r=[];for(r.push(s?t.id:t.text),n=0,o=t.parents.length;n<o;n++)r.push(s?t.parents[n]:this.get_text(t.parents[n]));return r=r.reverse().slice(1),i?r.join(i):r},get_next_dom:function(t,i){var s;if(t=this.get_node(t,!0),t[0]===this.element[0]){for(s=this._firstChild(this.get_container_ul()[0]);s&&0===s.offsetHeight;)s=this._nextSibling(s);return!!s&&e(s)}if(!t||!t.length)return!1;if(i){s=t[0];do{s=this._nextSibling(s)}while(s&&0===s.offsetHeight);return!!s&&e(s)}if(t.hasClass("jstree-open")){for(s=this._firstChild(t.children(".jstree-children")[0]);s&&0===s.offsetHeight;)s=this._nextSibling(s);if(null!==s)return e(s)}s=t[0];do{s=this._nextSibling(s)}while(s&&0===s.offsetHeight);return null!==s?e(s):t.parentsUntil(".jstree",".jstree-node").nextAll(".jstree-node:visible").first()},get_prev_dom:function(t,i){var s;if(t=this.get_node(t,!0),t[0]===this.element[0]){for(s=this.get_container_ul()[0].lastChild;s&&0===s.offsetHeight;)s=this._previousSibling(s);return!!s&&e(s)}if(!t||!t.length)return!1;if(i){s=t[0];do{s=this._previousSibling(s)}while(s&&0===s.offsetHeight);return!!s&&e(s)}s=t[0];do{s=this._previousSibling(s)}while(s&&0===s.offsetHeight);if(null!==s){for(t=e(s);t.hasClass("jstree-open");)t=t.children(".jstree-children").first().children(".jstree-node:visible:last");return t}return!(!(s=t[0].parentNode.parentNode)||!s.className||s.className.indexOf("jstree-node")===-1)&&e(s)},get_parent:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.parent},get_children_dom:function(e){return e=this.get_node(e,!0),e[0]===this.element[0]?this.get_container_ul().children(".jstree-node"):!(!e||!e.length)&&e.children(".jstree-children").children(".jstree-node")},is_parent:function(e){return(e=this.get_node(e))&&(e.state.loaded===!1||e.children.length>0)},is_loaded:function(e){return(e=this.get_node(e))&&e.state.loaded},is_loading:function(e){return(e=this.get_node(e))&&e.state&&e.state.loading},is_open:function(e){return(e=this.get_node(e))&&e.state.opened},is_closed:function(e){return(e=this.get_node(e))&&this.is_parent(e)&&!e.state.opened},is_leaf:function(e){return!this.is_parent(e)},load_node:function(t,i){var s,n,o,r,a;if(e.isArray(t))return this._load_nodes(t.slice(),i),!0;if(!(t=this.get_node(t)))return i&&i.call(this,t,!1),!1;if(t.state.loaded){for(t.state.loaded=!1,o=0,r=t.parents.length;o<r;o++)this._model.data[t.parents[o]].children_d=e.vakata.array_filter(this._model.data[t.parents[o]].children_d,function(i){return e.inArray(i,t.children_d)===-1});for(s=0,n=t.children_d.length;s<n;s++)this._model.data[t.children_d[s]].state.selected&&(a=!0),delete this._model.data[t.children_d[s]];a&&(this._data.core.selected=e.vakata.array_filter(this._data.core.selected,function(i){return e.inArray(i,t.children_d)===-1})),t.children=[],t.children_d=[],a&&this.trigger("changed",{action:"load_node",node:t,selected:this._data.core.selected})}return t.state.failed=!1,t.state.loading=!0,this.get_node(t,!0).addClass("jstree-loading").attr("aria-busy",!0),this._load_node(t,e.proxy(function(e){t=this._model.data[t.id],t.state.loading=!1,t.state.loaded=e,t.state.failed=!t.state.loaded;var s=this.get_node(t,!0),n=0,o=0,r=this._model.data,a=!1;for(n=0,o=t.children.length;n<o;n++)if(r[t.children[n]]&&!r[t.children[n]].state.hidden){a=!0;break}t.state.loaded&&s&&s.length&&(s.removeClass("jstree-closed jstree-open jstree-leaf"),a?"#"!==t.id&&s.addClass(t.state.opened?"jstree-open":"jstree-closed"):s.addClass("jstree-leaf")),s.removeClass("jstree-loading").attr("aria-busy",!1),this.trigger("load_node",{node:t,status:e}),i&&i.call(this,t,e)},this)),!0},_load_nodes:function(e,t,i,s){var n,o,r=!0,a=function(){this._load_nodes(e,t,!0)},l=this._model.data,c=[];for(n=0,o=e.length;n<o;n++)l[e[n]]&&(!l[e[n]].state.loaded&&!l[e[n]].state.failed||!i&&s)&&(this.is_loading(e[n])||this.load_node(e[n],a),r=!1);if(r){for(n=0,o=e.length;n<o;n++)l[e[n]]&&l[e[n]].state.loaded&&c.push(e[n]);t&&!t.done&&(t.call(this,c),t.done=!0)}},load_all:function(t,i){if(t||(t=e.jstree.root),!(t=this.get_node(t)))return!1;var s,n,o=[],r=this._model.data,a=r[t.id].children_d;for(t.state&&!t.state.loaded&&o.push(t.id),s=0,n=a.length;s<n;s++)r[a[s]]&&r[a[s]].state&&!r[a[s]].state.loaded&&o.push(a[s]);o.length?this._load_nodes(o,function(){this.load_all(t,i)}):(i&&i.call(this,t),this.trigger("load_all",{node:t}))},_load_node:function(t,i){var s,n=this.settings.core.data,o=function(){return 3!==this.nodeType&&8!==this.nodeType};return n?e.isFunction(n)?n.call(this,t,e.proxy(function(s){s===!1?i.call(this,!1):this["string"==typeof s?"_append_html_data":"_append_json_data"](t,"string"==typeof s?e(e.parseHTML(s)).filter(o):s,function(e){i.call(this,e)})},this)):"object"==typeof n?n.url?(n=e.extend(!0,{},n),e.isFunction(n.url)&&(n.url=n.url.call(this,t)),e.isFunction(n.data)&&(n.data=n.data.call(this,t)),e.ajax(n).done(e.proxy(function(s,n,r){var a=r.getResponseHeader("Content-Type");return a&&a.indexOf("json")!==-1||"object"==typeof s?this._append_json_data(t,s,function(e){i.call(this,e)}):a&&a.indexOf("html")!==-1||"string"==typeof s?this._append_html_data(t,e(e.parseHTML(s)).filter(o),function(e){i.call(this,e)}):(this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:t.id,xhr:r})},this.settings.core.error.call(this,this._data.core.last_error),i.call(this,!1))},this)).fail(e.proxy(function(e){i.call(this,!1),this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:t.id,xhr:e})},this.settings.core.error.call(this,this._data.core.last_error)},this))):(s=e.isArray(n)||e.isPlainObject(n)?JSON.parse(JSON.stringify(n)):n,t.id===e.jstree.root?this._append_json_data(t,s,function(e){i.call(this,e)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_05",reason:"Could not load node",data:JSON.stringify({id:t.id})},this.settings.core.error.call(this,this._data.core.last_error),i.call(this,!1))):"string"==typeof n?t.id===e.jstree.root?this._append_html_data(t,e(e.parseHTML(n)).filter(o),function(e){i.call(this,e)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_06",reason:"Could not load node",data:JSON.stringify({id:t.id})},this.settings.core.error.call(this,this._data.core.last_error),i.call(this,!1)):i.call(this,!1):t.id===e.jstree.root?this._append_html_data(t,this._data.core.original_container_html.clone(!0),function(e){i.call(this,e)}):i.call(this,!1)},_node_changed:function(e){(e=this.get_node(e))&&this._model.changed.push(e.id)},_append_html_data:function(t,i,s){t=this.get_node(t),t.children=[],t.children_d=[];var n,o,r,a=i.is("ul")?i.children():i,l=t.id,c=[],d=[],h=this._model.data,u=h[l],p=this._data.core.selected.length;for(a.each(e.proxy(function(t,i){(n=this._parse_model_from_html(e(i),l,u.parents.concat()))&&(c.push(n),d.push(n),h[n].children_d.length&&(d=d.concat(h[n].children_d)))},this)),u.children=c,u.children_d=d,o=0,r=u.parents.length;o<r;o++)h[u.parents[o]].children_d=h[u.parents[o]].children_d.concat(d);this.trigger("model",{nodes:d,parent:l}),l!==e.jstree.root?(this._node_changed(l),this.redraw()):(this.get_container_ul().children(".jstree-initial-node").remove(),this.redraw(!0)),this._data.core.selected.length!==p&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),s.call(this,!0)},_append_json_data:function(t,i,s,n){if(null!==this.element){t=this.get_node(t),t.children=[],t.children_d=[],i.d&&"string"==typeof(i=i.d)&&(i=JSON.parse(i)),e.isArray(i)||(i=[i]);var o=null,r={df:this._model.default_state,dat:i,par:t.id,m:this._model.data,t_id:this._id,t_cnt:this._cnt,sel:this._data.core.selected},a=function(e,t){e.data&&(e=e.data);var i,s,n,o,r=e.dat,a=e.par,l=[],c=[],d=[],h=e.df,u=e.t_id,p=e.t_cnt,f=e.m,g=f[a],m=e.sel,_=function(e,i,s){s=s?s.concat():[],i&&s.unshift(i);var n,o,r,a,l=e.id.toString(),c={id:l,text:e.text||"",icon:e.icon===t||e.icon,parent:i,parents:s,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(n in h)h.hasOwnProperty(n)&&(c.state[n]=h[n]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(c.icon=e.data.jstree.icon),c.icon!==t&&null!==c.icon&&""!==c.icon||(c.icon=!0),e&&e.data&&(c.data=e.data,e.data.jstree))for(n in e.data.jstree)e.data.jstree.hasOwnProperty(n)&&(c.state[n]=e.data.jstree[n]);if(e&&"object"==typeof e.state)for(n in e.state)e.state.hasOwnProperty(n)&&(c.state[n]=e.state[n]);if(e&&"object"==typeof e.li_attr)for(n in e.li_attr)e.li_attr.hasOwnProperty(n)&&(c.li_attr[n]=e.li_attr[n]);if(c.li_attr.id||(c.li_attr.id=l),e&&"object"==typeof e.a_attr)for(n in e.a_attr)e.a_attr.hasOwnProperty(n)&&(c.a_attr[n]=e.a_attr[n]);for(e&&e.children&&e.children===!0&&(c.state.loaded=!1,c.children=[],c.children_d=[]),f[c.id]=c,n=0,o=c.children.length;n<o;n++)r=_(f[c.children[n]],c.id,s),a=f[r],c.children_d.push(r),a.children_d.length&&(c.children_d=c.children_d.concat(a.children_d));return delete e.data,delete e.children,f[c.id].original=e,c.state.selected&&d.push(c.id),c.id},v=function(e,i,s){s=s?s.concat():[],i&&s.unshift(i);var n,o,r,a,l,c=!1;do{c="j"+u+"_"+ ++p}while(f[c]);l={id:!1,text:"string"==typeof e?e:"",icon:"object"!=typeof e||e.icon===t||e.icon,parent:i,parents:s,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(n in h)h.hasOwnProperty(n)&&(l.state[n]=h[n]);if(e&&e.id&&(l.id=e.id.toString()),e&&e.text&&(l.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(l.icon=e.data.jstree.icon),l.icon!==t&&null!==l.icon&&""!==l.icon||(l.icon=!0),e&&e.data&&(l.data=e.data,e.data.jstree))for(n in e.data.jstree)e.data.jstree.hasOwnProperty(n)&&(l.state[n]=e.data.jstree[n]);if(e&&"object"==typeof e.state)for(n in e.state)e.state.hasOwnProperty(n)&&(l.state[n]=e.state[n]);if(e&&"object"==typeof e.li_attr)for(n in e.li_attr)e.li_attr.hasOwnProperty(n)&&(l.li_attr[n]=e.li_attr[n]);if(l.li_attr.id&&!l.id&&(l.id=l.li_attr.id.toString()),l.id||(l.id=c),l.li_attr.id||(l.li_attr.id=l.id),e&&"object"==typeof e.a_attr)for(n in e.a_attr)e.a_attr.hasOwnProperty(n)&&(l.a_attr[n]=e.a_attr[n]);if(e&&e.children&&e.children.length){for(n=0,o=e.children.length;n<o;n++)r=v(e.children[n],l.id,s),a=f[r],l.children.push(r),a.children_d.length&&(l.children_d=l.children_d.concat(a.children_d));l.children_d=l.children_d.concat(l.children)}return e&&e.children&&e.children===!0&&(l.state.loaded=!1,l.children=[],l.children_d=[]),delete e.data,delete e.children,l.original=e,f[l.id]=l,l.state.selected&&d.push(l.id),l.id};if(r.length&&r[0].id!==t&&r[0].parent!==t){for(s=0,n=r.length;s<n;s++)r[s].children||(r[s].children=[]),f[r[s].id.toString()]=r[s];for(s=0,n=r.length;s<n;s++)f[r[s].parent.toString()].children.push(r[s].id.toString()),g.children_d.push(r[s].id.toString());for(s=0,n=g.children.length;s<n;s++)i=_(f[g.children[s]],a,g.parents.concat()),c.push(i),f[i].children_d.length&&(c=c.concat(f[i].children_d));for(s=0,n=g.parents.length;s<n;s++)f[g.parents[s]].children_d=f[g.parents[s]].children_d.concat(c);o={cnt:p,mod:f,sel:m,par:a,dpc:c,add:d}}else{for(s=0,n=r.length;s<n;s++)(i=v(r[s],a,g.parents.concat()))&&(l.push(i),c.push(i),f[i].children_d.length&&(c=c.concat(f[i].children_d)));for(g.children=l,g.children_d=c,s=0,n=g.parents.length;s<n;s++)f[g.parents[s]].children_d=f[g.parents[s]].children_d.concat(c);o={cnt:p,mod:f,sel:m,par:a,dpc:c,add:d}}if("undefined"!=typeof window&&void 0!==window.document)return o;postMessage(o)},l=function(t,i){if(null!==this.element){this._cnt=t.cnt;var n,o=this._model.data;for(n in o)o.hasOwnProperty(n)&&o[n].state&&o[n].state.loading&&t.mod[n]&&(t.mod[n].state.loading=!0);if(this._model.data=t.mod,i){var r,a=t.add,l=t.sel,c=this._data.core.selected.slice();if(o=this._model.data,l.length!==c.length||e.vakata.array_unique(l.concat(c)).length!==l.length){for(n=0,r=l.length;n<r;n++)e.inArray(l[n],a)===-1&&e.inArray(l[n],c)===-1&&(o[l[n]].state.selected=!1);for(n=0,r=c.length;n<r;n++)e.inArray(c[n],l)===-1&&(o[c[n]].state.selected=!0)}}t.add.length&&(this._data.core.selected=this._data.core.selected.concat(t.add)),this.trigger("model",{nodes:t.dpc,parent:t.par}),t.par!==e.jstree.root?(this._node_changed(t.par),this.redraw()):this.redraw(!0),t.add.length&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),s.call(this,!0)}};if(this.settings.core.worker&&window.Blob&&window.URL&&window.Worker)try{null===this._wrk&&(this._wrk=window.URL.createObjectURL(new window.Blob(["self.onmessage = "+a.toString()],{type:"text/javascript"}))),!this._data.core.working||n?(this._data.core.working=!0,o=new window.Worker(this._wrk),o.onmessage=e.proxy(function(e){l.call(this,e.data,!0);try{o.terminate(),o=null}catch(e){}this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1},this),r.par?o.postMessage(r):this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1):this._data.core.worker_queue.push([t,i,s,!0])}catch(e){l.call(this,a(r),!1),this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}else l.call(this,a(r),!1)}},_parse_model_from_html:function(i,s,n){n=n?[].concat(n):[],s&&n.unshift(s);var o,r,a,l,c,d=this._model.data,h={id:!1,text:!1,icon:!0,parent:s,parents:n,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(a in this._model.default_state)this._model.default_state.hasOwnProperty(a)&&(h.state[a]=this._model.default_state[a]);if(l=e.vakata.attributes(i,!0),e.each(l,function(t,i){if(i=e.trim(i),!i.length)return!0;h.li_attr[t]=i,"id"===t&&(h.id=i.toString())}),l=i.children("a").first(),l.length&&(l=e.vakata.attributes(l,!0),e.each(l,function(t,i){i=e.trim(i),i.length&&(h.a_attr[t]=i)})),l=i.children("a").first().length?i.children("a").first().clone():i.clone(),l.children("ins, i, ul").remove(),l=l.html(),l=e("<div />").html(l),h.text=this.settings.core.force_text?l.text():l.html(),l=i.data(),h.data=l?e.extend(!0,{},l):null,h.state.opened=i.hasClass("jstree-open"),h.state.selected=i.children("a").hasClass("jstree-clicked"),h.state.disabled=i.children("a").hasClass("jstree-disabled"),h.data&&h.data.jstree)for(a in h.data.jstree)h.data.jstree.hasOwnProperty(a)&&(h.state[a]=h.data.jstree[a]);l=i.children("a").children(".jstree-themeicon"),l.length&&(h.icon=!l.hasClass("jstree-themeicon-hidden")&&l.attr("rel")),h.state.icon!==t&&(h.icon=h.state.icon),h.icon!==t&&null!==h.icon&&""!==h.icon||(h.icon=!0),l=i.children("ul").children("li");do{c="j"+this._id+"_"+ ++this._cnt}while(d[c]);return h.id=h.li_attr.id?h.li_attr.id.toString():c,l.length?(l.each(e.proxy(function(t,i){o=this._parse_model_from_html(e(i),h.id,n),r=this._model.data[o],h.children.push(o),r.children_d.length&&(h.children_d=h.children_d.concat(r.children_d))},this)),h.children_d=h.children_d.concat(h.children)):i.hasClass("jstree-closed")&&(h.state.loaded=!1),h.li_attr.class&&(h.li_attr.class=h.li_attr.class.replace("jstree-closed","").replace("jstree-open","")),h.a_attr.class&&(h.a_attr.class=h.a_attr.class.replace("jstree-clicked","").replace("jstree-disabled","")),d[h.id]=h,h.state.selected&&this._data.core.selected.push(h.id),h.id},_parse_model_from_flat_json:function(e,i,s){s=s?s.concat():[],i&&s.unshift(i);var n,o,r,a,l=e.id.toString(),c=this._model.data,d=this._model.default_state,h={id:l,text:e.text||"",icon:e.icon===t||e.icon,parent:i,parents:s,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(n in d)d.hasOwnProperty(n)&&(h.state[n]=d[n]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(h.icon=e.data.jstree.icon),h.icon!==t&&null!==h.icon&&""!==h.icon||(h.icon=!0),e&&e.data&&(h.data=e.data,e.data.jstree))for(n in e.data.jstree)e.data.jstree.hasOwnProperty(n)&&(h.state[n]=e.data.jstree[n]);if(e&&"object"==typeof e.state)for(n in e.state)e.state.hasOwnProperty(n)&&(h.state[n]=e.state[n]);if(e&&"object"==typeof e.li_attr)for(n in e.li_attr)e.li_attr.hasOwnProperty(n)&&(h.li_attr[n]=e.li_attr[n]);if(h.li_attr.id||(h.li_attr.id=l),e&&"object"==typeof e.a_attr)for(n in e.a_attr)e.a_attr.hasOwnProperty(n)&&(h.a_attr[n]=e.a_attr[n]);for(e&&e.children&&e.children===!0&&(h.state.loaded=!1,h.children=[],h.children_d=[]),c[h.id]=h,n=0,o=h.children.length;n<o;n++)r=this._parse_model_from_flat_json(c[h.children[n]],h.id,s),a=c[r],h.children_d.push(r),a.children_d.length&&(h.children_d=h.children_d.concat(a.children_d));return delete e.data,delete e.children,c[h.id].original=e,h.state.selected&&this._data.core.selected.push(h.id),h.id},_parse_model_from_json:function(e,i,s){s=s?s.concat():[],i&&s.unshift(i);var n,o,r,a,l,c=!1,d=this._model.data,h=this._model.default_state;do{c="j"+this._id+"_"+ ++this._cnt}while(d[c]);l={id:!1,text:"string"==typeof e?e:"",icon:"object"!=typeof e||e.icon===t||e.icon,parent:i,parents:s,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(n in h)h.hasOwnProperty(n)&&(l.state[n]=h[n]);if(e&&e.id&&(l.id=e.id.toString()),e&&e.text&&(l.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(l.icon=e.data.jstree.icon),l.icon!==t&&null!==l.icon&&""!==l.icon||(l.icon=!0),e&&e.data&&(l.data=e.data,e.data.jstree))for(n in e.data.jstree)e.data.jstree.hasOwnProperty(n)&&(l.state[n]=e.data.jstree[n]);if(e&&"object"==typeof e.state)for(n in e.state)e.state.hasOwnProperty(n)&&(l.state[n]=e.state[n]);if(e&&"object"==typeof e.li_attr)for(n in e.li_attr)e.li_attr.hasOwnProperty(n)&&(l.li_attr[n]=e.li_attr[n]);if(l.li_attr.id&&!l.id&&(l.id=l.li_attr.id.toString()),l.id||(l.id=c),l.li_attr.id||(l.li_attr.id=l.id),e&&"object"==typeof e.a_attr)for(n in e.a_attr)e.a_attr.hasOwnProperty(n)&&(l.a_attr[n]=e.a_attr[n]);if(e&&e.children&&e.children.length){for(n=0,o=e.children.length;n<o;n++)r=this._parse_model_from_json(e.children[n],l.id,s),a=d[r],l.children.push(r),a.children_d.length&&(l.children_d=l.children_d.concat(a.children_d));l.children_d=l.children_d.concat(l.children)}return e&&e.children&&e.children===!0&&(l.state.loaded=!1,l.children=[],l.children_d=[]),delete e.data,delete e.children,l.original=e,d[l.id]=l,l.state.selected&&this._data.core.selected.push(l.id),l.id},_redraw:function(){var t,i,s,n=this._model.force_full_redraw?this._model.data[e.jstree.root].children.concat([]):this._model.changed.concat([]),o=l.createElement("UL"),r=this._data.core.focused;for(i=0,s=n.length;i<s;i++)(t=this.redraw_node(n[i],!0,this._model.force_full_redraw))&&this._model.force_full_redraw&&o.appendChild(t);this._model.force_full_redraw&&(o.className=this.get_container_ul()[0].className,o.setAttribute("role","group"),this.element.empty().append(o)),null!==r&&(t=this.get_node(r,!0),t&&t.length&&t.children(".jstree-anchor")[0]!==l.activeElement?t.children(".jstree-anchor").focus():this._data.core.focused=null),this._model.force_full_redraw=!1,this._model.changed=[],this.trigger("redraw",{nodes:n})},redraw:function(e){e&&(this._model.force_full_redraw=!0),this._redraw()},draw_children:function(t){var i=this.get_node(t),s=!1,n=!1,o=!1,r=l;if(!i)return!1;if(i.id===e.jstree.root)return this.redraw(!0);if(!(t=this.get_node(t,!0))||!t.length)return!1;if(t.children(".jstree-children").remove(),t=t[0],i.children.length&&i.state.loaded){for(o=r.createElement("UL"),o.setAttribute("role","group"),o.className="jstree-children",s=0,n=i.children.length;s<n;s++)o.appendChild(this.redraw_node(i.children[s],!0,!0));t.appendChild(o)}},redraw_node:function(t,i,s,n){var o=this.get_node(t),r=!1,a=!1,c=!1,d=!1,h=!1,u=!1,p="",f=l,g=this._model.data,m=!1,_=null,v=0,y=0,w=!1,b=!1;if(!o)return!1;if(o.id===e.jstree.root)return this.redraw(!0);if(i=i||0===o.children.length,t=l.querySelector?this.element[0].querySelector("#"+("0123456789".indexOf(o.id[0])!==-1?"\\3"+o.id[0]+" "+o.id.substr(1).replace(e.jstree.idregex,"\\$&"):o.id.replace(e.jstree.idregex,"\\$&"))):l.getElementById(o.id))t=e(t),s||(r=t.parent().parent()[0],r===this.element[0]&&(r=null),a=t.index()),i||!o.children.length||t.children(".jstree-children").length||(i=!0),i||(c=t.children(".jstree-children")[0]),m=t.children(".jstree-anchor")[0]===l.activeElement,t.remove();else if(i=!0,!s){if(!(null===(r=o.parent!==e.jstree.root?e("#"+o.parent.replace(e.jstree.idregex,"\\$&"),this.element)[0]:null)||r&&g[o.parent].state.opened))return!1;a=e.inArray(o.id,null===r?g[e.jstree.root].children:g[o.parent].children)}t=this._data.core.node.cloneNode(!0),p="jstree-node ";for(d in o.li_attr)if(o.li_attr.hasOwnProperty(d)){if("id"===d)continue;"class"!==d?t.setAttribute(d,o.li_attr[d]):p+=o.li_attr[d]}for(o.a_attr.id||(o.a_attr.id=o.id+"_anchor"),t.setAttribute("aria-selected",!!o.state.selected),t.setAttribute("aria-level",o.parents.length),t.setAttribute("aria-labelledby",o.a_attr.id),o.state.disabled&&t.setAttribute("aria-disabled",!0),d=0,h=o.children.length;d<h;d++)if(!g[o.children[d]].state.hidden){w=!0;break}if(null!==o.parent&&g[o.parent]&&!o.state.hidden&&(d=e.inArray(o.id,g[o.parent].children),b=o.id,d!==-1))for(d++,h=g[o.parent].children.length;d<h&&(g[g[o.parent].children[d]].state.hidden||(b=g[o.parent].children[d]),b===o.id);d++);o.state.hidden&&(p+=" jstree-hidden"),o.state.loaded&&!w?p+=" jstree-leaf":(p+=o.state.opened&&o.state.loaded?" jstree-open":" jstree-closed",t.setAttribute("aria-expanded",o.state.opened&&o.state.loaded)),b===o.id&&(p+=" jstree-last"),t.id=o.id,t.className=p,p=(o.state.selected?" jstree-clicked":"")+(o.state.disabled?" jstree-disabled":"");for(h in o.a_attr)if(o.a_attr.hasOwnProperty(h)){if("href"===h&&"#"===o.a_attr[h])continue;"class"!==h?t.childNodes[1].setAttribute(h,o.a_attr[h]):p+=" "+o.a_attr[h]}if(p.length&&(t.childNodes[1].className="jstree-anchor "+p),(o.icon&&o.icon!==!0||o.icon===!1)&&(o.icon===!1?t.childNodes[1].childNodes[0].className+=" jstree-themeicon-hidden":o.icon.indexOf("/")===-1&&o.icon.indexOf(".")===-1?t.childNodes[1].childNodes[0].className+=" "+o.icon+" jstree-themeicon-custom":(t.childNodes[1].childNodes[0].style.backgroundImage='url("'+o.icon+'")',t.childNodes[1].childNodes[0].style.backgroundPosition="center center",t.childNodes[1].childNodes[0].style.backgroundSize="auto",t.childNodes[1].childNodes[0].className+=" jstree-themeicon-custom")),this.settings.core.force_text?t.childNodes[1].appendChild(f.createTextNode(o.text)):t.childNodes[1].innerHTML+=o.text,i&&o.children.length&&(o.state.opened||n)&&o.state.loaded){for(u=f.createElement("UL"),u.setAttribute("role","group"),u.className="jstree-children",d=0,h=o.children.length;d<h;d++)u.appendChild(this.redraw_node(o.children[d],i,!0));t.appendChild(u)}if(c&&t.appendChild(c),!s){for(r||(r=this.element[0]),d=0,h=r.childNodes.length;d<h;d++)if(r.childNodes[d]&&r.childNodes[d].className&&r.childNodes[d].className.indexOf("jstree-children")!==-1){_=r.childNodes[d];break}_||(_=f.createElement("UL"),_.setAttribute("role","group"),_.className="jstree-children",r.appendChild(_)),r=_,a<r.childNodes.length?r.insertBefore(t,r.childNodes[a]):r.appendChild(t),m&&(v=this.element[0].scrollTop,y=this.element[0].scrollLeft,t.childNodes[1].focus(),this.element[0].scrollTop=v,this.element[0].scrollLeft=y)}return o.state.opened&&!o.state.loaded&&(o.state.opened=!1,setTimeout(e.proxy(function(){this.open_node(o.id,!1,0)},this),0)),t},open_node:function(i,s,n){var o,r,a,l;if(e.isArray(i)){for(i=i.slice(),o=0,r=i.length;o<r;o++)this.open_node(i[o],s,n);return!0}return!(!(i=this.get_node(i))||i.id===e.jstree.root)&&(n=n===t?this.settings.core.animation:n,this.is_closed(i)?this.is_loaded(i)?(a=this.get_node(i,!0),l=this,a.length&&(n&&a.children(".jstree-children").length&&a.children(".jstree-children").stop(!0,!0),i.children.length&&!this._firstChild(a.children(".jstree-children")[0])&&this.draw_children(i),n?(this.trigger("before_open",{node:i}),a.children(".jstree-children").css("display","none").end().removeClass("jstree-closed").addClass("jstree-open").attr("aria-expanded",!0).children(".jstree-children").stop(!0,!0).slideDown(n,function(){this.style.display="",l.element&&l.trigger("after_open",{node:i})})):(this.trigger("before_open",{node:i}),a[0].className=a[0].className.replace("jstree-closed","jstree-open"),a[0].setAttribute("aria-expanded",!0))),i.state.opened=!0,s&&s.call(this,i,!0),a.length||this.trigger("before_open",{node:i}),this.trigger("open_node",{node:i}),n&&a.length||this.trigger("after_open",{node:i}),!0):this.is_loading(i)?setTimeout(e.proxy(function(){this.open_node(i,s,n)},this),500):void this.load_node(i,function(e,t){return t?this.open_node(e,s,n):!!s&&s.call(this,e,!1)}):(s&&s.call(this,i,!1),!1))},_open_to:function(t){if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;var i,s,n=t.parents;for(i=0,s=n.length;i<s;i+=1)i!==e.jstree.root&&this.open_node(n[i],!1,0);return e("#"+t.id.replace(e.jstree.idregex,"\\$&"),this.element)},close_node:function(i,s){var n,o,r,a;if(e.isArray(i)){for(i=i.slice(),n=0,o=i.length;n<o;n++)this.close_node(i[n],s);return!0}return!(!(i=this.get_node(i))||i.id===e.jstree.root)&&(!this.is_closed(i)&&(s=s===t?this.settings.core.animation:s,r=this,a=this.get_node(i,!0),i.state.opened=!1,this.trigger("close_node",{node:i}),void(a.length?s?a.children(".jstree-children").attr("style","display:block !important").end().removeClass("jstree-open").addClass("jstree-closed").attr("aria-expanded",!1).children(".jstree-children").stop(!0,!0).slideUp(s,function(){this.style.display="",a.children(".jstree-children").remove(),r.element&&r.trigger("after_close",{node:i})}):(a[0].className=a[0].className.replace("jstree-open","jstree-closed"),a.attr("aria-expanded",!1).children(".jstree-children").remove(),this.trigger("after_close",{node:i})):this.trigger("after_close",{node:i}))))},toggle_node:function(t){var i,s;if(e.isArray(t)){for(t=t.slice(),i=0,s=t.length;i<s;i++)this.toggle_node(t[i]);return!0}return this.is_closed(t)?this.open_node(t):this.is_open(t)?this.close_node(t):void 0},open_all:function(t,i,s){if(t||(t=e.jstree.root),!(t=this.get_node(t)))return!1;var n,o,r,a=t.id===e.jstree.root?this.get_container_ul():this.get_node(t,!0);if(!a.length){for(n=0,o=t.children_d.length;n<o;n++)this.is_closed(this._model.data[t.children_d[n]])&&(this._model.data[t.children_d[n]].state.opened=!0);return this.trigger("open_all",{node:t})}s=s||a,r=this,a=this.is_closed(t)?a.find(".jstree-closed").addBack():a.find(".jstree-closed"),a.each(function(){r.open_node(this,function(e,t){t&&this.is_parent(e)&&this.open_all(e,i,s)},i||0)}),0===s.find(".jstree-closed").length&&this.trigger("open_all",{node:this.get_node(s)})},close_all:function(t,i){if(t||(t=e.jstree.root),!(t=this.get_node(t)))return!1;var s,n,o=t.id===e.jstree.root?this.get_container_ul():this.get_node(t,!0),r=this;for(o.length&&(o=this.is_open(t)?o.find(".jstree-open").addBack():o.find(".jstree-open"),e(o.get().reverse()).each(function(){r.close_node(this,i||0)})),s=0,n=t.children_d.length;s<n;s++)this._model.data[t.children_d[s]].state.opened=!1;this.trigger("close_all",{node:t})},is_disabled:function(e){return(e=this.get_node(e))&&e.state&&e.state.disabled},enable_node:function(t){var i,s;if(e.isArray(t)){for(t=t.slice(),i=0,s=t.length;i<s;i++)this.enable_node(t[i]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;t.state.disabled=!1,this.get_node(t,!0).children(".jstree-anchor").removeClass("jstree-disabled").attr("aria-disabled",!1),this.trigger("enable_node",{node:t})},disable_node:function(t){var i,s;if(e.isArray(t)){for(t=t.slice(),i=0,s=t.length;i<s;i++)this.disable_node(t[i]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;t.state.disabled=!0,this.get_node(t,!0).children(".jstree-anchor").addClass("jstree-disabled").attr("aria-disabled",!0),this.trigger("disable_node",{node:t})},is_hidden:function(e){return e=this.get_node(e),e.state.hidden===!0},hide_node:function(t,i){var s,n;if(e.isArray(t)){for(t=t.slice(),s=0,n=t.length;s<n;s++)this.hide_node(t[s],!0);return i||this.redraw(),!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;t.state.hidden||(t.state.hidden=!0,this._node_changed(t.parent),i||this.redraw(),this.trigger("hide_node",{node:t}))},show_node:function(t,i){var s,n;if(e.isArray(t)){for(t=t.slice(),s=0,n=t.length;s<n;s++)this.show_node(t[s],!0);return i||this.redraw(),!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;t.state.hidden&&(t.state.hidden=!1,this._node_changed(t.parent),i||this.redraw(),this.trigger("show_node",{node:t}))},hide_all:function(t){var i,s=this._model.data,n=[];for(i in s)s.hasOwnProperty(i)&&i!==e.jstree.root&&!s[i].state.hidden&&(s[i].state.hidden=!0,n.push(i));return this._model.force_full_redraw=!0,t||this.redraw(),this.trigger("hide_all",{nodes:n}),n},show_all:function(t){var i,s=this._model.data,n=[];for(i in s)s.hasOwnProperty(i)&&i!==e.jstree.root&&s[i].state.hidden&&(s[i].state.hidden=!1,n.push(i));return this._model.force_full_redraw=!0,t||this.redraw(),this.trigger("show_all",{nodes:n}),n},activate_node:function(e,i){if(this.is_disabled(e))return!1;if(i&&"object"==typeof i||(i={}),this._data.core.last_clicked=this._data.core.last_clicked&&this._data.core.last_clicked.id!==t?this.get_node(this._data.core.last_clicked.id):null,this._data.core.last_clicked&&!this._data.core.last_clicked.state.selected&&(this._data.core.last_clicked=null),!this._data.core.last_clicked&&this._data.core.selected.length&&(this._data.core.last_clicked=this.get_node(this._data.core.selected[this._data.core.selected.length-1])),this.settings.core.multiple&&(i.metaKey||i.ctrlKey||i.shiftKey)&&(!i.shiftKey||this._data.core.last_clicked&&this.get_parent(e)&&this.get_parent(e)===this._data.core.last_clicked.parent))if(i.shiftKey){var s,n,o=this.get_node(e).id,r=this._data.core.last_clicked.id,a=this.get_node(this._data.core.last_clicked.parent).children,l=!1;for(s=0,n=a.length;s<n;s+=1)a[s]===o&&(l=!l),a[s]===r&&(l=!l),this.is_disabled(a[s])||!l&&a[s]!==o&&a[s]!==r?this.deselect_node(a[s],!0,i):this.is_hidden(a[s])||this.select_node(a[s],!0,!1,i);this.trigger("changed",{action:"select_node",node:this.get_node(e),selected:this._data.core.selected,event:i})}else this.is_selected(e)?this.deselect_node(e,!1,i):this.select_node(e,!1,!1,i);else!this.settings.core.multiple&&(i.metaKey||i.ctrlKey||i.shiftKey)&&this.is_selected(e)?this.deselect_node(e,!1,i):(this.deselect_all(!0),this.select_node(e,!1,!1,i),this._data.core.last_clicked=this.get_node(e));this.trigger("activate_node",{node:this.get_node(e),event:i})},hover_node:function(e){if(!(e=this.get_node(e,!0))||!e.length||e.children(".jstree-hovered").length)return!1;var t=this.element.find(".jstree-hovered"),i=this.element;t&&t.length&&this.dehover_node(t),e.children(".jstree-anchor").addClass("jstree-hovered"),this.trigger("hover_node",{node:this.get_node(e)}),setTimeout(function(){i.attr("aria-activedescendant",e[0].id)},0)},dehover_node:function(e){if(!(e=this.get_node(e,!0))||!e.length||!e.children(".jstree-hovered").length)return!1
;e.children(".jstree-anchor").removeClass("jstree-hovered"),this.trigger("dehover_node",{node:this.get_node(e)})},select_node:function(t,i,s,n){var o,r,a;if(e.isArray(t)){for(t=t.slice(),r=0,a=t.length;r<a;r++)this.select_node(t[r],i,s,n);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;o=this.get_node(t,!0),t.state.selected||(t.state.selected=!0,this._data.core.selected.push(t.id),s||(o=this._open_to(t)),o&&o.length&&o.attr("aria-selected",!0).children(".jstree-anchor").addClass("jstree-clicked"),this.trigger("select_node",{node:t,selected:this._data.core.selected,event:n}),i||this.trigger("changed",{action:"select_node",node:t,selected:this._data.core.selected,event:n}))},deselect_node:function(t,i,s){var n,o,r;if(e.isArray(t)){for(t=t.slice(),n=0,o=t.length;n<o;n++)this.deselect_node(t[n],i,s);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;r=this.get_node(t,!0),t.state.selected&&(t.state.selected=!1,this._data.core.selected=e.vakata.array_remove_item(this._data.core.selected,t.id),r.length&&r.attr("aria-selected",!1).children(".jstree-anchor").removeClass("jstree-clicked"),this.trigger("deselect_node",{node:t,selected:this._data.core.selected,event:s}),i||this.trigger("changed",{action:"deselect_node",node:t,selected:this._data.core.selected,event:s}))},select_all:function(t){var i,s,n=this._data.core.selected.concat([]);for(this._data.core.selected=this._model.data[e.jstree.root].children_d.concat(),i=0,s=this._data.core.selected.length;i<s;i++)this._model.data[this._data.core.selected[i]]&&(this._model.data[this._data.core.selected[i]].state.selected=!0);this.redraw(!0),this.trigger("select_all",{selected:this._data.core.selected}),t||this.trigger("changed",{action:"select_all",selected:this._data.core.selected,old_selection:n})},deselect_all:function(e){var t,i,s=this._data.core.selected.concat([]);for(t=0,i=this._data.core.selected.length;t<i;t++)this._model.data[this._data.core.selected[t]]&&(this._model.data[this._data.core.selected[t]].state.selected=!1);this._data.core.selected=[],this.element.find(".jstree-clicked").removeClass("jstree-clicked").parent().attr("aria-selected",!1),this.trigger("deselect_all",{selected:this._data.core.selected,node:s}),e||this.trigger("changed",{action:"deselect_all",selected:this._data.core.selected,old_selection:s})},is_selected:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.state.selected},get_selected:function(t){return t?e.map(this._data.core.selected,e.proxy(function(e){return this.get_node(e)},this)):this._data.core.selected.slice()},get_top_selected:function(t){var i,s,n,o,r=this.get_selected(!0),a={};for(i=0,s=r.length;i<s;i++)a[r[i].id]=r[i];for(i=0,s=r.length;i<s;i++)for(n=0,o=r[i].children_d.length;n<o;n++)a[r[i].children_d[n]]&&delete a[r[i].children_d[n]];r=[];for(i in a)a.hasOwnProperty(i)&&r.push(i);return t?e.map(r,e.proxy(function(e){return this.get_node(e)},this)):r},get_bottom_selected:function(t){var i,s,n=this.get_selected(!0),o=[];for(i=0,s=n.length;i<s;i++)n[i].children.length||o.push(n[i].id);return t?e.map(o,e.proxy(function(e){return this.get_node(e)},this)):o},get_state:function(){var t,i={core:{open:[],scroll:{left:this.element.scrollLeft(),top:this.element.scrollTop()},selected:[]}};for(t in this._model.data)this._model.data.hasOwnProperty(t)&&t!==e.jstree.root&&(this._model.data[t].state.opened&&i.core.open.push(t),this._model.data[t].state.selected&&i.core.selected.push(t));return i},set_state:function(i,s){if(i){if(i.core){var n,o;if(i.core.open)return e.isArray(i.core.open)&&i.core.open.length?this._load_nodes(i.core.open,function(e){this.open_node(e,!1,0),delete i.core.open,this.set_state(i,s)}):(delete i.core.open,this.set_state(i,s)),!1;if(i.core.scroll)return i.core.scroll&&i.core.scroll.left!==t&&this.element.scrollLeft(i.core.scroll.left),i.core.scroll&&i.core.scroll.top!==t&&this.element.scrollTop(i.core.scroll.top),delete i.core.scroll,this.set_state(i,s),!1;if(i.core.selected)return n=this,this.deselect_all(),e.each(i.core.selected,function(e,t){n.select_node(t,!1,!0)}),delete i.core.selected,this.set_state(i,s),!1;for(o in i)i.hasOwnProperty(o)&&"core"!==o&&e.inArray(o,this.settings.plugins)===-1&&delete i[o];if(e.isEmptyObject(i.core))return delete i.core,this.set_state(i,s),!1}return!e.isEmptyObject(i)||(i=null,s&&s.call(this),this.trigger("set_state"),!1)}return!1},refresh:function(t,i){this._data.core.state=i===!0?{}:this.get_state(),i&&e.isFunction(i)&&(this._data.core.state=i.call(this,this._data.core.state)),this._cnt=0,this._model.data={},this._model.data[e.jstree.root]={id:e.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this._data.core.selected=[],this._data.core.last_clicked=null,this._data.core.focused=null;var s=this.get_container_ul()[0].className;t||(this.element.html("<ul class='"+s+"' role='group'><li class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='treeitem' id='j"+this._id+"_loading'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading")),this.load_node(e.jstree.root,function(t,i){i&&(this.get_container_ul()[0].className=s,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.set_state(e.extend(!0,{},this._data.core.state),function(){this.trigger("refresh")})),this._data.core.state=null})},refresh_node:function(t){if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;var i=[],s=[],n=this._data.core.selected.concat([]);s.push(t.id),t.state.opened===!0&&i.push(t.id),this.get_node(t,!0).find(".jstree-open").each(function(){s.push(this.id),i.push(this.id)}),this._load_nodes(s,e.proxy(function(e){this.open_node(i,!1,0),this.select_node(n),this.trigger("refresh_node",{node:t,nodes:e})},this),!1,!0)},set_id:function(t,i){if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;var s,n,o=this._model.data,r=t.id;for(i=i.toString(),o[t.parent].children[e.inArray(t.id,o[t.parent].children)]=i,s=0,n=t.parents.length;s<n;s++)o[t.parents[s]].children_d[e.inArray(t.id,o[t.parents[s]].children_d)]=i;for(s=0,n=t.children.length;s<n;s++)o[t.children[s]].parent=i;for(s=0,n=t.children_d.length;s<n;s++)o[t.children_d[s]].parents[e.inArray(t.id,o[t.children_d[s]].parents)]=i;return s=e.inArray(t.id,this._data.core.selected),s!==-1&&(this._data.core.selected[s]=i),s=this.get_node(t.id,!0),s&&(s.attr("id",i),this.element.attr("aria-activedescendant")===t.id&&this.element.attr("aria-activedescendant",i)),delete o[t.id],t.id=i,t.li_attr.id=i,o[i]=t,this.trigger("set_id",{node:t,new:t.id,old:r}),!0},get_text:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.text},set_text:function(t,i){var s,n;if(e.isArray(t)){for(t=t.slice(),s=0,n=t.length;s<n;s++)this.set_text(t[s],i);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&(t.text=i,this.get_node(t,!0).length&&this.redraw_node(t.id),this.trigger("set_text",{obj:t,text:i}),!0)},get_json:function(t,i,s){if(!(t=this.get_node(t||e.jstree.root)))return!1;i&&i.flat&&!s&&(s=[]);var n,o,r={id:t.id,text:t.text,icon:this.get_icon(t),li_attr:e.extend(!0,{},t.li_attr),a_attr:e.extend(!0,{},t.a_attr),state:{},data:(!i||!i.no_data)&&e.extend(!0,{},t.data)};if(i&&i.flat?r.parent=t.parent:r.children=[],i&&i.no_state)delete r.state;else for(n in t.state)t.state.hasOwnProperty(n)&&(r.state[n]=t.state[n]);if(i&&i.no_li_attr&&delete r.li_attr,i&&i.no_a_attr&&delete r.a_attr,i&&i.no_id&&(delete r.id,r.li_attr&&r.li_attr.id&&delete r.li_attr.id,r.a_attr&&r.a_attr.id&&delete r.a_attr.id),i&&i.flat&&t.id!==e.jstree.root&&s.push(r),!i||!i.no_children)for(n=0,o=t.children.length;n<o;n++)i&&i.flat?this.get_json(t.children[n],i,s):r.children.push(this.get_json(t.children[n],i));return i&&i.flat?s:t.id===e.jstree.root?r.children:r},create_node:function(i,s,n,o,r){if(null===i&&(i=e.jstree.root),!(i=this.get_node(i)))return!1;if(n=n===t?"last":n,!n.toString().match(/^(before|after)$/)&&!r&&!this.is_loaded(i))return this.load_node(i,function(){this.create_node(i,s,n,o,!0)});s||(s={text:this.get_string("New node")}),"string"==typeof s&&(s={text:s}),s.text===t&&(s.text=this.get_string("New node"));var a,l,c,d;switch(i.id===e.jstree.root&&("before"===n&&(n="first"),"after"===n&&(n="last")),n){case"before":a=this.get_node(i.parent),n=e.inArray(i.id,a.children),i=a;break;case"after":a=this.get_node(i.parent),n=e.inArray(i.id,a.children)+1,i=a;break;case"inside":case"first":n=0;break;case"last":n=i.children.length;break;default:n||(n=0)}if(n>i.children.length&&(n=i.children.length),s.id||(s.id=!0),!this.check("create_node",s,i,n))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(s.id===!0&&delete s.id,!(s=this._parse_model_from_json(s,i.id,i.parents.concat())))return!1;for(a=this.get_node(s),l=[],l.push(s),l=l.concat(a.children_d),this.trigger("model",{nodes:l,parent:i.id}),i.children_d=i.children_d.concat(l),c=0,d=i.parents.length;c<d;c++)this._model.data[i.parents[c]].children_d=this._model.data[i.parents[c]].children_d.concat(l);for(s=a,a=[],c=0,d=i.children.length;c<d;c++)a[c>=n?c+1:c]=i.children[c];return a[n]=s.id,i.children=a,this.redraw_node(i,!0),o&&o.call(this,this.get_node(s)),this.trigger("create_node",{node:this.get_node(s),parent:i.id,position:n}),s.id},rename_node:function(t,i){var s,n,o;if(e.isArray(t)){for(t=t.slice(),s=0,n=t.length;s<n;s++)this.rename_node(t[s],i);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&(o=t.text,this.check("rename_node",t,this.get_parent(t),i)?(this.set_text(t,i),this.trigger("rename_node",{node:t,text:i,old:o}),!0):(this.settings.core.error.call(this,this._data.core.last_error),!1))},delete_node:function(t){var i,s,n,o,r,a,l,c,d,h,u,p;if(e.isArray(t)){for(t=t.slice(),i=0,s=t.length;i<s;i++)this.delete_node(t[i]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;if(n=this.get_node(t.parent),o=e.inArray(t.id,n.children),h=!1,!this.check("delete_node",t,n,o))return this.settings.core.error.call(this,this._data.core.last_error),!1;for(o!==-1&&(n.children=e.vakata.array_remove(n.children,o)),r=t.children_d.concat([]),r.push(t.id),a=0,l=t.parents.length;a<l;a++)this._model.data[t.parents[a]].children_d=e.vakata.array_filter(this._model.data[t.parents[a]].children_d,function(t){return e.inArray(t,r)===-1});for(c=0,d=r.length;c<d;c++)if(this._model.data[r[c]].state.selected){h=!0;break}for(h&&(this._data.core.selected=e.vakata.array_filter(this._data.core.selected,function(t){return e.inArray(t,r)===-1})),this.trigger("delete_node",{node:t,parent:n.id}),h&&this.trigger("changed",{action:"delete_node",node:t,selected:this._data.core.selected,parent:n.id}),c=0,d=r.length;c<d;c++)delete this._model.data[r[c]];return e.inArray(this._data.core.focused,r)!==-1&&(this._data.core.focused=null,u=this.element[0].scrollTop,p=this.element[0].scrollLeft,n.id===e.jstree.root?this._model.data[e.jstree.root].children[0]&&this.get_node(this._model.data[e.jstree.root].children[0],!0).children(".jstree-anchor").focus():this.get_node(n,!0).children(".jstree-anchor").focus(),this.element[0].scrollTop=u,this.element[0].scrollLeft=p),this.redraw_node(n,!0),!0},check:function(t,i,s,n,o){i=i&&i.id?i:this.get_node(i),s=s&&s.id?s:this.get_node(s);var r=t.match(/^move_node|copy_node|create_node$/i)?s:i,a=this.settings.core.check_callback;return"move_node"!==t&&"copy_node"!==t||o&&o.is_multi||i.id!==s.id&&("move_node"!==t||e.inArray(i.id,s.children)!==n)&&e.inArray(s.id,i.children_d)===-1?(r&&r.data&&(r=r.data),r&&r.functions&&(r.functions[t]===!1||r.functions[t]===!0)?(r.functions[t]===!1&&(this._data.core.last_error={error:"check",plugin:"core",id:"core_02",reason:"Node data prevents function: "+t,data:JSON.stringify({chk:t,pos:n,obj:!(!i||!i.id)&&i.id,par:!(!s||!s.id)&&s.id})}),r.functions[t]):!(a===!1||e.isFunction(a)&&a.call(this,t,i,s,n,o)===!1||a&&a[t]===!1)||(this._data.core.last_error={error:"check",plugin:"core",id:"core_03",reason:"User config for core.check_callback prevents function: "+t,data:JSON.stringify({chk:t,pos:n,obj:!(!i||!i.id)&&i.id,par:!(!s||!s.id)&&s.id})},!1)):(this._data.core.last_error={error:"check",plugin:"core",id:"core_01",reason:"Moving parent inside child",data:JSON.stringify({chk:t,pos:n,obj:!(!i||!i.id)&&i.id,par:!(!s||!s.id)&&s.id})},!1)},last_error:function(){return this._data.core.last_error},move_node:function(i,s,n,o,r,a,l){var c,d,h,u,p,f,g,m,_,v,y,w,b,x;if(s=this.get_node(s),n=n===t?0:n,!s)return!1;if(!n.toString().match(/^(before|after)$/)&&!r&&!this.is_loaded(s))return this.load_node(s,function(){this.move_node(i,s,n,o,!0,!1,l)});if(e.isArray(i)){if(1!==i.length){for(c=0,d=i.length;c<d;c++)(_=this.move_node(i[c],s,n,o,r,!1,l))&&(s=_,n="after");return this.redraw(),!0}i=i[0]}if(!(i=i&&i.id?i:this.get_node(i))||i.id===e.jstree.root)return!1;if(h=(i.parent||e.jstree.root).toString(),p=n.toString().match(/^(before|after)$/)&&s.id!==e.jstree.root?this.get_node(s.parent):s,f=l||(this._model.data[i.id]?this:e.jstree.reference(i.id)),g=!f||!f._id||this._id!==f._id,u=f&&f._id&&h&&f._model.data[h]&&f._model.data[h].children?e.inArray(i.id,f._model.data[h].children):-1,f&&f._id&&(i=f._model.data[i.id]),g)return!!(_=this.copy_node(i,s,n,o,r,!1,l))&&(f&&f.delete_node(i),_);switch(s.id===e.jstree.root&&("before"===n&&(n="first"),"after"===n&&(n="last")),n){case"before":n=e.inArray(s.id,p.children);break;case"after":n=e.inArray(s.id,p.children)+1;break;case"inside":case"first":n=0;break;case"last":n=p.children.length;break;default:n||(n=0)}if(n>p.children.length&&(n=p.children.length),!this.check("move_node",i,p,n,{core:!0,origin:l,is_multi:f&&f._id&&f._id!==this._id,is_foreign:!f||!f._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(i.parent===p.id){for(m=p.children.concat(),_=e.inArray(i.id,m),_!==-1&&(m=e.vakata.array_remove(m,_),n>_&&n--),_=[],v=0,y=m.length;v<y;v++)_[v>=n?v+1:v]=m[v];_[n]=i.id,p.children=_,this._node_changed(p.id),this.redraw(p.id===e.jstree.root)}else{for(_=i.children_d.concat(),_.push(i.id),v=0,y=i.parents.length;v<y;v++){for(m=[],x=f._model.data[i.parents[v]].children_d,w=0,b=x.length;w<b;w++)e.inArray(x[w],_)===-1&&m.push(x[w]);f._model.data[i.parents[v]].children_d=m}for(f._model.data[h].children=e.vakata.array_remove_item(f._model.data[h].children,i.id),v=0,y=p.parents.length;v<y;v++)this._model.data[p.parents[v]].children_d=this._model.data[p.parents[v]].children_d.concat(_);for(m=[],v=0,y=p.children.length;v<y;v++)m[v>=n?v+1:v]=p.children[v];for(m[n]=i.id,p.children=m,p.children_d.push(i.id),p.children_d=p.children_d.concat(i.children_d),i.parent=p.id,_=p.parents.concat(),_.unshift(p.id),x=i.parents.length,i.parents=_,_=_.concat(),v=0,y=i.children_d.length;v<y;v++)this._model.data[i.children_d[v]].parents=this._model.data[i.children_d[v]].parents.slice(0,x*-1),Array.prototype.push.apply(this._model.data[i.children_d[v]].parents,_);h!==e.jstree.root&&p.id!==e.jstree.root||(this._model.force_full_redraw=!0),this._model.force_full_redraw||(this._node_changed(h),this._node_changed(p.id)),a||this.redraw()}return o&&o.call(this,i,p,n),this.trigger("move_node",{node:i,parent:p.id,position:n,old_parent:h,old_position:u,is_multi:f&&f._id&&f._id!==this._id,is_foreign:!f||!f._id,old_instance:f,new_instance:this}),i.id},copy_node:function(i,s,n,o,r,a,l){var c,d,h,u,p,f,g,m,_,v;if(s=this.get_node(s),n=n===t?0:n,!s)return!1;if(!n.toString().match(/^(before|after)$/)&&!r&&!this.is_loaded(s))return this.load_node(s,function(){this.copy_node(i,s,n,o,!0,!1,l)});if(e.isArray(i)){if(1!==i.length){for(c=0,d=i.length;c<d;c++)(u=this.copy_node(i[c],s,n,o,r,!0,l))&&(s=u,n="after");return this.redraw(),!0}i=i[0]}if(!(i=i&&i.id?i:this.get_node(i))||i.id===e.jstree.root)return!1;switch(m=(i.parent||e.jstree.root).toString(),_=n.toString().match(/^(before|after)$/)&&s.id!==e.jstree.root?this.get_node(s.parent):s,v=l||(this._model.data[i.id]?this:e.jstree.reference(i.id)),!v||!v._id||this._id!==v._id,v&&v._id&&(i=v._model.data[i.id]),s.id===e.jstree.root&&("before"===n&&(n="first"),"after"===n&&(n="last")),n){case"before":n=e.inArray(s.id,_.children);break;case"after":n=e.inArray(s.id,_.children)+1;break;case"inside":case"first":n=0;break;case"last":n=_.children.length;break;default:n||(n=0)}if(n>_.children.length&&(n=_.children.length),!this.check("copy_node",i,_,n,{core:!0,origin:l,is_multi:v&&v._id&&v._id!==this._id,is_foreign:!v||!v._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(!(g=v?v.get_json(i,{no_id:!0,no_data:!0,no_state:!0}):i))return!1;if(g.id===!0&&delete g.id,!(g=this._parse_model_from_json(g,_.id,_.parents.concat())))return!1;for(u=this.get_node(g),i&&i.state&&i.state.loaded===!1&&(u.state.loaded=!1),h=[],h.push(g),h=h.concat(u.children_d),this.trigger("model",{nodes:h,parent:_.id}),p=0,f=_.parents.length;p<f;p++)this._model.data[_.parents[p]].children_d=this._model.data[_.parents[p]].children_d.concat(h);for(h=[],p=0,f=_.children.length;p<f;p++)h[p>=n?p+1:p]=_.children[p];return h[n]=u.id,_.children=h,_.children_d.push(u.id),_.children_d=_.children_d.concat(u.children_d),_.id===e.jstree.root&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||this._node_changed(_.id),a||this.redraw(_.id===e.jstree.root),o&&o.call(this,u,_,n),this.trigger("copy_node",{node:u,original:i,parent:_.id,position:n,old_parent:m,old_position:v&&v._id&&m&&v._model.data[m]&&v._model.data[m].children?e.inArray(i.id,v._model.data[m].children):-1,is_multi:v&&v._id&&v._id!==this._id,is_foreign:!v||!v._id,old_instance:v,new_instance:this}),u.id},cut:function(t){if(t||(t=this._data.core.selected.concat()),e.isArray(t)||(t=[t]),!t.length)return!1;var i,r,a,l=[];for(r=0,a=t.length;r<a;r++)(i=this.get_node(t[r]))&&i.id&&i.id!==e.jstree.root&&l.push(i);if(!l.length)return!1;s=l,o=this,n="move_node",this.trigger("cut",{node:t})},copy:function(t){if(t||(t=this._data.core.selected.concat()),e.isArray(t)||(t=[t]),!t.length)return!1;var i,r,a,l=[];for(r=0,a=t.length;r<a;r++)(i=this.get_node(t[r]))&&i.id&&i.id!==e.jstree.root&&l.push(i);if(!l.length)return!1;s=l,o=this,n="copy_node",this.trigger("copy",{node:t})},get_buffer:function(){return{mode:n,node:s,inst:o}},can_paste:function(){return n!==!1&&s!==!1},paste:function(e,t){if(!((e=this.get_node(e))&&n&&n.match(/^(copy_node|move_node)$/)&&s))return!1;this[n](s,e,t,!1,!1,!1,o)&&this.trigger("paste",{parent:e.id,node:s,mode:n}),s=!1,n=!1,o=!1},clear_buffer:function(){s=!1,n=!1,o=!1,this.trigger("clear_buffer")},edit:function(t,i,s){var n,o,r,a,c,d,h,u,p,f=!1;return!!(t=this.get_node(t))&&(this.settings.core.check_callback===!1?(this._data.core.last_error={error:"check",plugin:"core",id:"core_07",reason:"Could not edit node because of check_callback"},this.settings.core.error.call(this,this._data.core.last_error),!1):(p=t,i="string"==typeof i?i:t.text,this.set_text(t,""),t=this._open_to(t),p.text=i,n=this._data.core.rtl,o=this.element.width(),this._data.core.focused=p.id,r=t.children(".jstree-anchor").focus(),a=e("<span>"),c=i,d=e("<div />",{css:{position:"absolute",top:"-200px",left:n?"0px":"-1000px",visibility:"hidden"}}).appendTo("body"),h=e("<input />",{value:c,class:"jstree-rename-input",css:{padding:"0",border:"1px solid silver","box-sizing":"border-box",display:"inline-block",height:this._data.core.li_height+"px",lineHeight:this._data.core.li_height+"px",width:"150px"},blur:e.proxy(function(i){i.stopImmediatePropagation(),i.preventDefault();var n,o=a.children(".jstree-rename-input"),l=o.val(),u=this.settings.core.force_text;""===l&&(l=c),d.remove(),a.replaceWith(r),a.remove(),c=u?c:e("<div></div>").append(e.parseHTML(c)).html(),this.set_text(t,c),n=!!this.rename_node(t,u?e("<div></div>").text(l).text():e("<div></div>").append(e.parseHTML(l)).html()),n||this.set_text(t,c),this._data.core.focused=p.id,setTimeout(e.proxy(function(){var e=this.get_node(p.id,!0);e.length&&(this._data.core.focused=p.id,e.children(".jstree-anchor").focus())},this),0),s&&s.call(this,p,n,f),h=null},this),keydown:function(e){var t=e.which;27===t&&(f=!0,this.value=c),27!==t&&13!==t&&37!==t&&38!==t&&39!==t&&40!==t&&32!==t||e.stopImmediatePropagation(),27!==t&&13!==t||(e.preventDefault(),this.blur())},click:function(e){e.stopImmediatePropagation()},mousedown:function(e){e.stopImmediatePropagation()},keyup:function(e){h.width(Math.min(d.text("pW"+this.value).width(),o))},keypress:function(e){if(13===e.which)return!1}}),u={fontFamily:r.css("fontFamily")||"",fontSize:r.css("fontSize")||"",fontWeight:r.css("fontWeight")||"",fontStyle:r.css("fontStyle")||"",fontStretch:r.css("fontStretch")||"",fontVariant:r.css("fontVariant")||"",letterSpacing:r.css("letterSpacing")||"",wordSpacing:r.css("wordSpacing")||""},a.attr("class",r.attr("class")).append(r.contents().clone()).append(h),r.replaceWith(a),d.css(u),h.css(u).width(Math.min(d.text("pW"+h[0].value).width(),o))[0].select(),void e(l).one("mousedown.jstree touchstart.jstree dnd_start.vakata",function(t){h&&t.target!==h&&e(h).blur()})))},set_theme:function(t,i){if(!t)return!1;if(i===!0){var s=this.settings.core.themes.dir;s||(s=e.jstree.path+"/themes"),i=s+"/"+t+"/style.css"}i&&e.inArray(i,r)===-1&&(e("head").append('<link rel="stylesheet" href="'+i+'" type="text/css" />'),r.push(i)),this._data.core.themes.name&&this.element.removeClass("jstree-"+this._data.core.themes.name),this._data.core.themes.name=t,this.element.addClass("jstree-"+t),this.element[this.settings.core.themes.responsive?"addClass":"removeClass"]("jstree-"+t+"-responsive"),this.trigger("set_theme",{theme:t})},get_theme:function(){return this._data.core.themes.name},set_theme_variant:function(e){this._data.core.themes.variant&&this.element.removeClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant),this._data.core.themes.variant=e,e&&this.element.addClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant)},get_theme_variant:function(){return this._data.core.themes.variant},show_stripes:function(){this._data.core.themes.stripes=!0,this.get_container_ul().addClass("jstree-striped"),this.trigger("show_stripes")},hide_stripes:function(){this._data.core.themes.stripes=!1,this.get_container_ul().removeClass("jstree-striped"),this.trigger("hide_stripes")},toggle_stripes:function(){this._data.core.themes.stripes?this.hide_stripes():this.show_stripes()},show_dots:function(){this._data.core.themes.dots=!0,this.get_container_ul().removeClass("jstree-no-dots"),this.trigger("show_dots")},hide_dots:function(){this._data.core.themes.dots=!1,this.get_container_ul().addClass("jstree-no-dots"),this.trigger("hide_dots")},toggle_dots:function(){this._data.core.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this._data.core.themes.icons=!0,this.get_container_ul().removeClass("jstree-no-icons"),this.trigger("show_icons")},hide_icons:function(){this._data.core.themes.icons=!1,this.get_container_ul().addClass("jstree-no-icons"),this.trigger("hide_icons")},toggle_icons:function(){this._data.core.themes.icons?this.hide_icons():this.show_icons()},show_ellipsis:function(){this._data.core.themes.ellipsis=!0,this.get_container_ul().addClass("jstree-ellipsis"),this.trigger("show_ellipsis")},hide_ellipsis:function(){this._data.core.themes.ellipsis=!1,this.get_container_ul().removeClass("jstree-ellipsis"),this.trigger("hide_ellipsis")},toggle_ellipsis:function(){this._data.core.themes.ellipsis?this.hide_ellipsis():this.show_ellipsis()},set_icon:function(i,s){var n,o,r,a;if(e.isArray(i)){for(i=i.slice(),n=0,o=i.length;n<o;n++)this.set_icon(i[n],s);return!0}return!(!(i=this.get_node(i))||i.id===e.jstree.root)&&(a=i.icon,i.icon=s===!0||null===s||s===t||""===s||s,r=this.get_node(i,!0).children(".jstree-anchor").children(".jstree-themeicon"),s===!1?this.hide_icon(i):s===!0||null===s||s===t||""===s?(r.removeClass("jstree-themeicon-custom "+a).css("background","").removeAttr("rel"),a===!1&&this.show_icon(i)):s.indexOf("/")===-1&&s.indexOf(".")===-1?(r.removeClass(a).css("background",""),r.addClass(s+" jstree-themeicon-custom").attr("rel",s),a===!1&&this.show_icon(i)):(r.removeClass(a).css("background",""),r.addClass("jstree-themeicon-custom").css("background","url('"+s+"') center center no-repeat").attr("rel",s),a===!1&&this.show_icon(i)),!0)},get_icon:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.icon},hide_icon:function(t){var i,s;if(e.isArray(t)){for(t=t.slice(),i=0,s=t.length;i<s;i++)this.hide_icon(t[i]);return!0}return!(!(t=this.get_node(t))||t===e.jstree.root)&&(t.icon=!1,this.get_node(t,!0).children(".jstree-anchor").children(".jstree-themeicon").addClass("jstree-themeicon-hidden"),!0)},show_icon:function(t){var i,s,n;if(e.isArray(t)){for(t=t.slice(),i=0,s=t.length;i<s;i++)this.show_icon(t[i]);return!0}return!(!(t=this.get_node(t))||t===e.jstree.root)&&(n=this.get_node(t,!0),t.icon=!n.length||n.children(".jstree-anchor").children(".jstree-themeicon").attr("rel"),t.icon||(t.icon=!0),n.children(".jstree-anchor").children(".jstree-themeicon").removeClass("jstree-themeicon-hidden"),!0)}},e.vakata={},e.vakata.attributes=function(t,i){t=e(t)[0];var s=i?{}:[];return t&&t.attributes&&e.each(t.attributes,function(t,n){e.inArray(n.name.toLowerCase(),["style","contenteditable","hasfocus","tabindex"])===-1&&null!==n.value&&""!==e.trim(n.value)&&(i?s[n.name]=n.value:s.push(n.name))}),s},e.vakata.array_unique=function(e){var i,s,n=[],o={};for(i=0,s=e.length;i<s;i++)o[e[i]]===t&&(n.push(e[i]),o[e[i]]=!0);return n},e.vakata.array_remove=function(e,t){return e.splice(t,1),e},e.vakata.array_remove_item=function(t,i){var s=e.inArray(i,t);return s!==-1?e.vakata.array_remove(t,s):t},e.vakata.array_filter=function(e,t,i,s,n){if(e.filter)return e.filter(t,i);s=[];for(n in e)~~n+""==n+""&&n>=0&&t.call(i,e[n],+n,e)&&s.push(e[n]);return s},e.jstree.plugins.changed=function(e,t){var i=[];this.trigger=function(e,s){var n,o;if(s||(s={}),"changed"===e.replace(".jstree","")){s.changed={selected:[],deselected:[]};var r={};for(n=0,o=i.length;n<o;n++)r[i[n]]=1;for(n=0,o=s.selected.length;n<o;n++)r[s.selected[n]]?r[s.selected[n]]=2:s.changed.selected.push(s.selected[n]);for(n=0,o=i.length;n<o;n++)1===r[i[n]]&&s.changed.deselected.push(i[n]);i=s.selected.slice()}t.trigger.call(this,e,s)},this.refresh=function(e,s){return i=[],t.refresh.apply(this,arguments)}};var c=l.createElement("I");c.className="jstree-icon jstree-checkbox",c.setAttribute("role","presentation"),e.jstree.defaults.checkbox={visible:!0,three_state:!0,whole_node:!0,keep_selected_style:!0,cascade:"",tie_selection:!0},e.jstree.plugins.checkbox=function(i,s){this.bind=function(){s.bind.call(this),this._data.checkbox.uto=!1,this._data.checkbox.selected=[],this.settings.checkbox.three_state&&(this.settings.checkbox.cascade="up+down+undetermined"),this.element.on("init.jstree",e.proxy(function(){this._data.checkbox.visible=this.settings.checkbox.visible,this.settings.checkbox.keep_selected_style||this.element.addClass("jstree-checkbox-no-clicked"),this.settings.checkbox.tie_selection&&this.element.addClass("jstree-checkbox-selection")},this)).on("loading.jstree",e.proxy(function(){this[this._data.checkbox.visible?"show_checkboxes":"hide_checkboxes"]()},this)),this.settings.checkbox.cascade.indexOf("undetermined")!==-1&&this.element.on("changed.jstree uncheck_node.jstree check_node.jstree uncheck_all.jstree check_all.jstree move_node.jstree copy_node.jstree redraw.jstree open_node.jstree",e.proxy(function(){this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(e.proxy(this._undetermined,this),50)},this)),this.settings.checkbox.tie_selection||this.element.on("model.jstree",e.proxy(function(e,t){var i,s,n=this._model.data,o=(n[t.parent],t.nodes);for(i=0,s=o.length;i<s;i++)n[o[i]].state.checked=n[o[i]].state.checked||n[o[i]].original&&n[o[i]].original.state&&n[o[i]].original.state.checked,n[o[i]].state.checked&&this._data.checkbox.selected.push(o[i])},this)),this.settings.checkbox.cascade.indexOf("up")===-1&&this.settings.checkbox.cascade.indexOf("down")===-1||this.element.on("model.jstree",e.proxy(function(t,i){var s,n,o,r,a,l,c=this._model.data,d=c[i.parent],h=i.nodes,u=[],p=this.settings.checkbox.cascade,f=this.settings.checkbox.tie_selection;if(p.indexOf("down")!==-1)if(d.state[f?"selected":"checked"]){for(n=0,o=h.length;n<o;n++)c[h[n]].state[f?"selected":"checked"]=!0;this._data[f?"core":"checkbox"].selected=this._data[f?"core":"checkbox"].selected.concat(h)}else for(n=0,o=h.length;n<o;n++)if(c[h[n]].state[f?"selected":"checked"]){for(r=0,a=c[h[n]].children_d.length;r<a;r++)c[c[h[n]].children_d[r]].state[f?"selected":"checked"]=!0;this._data[f?"core":"checkbox"].selected=this._data[f?"core":"checkbox"].selected.concat(c[h[n]].children_d)}if(p.indexOf("up")!==-1){for(n=0,o=d.children_d.length;n<o;n++)c[d.children_d[n]].children.length||u.push(c[d.children_d[n]].parent);for(u=e.vakata.array_unique(u),r=0,a=u.length;r<a;r++)for(d=c[u[r]];d&&d.id!==e.jstree.root;){for(s=0,n=0,o=d.children.length;n<o;n++)s+=c[d.children[n]].state[f?"selected":"checked"];if(s!==o)break;d.state[f?"selected":"checked"]=!0,this._data[f?"core":"checkbox"].selected.push(d.id),(l=this.get_node(d,!0))&&l.length&&l.attr("aria-selected",!0).children(".jstree-anchor").addClass(f?"jstree-clicked":"jstree-checked"),d=this.get_node(d.parent)}}this._data[f?"core":"checkbox"].selected=e.vakata.array_unique(this._data[f?"core":"checkbox"].selected)},this)).on(this.settings.checkbox.tie_selection?"select_node.jstree":"check_node.jstree",e.proxy(function(t,i){var s,n,o,r,a=i.node,l=this._model.data,c=this.get_node(a.parent),d=this.get_node(a,!0),h=this.settings.checkbox.cascade,u=this.settings.checkbox.tie_selection,p={},f=this._data[u?"core":"checkbox"].selected;for(s=0,n=f.length;s<n;s++)p[f[s]]=!0;if(h.indexOf("down")!==-1)for(s=0,n=a.children_d.length;s<n;s++)p[a.children_d[s]]=!0,r=l[a.children_d[s]],r.state[u?"selected":"checked"]=!0,r&&r.original&&r.original.state&&r.original.state.undetermined&&(r.original.state.undetermined=!1);if(h.indexOf("up")!==-1)for(;c&&c.id!==e.jstree.root;){for(o=0,s=0,n=c.children.length;s<n;s++)o+=l[c.children[s]].state[u?"selected":"checked"];if(o!==n)break;c.state[u?"selected":"checked"]=!0,p[c.id]=!0,(r=this.get_node(c,!0))&&r.length&&r.attr("aria-selected",!0).children(".jstree-anchor").addClass(u?"jstree-clicked":"jstree-checked"),c=this.get_node(c.parent)}f=[];for(s in p)p.hasOwnProperty(s)&&f.push(s);this._data[u?"core":"checkbox"].selected=f,h.indexOf("down")!==-1&&d.length&&d.find(".jstree-anchor").addClass(u?"jstree-clicked":"jstree-checked").parent().attr("aria-selected",!0)},this)).on(this.settings.checkbox.tie_selection?"deselect_all.jstree":"uncheck_all.jstree",e.proxy(function(t,i){var s,n,o,r=this.get_node(e.jstree.root),a=this._model.data;for(s=0,n=r.children_d.length;s<n;s++)(o=a[r.children_d[s]])&&o.original&&o.original.state&&o.original.state.undetermined&&(o.original.state.undetermined=!1)},this)).on(this.settings.checkbox.tie_selection?"deselect_node.jstree":"uncheck_node.jstree",e.proxy(function(t,i){var s,n,o,r=i.node,a=this.get_node(r,!0),l=this.settings.checkbox.cascade,c=this.settings.checkbox.tie_selection,d=this._data[c?"core":"checkbox"].selected,h={};if(r&&r.original&&r.original.state&&r.original.state.undetermined&&(r.original.state.undetermined=!1),l.indexOf("down")!==-1)for(s=0,n=r.children_d.length;s<n;s++)o=this._model.data[r.children_d[s]],o.state[c?"selected":"checked"]=!1,o&&o.original&&o.original.state&&o.original.state.undetermined&&(o.original.state.undetermined=!1);if(l.indexOf("up")!==-1)for(s=0,n=r.parents.length;s<n;s++)o=this._model.data[r.parents[s]],o.state[c?"selected":"checked"]=!1,o&&o.original&&o.original.state&&o.original.state.undetermined&&(o.original.state.undetermined=!1),
(o=this.get_node(r.parents[s],!0))&&o.length&&o.attr("aria-selected",!1).children(".jstree-anchor").removeClass(c?"jstree-clicked":"jstree-checked");for(h={},s=0,n=d.length;s<n;s++)l.indexOf("down")!==-1&&e.inArray(d[s],r.children_d)!==-1||l.indexOf("up")!==-1&&e.inArray(d[s],r.parents)!==-1||(h[d[s]]=!0);d=[];for(s in h)h.hasOwnProperty(s)&&d.push(s);this._data[c?"core":"checkbox"].selected=d,l.indexOf("down")!==-1&&a.length&&a.find(".jstree-anchor").removeClass(c?"jstree-clicked":"jstree-checked").parent().attr("aria-selected",!1)},this)),this.settings.checkbox.cascade.indexOf("up")!==-1&&this.element.on("delete_node.jstree",e.proxy(function(t,i){for(var s,n,o,r,a=this.get_node(i.parent),l=this._model.data,c=this.settings.checkbox.tie_selection;a&&a.id!==e.jstree.root&&!a.state[c?"selected":"checked"];){for(o=0,s=0,n=a.children.length;s<n;s++)o+=l[a.children[s]].state[c?"selected":"checked"];if(!(n>0&&o===n))break;a.state[c?"selected":"checked"]=!0,this._data[c?"core":"checkbox"].selected.push(a.id),(r=this.get_node(a,!0))&&r.length&&r.attr("aria-selected",!0).children(".jstree-anchor").addClass(c?"jstree-clicked":"jstree-checked"),a=this.get_node(a.parent)}},this)).on("move_node.jstree",e.proxy(function(t,i){var s,n,o,r,a,l=i.is_multi,c=i.old_parent,d=this.get_node(i.parent),h=this._model.data,u=this.settings.checkbox.tie_selection;if(!l)for(s=this.get_node(c);s&&s.id!==e.jstree.root&&!s.state[u?"selected":"checked"];){for(n=0,o=0,r=s.children.length;o<r;o++)n+=h[s.children[o]].state[u?"selected":"checked"];if(!(r>0&&n===r))break;s.state[u?"selected":"checked"]=!0,this._data[u?"core":"checkbox"].selected.push(s.id),(a=this.get_node(s,!0))&&a.length&&a.attr("aria-selected",!0).children(".jstree-anchor").addClass(u?"jstree-clicked":"jstree-checked"),s=this.get_node(s.parent)}for(s=d;s&&s.id!==e.jstree.root;){for(n=0,o=0,r=s.children.length;o<r;o++)n+=h[s.children[o]].state[u?"selected":"checked"];if(n===r)s.state[u?"selected":"checked"]||(s.state[u?"selected":"checked"]=!0,this._data[u?"core":"checkbox"].selected.push(s.id),(a=this.get_node(s,!0))&&a.length&&a.attr("aria-selected",!0).children(".jstree-anchor").addClass(u?"jstree-clicked":"jstree-checked"));else{if(!s.state[u?"selected":"checked"])break;s.state[u?"selected":"checked"]=!1,this._data[u?"core":"checkbox"].selected=e.vakata.array_remove_item(this._data[u?"core":"checkbox"].selected,s.id),(a=this.get_node(s,!0))&&a.length&&a.attr("aria-selected",!1).children(".jstree-anchor").removeClass(u?"jstree-clicked":"jstree-checked")}s=this.get_node(s.parent)}},this))},this._undetermined=function(){if(null!==this.element){var i,s,n,o,r={},a=this._model.data,l=this.settings.checkbox.tie_selection,c=this._data[l?"core":"checkbox"].selected,d=[],h=this;for(i=0,s=c.length;i<s;i++)if(a[c[i]]&&a[c[i]].parents)for(n=0,o=a[c[i]].parents.length;n<o&&r[a[c[i]].parents[n]]===t;n++)a[c[i]].parents[n]!==e.jstree.root&&(r[a[c[i]].parents[n]]=!0,d.push(a[c[i]].parents[n]));for(this.element.find(".jstree-closed").not(":has(.jstree-children)").each(function(){var l,c=h.get_node(this);if(c.state.loaded){for(i=0,s=c.children_d.length;i<s;i++)if(l=a[c.children_d[i]],!l.state.loaded&&l.original&&l.original.state&&l.original.state.undetermined&&l.original.state.undetermined===!0)for(r[l.id]===t&&l.id!==e.jstree.root&&(r[l.id]=!0,d.push(l.id)),n=0,o=l.parents.length;n<o;n++)r[l.parents[n]]===t&&l.parents[n]!==e.jstree.root&&(r[l.parents[n]]=!0,d.push(l.parents[n]))}else if(c.original&&c.original.state&&c.original.state.undetermined&&c.original.state.undetermined===!0)for(r[c.id]===t&&c.id!==e.jstree.root&&(r[c.id]=!0,d.push(c.id)),n=0,o=c.parents.length;n<o;n++)r[c.parents[n]]===t&&c.parents[n]!==e.jstree.root&&(r[c.parents[n]]=!0,d.push(c.parents[n]))}),this.element.find(".jstree-undetermined").removeClass("jstree-undetermined"),i=0,s=d.length;i<s;i++)a[d[i]].state[l?"selected":"checked"]||(c=this.get_node(d[i],!0))&&c.length&&c.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-undetermined")}},this.redraw_node=function(t,i,n,o){if(t=s.redraw_node.apply(this,arguments)){var r,a,l=null,d=null;for(r=0,a=t.childNodes.length;r<a;r++)if(t.childNodes[r]&&t.childNodes[r].className&&t.childNodes[r].className.indexOf("jstree-anchor")!==-1){l=t.childNodes[r];break}l&&(!this.settings.checkbox.tie_selection&&this._model.data[t.id].state.checked&&(l.className+=" jstree-checked"),d=c.cloneNode(!1),this._model.data[t.id].state.checkbox_disabled&&(d.className+=" jstree-checkbox-disabled"),l.insertBefore(d,l.childNodes[0]))}return n||this.settings.checkbox.cascade.indexOf("undetermined")===-1||(this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(e.proxy(this._undetermined,this),50)),t},this.show_checkboxes=function(){this._data.core.themes.checkboxes=!0,this.get_container_ul().removeClass("jstree-no-checkboxes")},this.hide_checkboxes=function(){this._data.core.themes.checkboxes=!1,this.get_container_ul().addClass("jstree-no-checkboxes")},this.toggle_checkboxes=function(){this._data.core.themes.checkboxes?this.hide_checkboxes():this.show_checkboxes()},this.is_undetermined=function(t){t=this.get_node(t);var i,s,n=this.settings.checkbox.cascade,o=this.settings.checkbox.tie_selection,r=this._data[o?"core":"checkbox"].selected,a=this._model.data;if(!t||t.state[o?"selected":"checked"]===!0||n.indexOf("undetermined")===-1||n.indexOf("down")===-1&&n.indexOf("up")===-1)return!1;if(!t.state.loaded&&t.original.state.undetermined===!0)return!0;for(i=0,s=t.children_d.length;i<s;i++)if(e.inArray(t.children_d[i],r)!==-1||!a[t.children_d[i]].state.loaded&&a[t.children_d[i]].original.state.undetermined)return!0;return!1},this.disable_checkbox=function(t){var i,s,n;if(e.isArray(t)){for(t=t.slice(),i=0,s=t.length;i<s;i++)this.disable_checkbox(t[i]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;n=this.get_node(t,!0),t.state.checkbox_disabled||(t.state.checkbox_disabled=!0,n&&n.length&&n.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-checkbox-disabled"),this.trigger("disable_checkbox",{node:t}))},this.enable_checkbox=function(t){var i,s,n;if(e.isArray(t)){for(t=t.slice(),i=0,s=t.length;i<s;i++)this.enable_checkbox(t[i]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;n=this.get_node(t,!0),t.state.checkbox_disabled&&(t.state.checkbox_disabled=!1,n&&n.length&&n.children(".jstree-anchor").children(".jstree-checkbox").removeClass("jstree-checkbox-disabled"),this.trigger("enable_checkbox",{node:t}))},this.activate_node=function(t,i){return!e(i.target).hasClass("jstree-checkbox-disabled")&&(this.settings.checkbox.tie_selection&&(this.settings.checkbox.whole_node||e(i.target).hasClass("jstree-checkbox"))&&(i.ctrlKey=!0),this.settings.checkbox.tie_selection||!this.settings.checkbox.whole_node&&!e(i.target).hasClass("jstree-checkbox")?s.activate_node.call(this,t,i):!this.is_disabled(t)&&(this.is_checked(t)?this.uncheck_node(t,i):this.check_node(t,i),void this.trigger("activate_node",{node:this.get_node(t)})))},this.check_node=function(t,i){if(this.settings.checkbox.tie_selection)return this.select_node(t,!1,!0,i);var s,n,o;if(e.isArray(t)){for(t=t.slice(),n=0,o=t.length;n<o;n++)this.check_node(t[n],i);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;s=this.get_node(t,!0),t.state.checked||(t.state.checked=!0,this._data.checkbox.selected.push(t.id),s&&s.length&&s.children(".jstree-anchor").addClass("jstree-checked"),this.trigger("check_node",{node:t,selected:this._data.checkbox.selected,event:i}))},this.uncheck_node=function(t,i){if(this.settings.checkbox.tie_selection)return this.deselect_node(t,!1,i);var s,n,o;if(e.isArray(t)){for(t=t.slice(),s=0,n=t.length;s<n;s++)this.uncheck_node(t[s],i);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;o=this.get_node(t,!0),t.state.checked&&(t.state.checked=!1,this._data.checkbox.selected=e.vakata.array_remove_item(this._data.checkbox.selected,t.id),o.length&&o.children(".jstree-anchor").removeClass("jstree-checked"),this.trigger("uncheck_node",{node:t,selected:this._data.checkbox.selected,event:i}))},this.check_all=function(){if(this.settings.checkbox.tie_selection)return this.select_all();var t,i;this._data.checkbox.selected.concat([]);for(this._data.checkbox.selected=this._model.data[e.jstree.root].children_d.concat(),t=0,i=this._data.checkbox.selected.length;t<i;t++)this._model.data[this._data.checkbox.selected[t]]&&(this._model.data[this._data.checkbox.selected[t]].state.checked=!0);this.redraw(!0),this.trigger("check_all",{selected:this._data.checkbox.selected})},this.uncheck_all=function(){if(this.settings.checkbox.tie_selection)return this.deselect_all();var e,t,i=this._data.checkbox.selected.concat([]);for(e=0,t=this._data.checkbox.selected.length;e<t;e++)this._model.data[this._data.checkbox.selected[e]]&&(this._model.data[this._data.checkbox.selected[e]].state.checked=!1);this._data.checkbox.selected=[],this.element.find(".jstree-checked").removeClass("jstree-checked"),this.trigger("uncheck_all",{selected:this._data.checkbox.selected,node:i})},this.is_checked=function(t){return this.settings.checkbox.tie_selection?this.is_selected(t):!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.state.checked},this.get_checked=function(t){return this.settings.checkbox.tie_selection?this.get_selected(t):t?e.map(this._data.checkbox.selected,e.proxy(function(e){return this.get_node(e)},this)):this._data.checkbox.selected},this.get_top_checked=function(t){if(this.settings.checkbox.tie_selection)return this.get_top_selected(t);var i,s,n,o,r=this.get_checked(!0),a={};for(i=0,s=r.length;i<s;i++)a[r[i].id]=r[i];for(i=0,s=r.length;i<s;i++)for(n=0,o=r[i].children_d.length;n<o;n++)a[r[i].children_d[n]]&&delete a[r[i].children_d[n]];r=[];for(i in a)a.hasOwnProperty(i)&&r.push(i);return t?e.map(r,e.proxy(function(e){return this.get_node(e)},this)):r},this.get_bottom_checked=function(t){if(this.settings.checkbox.tie_selection)return this.get_bottom_selected(t);var i,s,n=this.get_checked(!0),o=[];for(i=0,s=n.length;i<s;i++)n[i].children.length||o.push(n[i].id);return t?e.map(o,e.proxy(function(e){return this.get_node(e)},this)):o},this.load_node=function(t,i){var n,o,r;if(!e.isArray(t)&&!this.settings.checkbox.tie_selection&&(r=this.get_node(t))&&r.state.loaded)for(n=0,o=r.children_d.length;n<o;n++)this._model.data[r.children_d[n]].state.checked&&(!0,this._data.checkbox.selected=e.vakata.array_remove_item(this._data.checkbox.selected,r.children_d[n]));return s.load_node.apply(this,arguments)},this.get_state=function(){var e=s.get_state.apply(this,arguments);return this.settings.checkbox.tie_selection?e:(e.checkbox=this._data.checkbox.selected.slice(),e)},this.set_state=function(t,i){var n=s.set_state.apply(this,arguments);if(n&&t.checkbox){if(!this.settings.checkbox.tie_selection){this.uncheck_all();var o=this;e.each(t.checkbox,function(e,t){o.check_node(t)})}return delete t.checkbox,this.set_state(t,i),!1}return n},this.refresh=function(e,t){return this.settings.checkbox.tie_selection||(this._data.checkbox.selected=[]),s.refresh.apply(this,arguments)}},e.jstree.defaults.conditionalselect=function(){return!0},e.jstree.plugins.conditionalselect=function(e,t){this.activate_node=function(e,i){this.settings.conditionalselect.call(this,this.get_node(e),i)&&t.activate_node.call(this,e,i)}},e.jstree.defaults.contextmenu={select_node:!0,show_at_node:!0,items:function(t,i){return{create:{separator_before:!1,separator_after:!0,_disabled:!1,label:"Create",action:function(t){var i=e.jstree.reference(t.reference),s=i.get_node(t.reference);i.create_node(s,{},"last",function(e){setTimeout(function(){i.edit(e)},0)})}},rename:{separator_before:!1,separator_after:!1,_disabled:!1,label:"Rename",action:function(t){var i=e.jstree.reference(t.reference),s=i.get_node(t.reference);i.edit(s)}},remove:{separator_before:!1,icon:!1,separator_after:!1,_disabled:!1,label:"Delete",action:function(t){var i=e.jstree.reference(t.reference),s=i.get_node(t.reference);i.is_selected(s)?i.delete_node(i.get_selected()):i.delete_node(s)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,separator_after:!1,label:"Cut",action:function(t){var i=e.jstree.reference(t.reference),s=i.get_node(t.reference);i.is_selected(s)?i.cut(i.get_top_selected()):i.cut(s)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(t){var i=e.jstree.reference(t.reference),s=i.get_node(t.reference);i.is_selected(s)?i.copy(i.get_top_selected()):i.copy(s)}},paste:{separator_before:!1,icon:!1,_disabled:function(t){return!e.jstree.reference(t.reference).can_paste()},separator_after:!1,label:"Paste",action:function(t){var i=e.jstree.reference(t.reference),s=i.get_node(t.reference);i.paste(s)}}}}}}},e.jstree.plugins.contextmenu=function(i,s){this.bind=function(){s.bind.call(this);var t,i,n=0,o=null;this.element.on("contextmenu.jstree",".jstree-anchor",e.proxy(function(e,t){"input"!==e.target.tagName.toLowerCase()&&(e.preventDefault(),n=e.ctrlKey?+new Date:0,(t||o)&&(n=+new Date+1e4),o&&clearTimeout(o),this.is_loading(e.currentTarget)||this.show_contextmenu(e.currentTarget,e.pageX,e.pageY,e))},this)).on("click.jstree",".jstree-anchor",e.proxy(function(t){this._data.contextmenu.visible&&(!n||+new Date-n>250)&&e.vakata.context.hide(),n=0},this)).on("touchstart.jstree",".jstree-anchor",function(s){s.originalEvent&&s.originalEvent.changedTouches&&s.originalEvent.changedTouches[0]&&(t=s.originalEvent.changedTouches[0].clientX,i=s.originalEvent.changedTouches[0].clientY,o=setTimeout(function(){e(s.currentTarget).trigger("contextmenu",!0)},750))}).on("touchmove.vakata.jstree",function(e){o&&e.originalEvent&&e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0]&&(Math.abs(t-e.originalEvent.changedTouches[0].clientX)>50||Math.abs(i-e.originalEvent.changedTouches[0].clientY)>50)&&clearTimeout(o)}).on("touchend.vakata.jstree",function(e){o&&clearTimeout(o)}),e(l).on("context_hide.vakata.jstree",e.proxy(function(t,i){this._data.contextmenu.visible=!1,e(i.reference).removeClass("jstree-context")},this))},this.teardown=function(){this._data.contextmenu.visible&&e.vakata.context.hide(),s.teardown.call(this)},this.show_contextmenu=function(i,s,n,o){if(!(i=this.get_node(i))||i.id===e.jstree.root)return!1;var r=this.settings.contextmenu,a=this.get_node(i,!0),l=a.children(".jstree-anchor"),c=!1,d=!1;(r.show_at_node||s===t||n===t)&&(c=l.offset(),s=c.left,n=c.top+this._data.core.li_height),this.settings.contextmenu.select_node&&!this.is_selected(i)&&this.activate_node(i,o),d=r.items,e.isFunction(d)&&(d=d.call(this,i,e.proxy(function(e){this._show_contextmenu(i,s,n,e)},this))),e.isPlainObject(d)&&this._show_contextmenu(i,s,n,d)},this._show_contextmenu=function(t,i,s,n){var o=this.get_node(t,!0),r=o.children(".jstree-anchor");e(l).one("context_show.vakata.jstree",e.proxy(function(t,i){var s="jstree-contextmenu jstree-"+this.get_theme()+"-contextmenu";e(i.element).addClass(s),r.addClass("jstree-context")},this)),this._data.contextmenu.visible=!0,e.vakata.context.show(r,{x:i,y:s},n),this.trigger("show_contextmenu",{node:t,x:i,y:s})}},function(e){var t=!1,i={element:!1,reference:!1,position_x:0,position_y:0,items:[],html:"",is_visible:!1};e.vakata.context={settings:{hide_onmouseleave:0,icons:!0},_trigger:function(t){e(l).triggerHandler("context_"+t+".vakata",{reference:i.reference,element:i.element,position:{x:i.position_x,y:i.position_y}})},_execute:function(t){return!(!(t=i.items[t])||t._disabled&&(!e.isFunction(t._disabled)||t._disabled({item:t,reference:i.reference,element:i.element}))||!t.action)&&t.action.call(null,{item:t,reference:i.reference,element:i.element,position:{x:i.position_x,y:i.position_y}})},_parse:function(t,s){if(!t)return!1;s||(i.html="",i.items=[]);var n,o="",r=!1;return s&&(o+="<ul>"),e.each(t,function(t,s){if(!s)return!0;i.items.push(s),!r&&s.separator_before&&(o+="<li class='vakata-context-separator'><a href='#' "+(e.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>"),r=!1,o+="<li class='"+(s._class||"")+(s._disabled===!0||e.isFunction(s._disabled)&&s._disabled({item:s,reference:i.reference,element:i.element})?" vakata-contextmenu-disabled ":"")+"' "+(s.shortcut?" data-shortcut='"+s.shortcut+"' ":"")+">",o+="<a href='#' rel='"+(i.items.length-1)+"' "+(s.title?"title='"+s.title+"'":"")+">",e.vakata.context.settings.icons&&(o+="<i ",s.icon&&(s.icon.indexOf("/")!==-1||s.icon.indexOf(".")!==-1?o+=" style='background:url(\""+s.icon+"\") center center no-repeat' ":o+=" class='"+s.icon+"' "),o+="></i><span class='vakata-contextmenu-sep'>&#160;</span>"),o+=(e.isFunction(s.label)?s.label({item:t,reference:i.reference,element:i.element}):s.label)+(s.shortcut?' <span class="vakata-contextmenu-shortcut vakata-contextmenu-shortcut-'+s.shortcut+'">'+(s.shortcut_label||"")+"</span>":"")+"</a>",s.submenu&&(n=e.vakata.context._parse(s.submenu,!0))&&(o+=n),o+="</li>",s.separator_after&&(o+="<li class='vakata-context-separator'><a href='#' "+(e.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>",r=!0)}),o=o.replace(/<li class\='vakata-context-separator'\><\/li\>$/,""),s&&(o+="</ul>"),s||(i.html=o,e.vakata.context._trigger("parse")),o.length>10&&o},_show_submenu:function(i){if(i=e(i),i.length&&i.children("ul").length){var s=i.children("ul"),n=i.offset().left,o=n+i.outerWidth(),r=i.offset().top,a=s.width(),l=s.height(),c=e(window).width()+e(window).scrollLeft(),d=e(window).height()+e(window).scrollTop();t?i[o-(a+10+i.outerWidth())<0?"addClass":"removeClass"]("vakata-context-left"):i[o+a>c&&n>c-o?"addClass":"removeClass"]("vakata-context-right"),r+l+10>d&&s.css("bottom","-1px"),i.hasClass("vakata-context-right")?n<a&&s.css("margin-right",n-a):c-o<a&&s.css("margin-left",c-o-a),s.show()}},show:function(s,n,o){var r,a,l,c,d,h,u,p;switch(i.element&&i.element.length&&i.element.width(""),!0){case!n&&!s:return!1;case!!n&&!!s:i.reference=s,i.position_x=n.x,i.position_y=n.y;break;case!n&&!!s:i.reference=s,r=s.offset(),i.position_x=r.left+s.outerHeight(),i.position_y=r.top;break;case!!n&&!s:i.position_x=n.x,i.position_y=n.y}s&&!o&&e(s).data("vakata_contextmenu")&&(o=e(s).data("vakata_contextmenu")),e.vakata.context._parse(o)&&i.element.html(i.html),i.items.length&&(i.element.appendTo("body"),a=i.element,l=i.position_x,c=i.position_y,d=a.width(),h=a.height(),u=e(window).width()+e(window).scrollLeft(),p=e(window).height()+e(window).scrollTop(),t&&(l-=a.outerWidth()-e(s).outerWidth())<e(window).scrollLeft()+20&&(l=e(window).scrollLeft()+20),l+d+20>u&&(l=u-(d+20)),c+h+20>p&&(c=p-(h+20)),i.element.css({left:l,top:c}).show().find("a").first().focus().parent().addClass("vakata-context-hover"),i.is_visible=!0,e.vakata.context._trigger("show"))},hide:function(){i.is_visible&&(i.element.hide().find("ul").hide().end().find(":focus").blur().end().detach(),i.is_visible=!1,e.vakata.context._trigger("hide"))}},e(function(){t="rtl"===e("body").css("direction");var s=!1;i.element=e("<ul class='vakata-context'></ul>"),i.element.on("mouseenter","li",function(t){t.stopImmediatePropagation(),e.contains(this,t.relatedTarget)||(s&&clearTimeout(s),i.element.find(".vakata-context-hover").removeClass("vakata-context-hover").end(),e(this).siblings().find("ul").hide().end().end().parentsUntil(".vakata-context","li").addBack().addClass("vakata-context-hover"),e.vakata.context._show_submenu(this))}).on("mouseleave","li",function(t){e.contains(this,t.relatedTarget)||e(this).find(".vakata-context-hover").addBack().removeClass("vakata-context-hover")}).on("mouseleave",function(t){e(this).find(".vakata-context-hover").removeClass("vakata-context-hover"),e.vakata.context.settings.hide_onmouseleave&&(s=setTimeout(function(t){return function(){e.vakata.context.hide()}}(),e.vakata.context.settings.hide_onmouseleave))}).on("click","a",function(t){t.preventDefault(),e(this).blur().parent().hasClass("vakata-context-disabled")||e.vakata.context._execute(e(this).attr("rel"))===!1||e.vakata.context.hide()}).on("keydown","a",function(t){var s=null;switch(t.which){case 13:case 32:t.type="click",t.preventDefault(),e(t.currentTarget).trigger(t);break;case 37:i.is_visible&&(i.element.find(".vakata-context-hover").last().closest("li").first().find("ul").hide().find(".vakata-context-hover").removeClass("vakata-context-hover").end().end().children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 38:i.is_visible&&(s=i.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").prevAll("li:not(.vakata-context-separator)").first(),s.length||(s=i.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").last()),s.addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 39:i.is_visible&&(i.element.find(".vakata-context-hover").last().children("ul").show().children("li:not(.vakata-context-separator)").removeClass("vakata-context-hover").first().addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 40:i.is_visible&&(s=i.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").nextAll("li:not(.vakata-context-separator)").first(),s.length||(s=i.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").first()),s.addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 27:e.vakata.context.hide(),t.preventDefault()}}).on("keydown",function(e){e.preventDefault();var t=i.element.find(".vakata-contextmenu-shortcut-"+e.which).parent();t.parent().not(".vakata-context-disabled")&&t.click()}),e(l).on("mousedown.vakata.jstree",function(t){i.is_visible&&!e.contains(i.element[0],t.target)&&e.vakata.context.hide()}).on("context_show.vakata.jstree",function(e,s){i.element.find("li:has(ul)").children("a").addClass("vakata-context-parent"),t&&i.element.addClass("vakata-context-rtl").css("direction","rtl"),i.element.find("ul").hide().end()})})}(e),e.jstree.defaults.dnd={copy:!0,open_timeout:500,is_draggable:!0,check_while_dragging:!0,always_copy:!1,inside_pos:0,drag_selection:!0,touch:!0,large_drop_target:!1,large_drag_target:!1,use_html5:!1};var d,h;e.jstree.plugins.dnd=function(t,i){this.init=function(e,t){i.init.call(this,e,t),this.settings.dnd.use_html5=this.settings.dnd.use_html5&&"draggable"in l.createElement("span")},this.bind=function(){i.bind.call(this),this.element.on(this.settings.dnd.use_html5?"dragstart.jstree":"mousedown.jstree touchstart.jstree",this.settings.dnd.large_drag_target?".jstree-node":".jstree-anchor",e.proxy(function(t){if(this.settings.dnd.large_drag_target&&e(t.target).closest(".jstree-node")[0]!==t.currentTarget)return!0;if("touchstart"===t.type&&(!this.settings.dnd.touch||"selected"===this.settings.dnd.touch&&!e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").hasClass("jstree-clicked")))return!0;var i=this.get_node(t.target),s=this.is_selected(i)&&this.settings.dnd.drag_selection?this.get_top_selected().length:1,n=s>1?s+" "+this.get_string("nodes"):this.get_text(t.currentTarget);if(this.settings.core.force_text&&(n=e.vakata.html.escape(n)),i&&i.id&&i.id!==e.jstree.root&&(1===t.which||"touchstart"===t.type||"dragstart"===t.type)&&(this.settings.dnd.is_draggable===!0||e.isFunction(this.settings.dnd.is_draggable)&&this.settings.dnd.is_draggable.call(this,s>1?this.get_top_selected(!0):[i],t))){if(d={jstree:!0,origin:this,obj:this.get_node(i,!0),nodes:s>1?this.get_top_selected():[i.id]},h=t.currentTarget,!this.settings.dnd.use_html5)return this.element.trigger("mousedown.jstree"),e.vakata.dnd.start(t,d,'<div id="jstree-dnd" class="jstree-'+this.get_theme()+" jstree-"+this.get_theme()+"-"+this.get_theme_variant()+" "+(this.settings.core.themes.responsive?" jstree-dnd-responsive":"")+'"><i class="jstree-icon jstree-er"></i>'+n+'<ins class="jstree-copy" style="display:none;">+</ins></div>');e.vakata.dnd._trigger("start",t,{helper:e(),element:h,data:d})}},this)),this.settings.dnd.use_html5&&this.element.on("dragover.jstree",function(t){return t.preventDefault(),e.vakata.dnd._trigger("move",t,{helper:e(),element:h,data:d}),!1}).on("drop.jstree",e.proxy(function(t){return t.preventDefault(),e.vakata.dnd._trigger("stop",t,{helper:e(),element:h,data:d}),!1},this))},this.redraw_node=function(e,t,s,n){if((e=i.redraw_node.apply(this,arguments))&&this.settings.dnd.use_html5)if(this.settings.dnd.large_drag_target)e.setAttribute("draggable",!0);else{var o,r,a=null;for(o=0,r=e.childNodes.length;o<r;o++)if(e.childNodes[o]&&e.childNodes[o].className&&e.childNodes[o].className.indexOf("jstree-anchor")!==-1){a=e.childNodes[o];break}a&&a.setAttribute("draggable",!0)}return e}},e(function(){var i=!1,s=!1,n=!1,o=!1,r=e('<div id="jstree-marker">&#160;</div>').hide();e(l).on("dnd_start.vakata.jstree",function(e,t){i=!1,n=!1,t&&t.data&&t.data.jstree&&r.appendTo("body")}).on("dnd_move.vakata.jstree",function(a,l){if(o&&(l.event&&"dragover"===l.event.type&&l.event.target===n.target||clearTimeout(o)),l&&l.data&&l.data.jstree&&(!l.event.target.id||"jstree-marker"!==l.event.target.id)){n=l.event;var c,d,h,u,p,f,g,m,_,v,y,w,b,x,k,j,C=e.jstree.reference(l.event.target),T=!1,z=!1,S=!1;if(C&&C._data&&C._data.dnd)if(r.attr("class","jstree-"+C.get_theme()+(C.settings.core.themes.responsive?" jstree-dnd-responsive":"")),k=l.data.origin&&(l.data.origin.settings.dnd.always_copy||l.data.origin.settings.dnd.copy&&(l.event.metaKey||l.event.ctrlKey)),l.helper.children().attr("class","jstree-"+C.get_theme()+" jstree-"+C.get_theme()+"-"+C.get_theme_variant()+" "+(C.settings.core.themes.responsive?" jstree-dnd-responsive":"")).find(".jstree-copy").first()[k?"show":"hide"](),l.event.target!==C.element[0]&&l.event.target!==C.get_container_ul()[0]||0!==C.get_container_ul().children().length){if((T=C.settings.dnd.large_drop_target?e(l.event.target).closest(".jstree-node").children(".jstree-anchor"):e(l.event.target).closest(".jstree-anchor"))&&T.length&&T.parent().is(".jstree-closed, .jstree-open, .jstree-leaf")&&(z=T.offset(),S=(l.event.pageY!==t?l.event.pageY:l.event.originalEvent.pageY)-z.top,h=T.outerHeight(),f=S<h/3?["b","i","a"]:S>h-h/3?["a","i","b"]:S>h/2?["i","a","b"]:["i","b","a"],e.each(f,function(t,n){switch(n){case"b":c=z.left-6,d=z.top,u=C.get_parent(T),p=T.parent().index();break;case"i":b=C.settings.dnd.inside_pos,x=C.get_node(T.parent()),c=z.left-2,d=z.top+h/2+1,u=x.id,p="first"===b?0:"last"===b?x.children.length:Math.min(b,x.children.length);break;case"a":c=z.left-6,d=z.top+h,u=C.get_parent(T),p=T.parent().index()+1}for(g=!0,m=0,_=l.data.nodes.length;m<_;m++)if(v=l.data.origin&&(l.data.origin.settings.dnd.always_copy||l.data.origin.settings.dnd.copy&&(l.event.metaKey||l.event.ctrlKey))?"copy_node":"move_node",y=p,"move_node"===v&&"a"===n&&l.data.origin&&l.data.origin===C&&u===C.get_parent(l.data.nodes[m])&&(w=C.get_node(u),y>e.inArray(l.data.nodes[m],w.children)&&(y-=1)),!(g=g&&(C&&C.settings&&C.settings.dnd&&C.settings.dnd.check_while_dragging===!1||C.check(v,l.data.origin&&l.data.origin!==C?l.data.origin.get_node(l.data.nodes[m]):l.data.nodes[m],u,y,{dnd:!0,ref:C.get_node(T.parent()),pos:n,origin:l.data.origin,is_multi:l.data.origin&&l.data.origin!==C,is_foreign:!l.data.origin})))){C&&C.last_error&&(s=C.last_error());break}if("i"===n&&T.parent().is(".jstree-closed")&&C.settings.dnd.open_timeout&&(o=setTimeout(function(e,t){return function(){e.open_node(t)}}(C,T),C.settings.dnd.open_timeout)),g)return j=C.get_node(u,!0),j.hasClass(".jstree-dnd-parent")||(e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),j.addClass("jstree-dnd-parent")),i={ins:C,par:u,pos:"i"!==n||"last"!==b||0!==p||C.is_loaded(x)?p:"last"},r.css({left:c+"px",top:d+"px"}).show(),l.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),l.event.originalEvent&&l.event.originalEvent.dataTransfer&&(l.event.originalEvent.dataTransfer.dropEffect=k?"copy":"move"),s={},f=!0,!1}),f===!0))return}else{for(g=!0,m=0,_=l.data.nodes.length;m<_&&(g=g&&C.check(l.data.origin&&(l.data.origin.settings.dnd.always_copy||l.data.origin.settings.dnd.copy&&(l.event.metaKey||l.event.ctrlKey))?"copy_node":"move_node",l.data.origin&&l.data.origin!==C?l.data.origin.get_node(l.data.nodes[m]):l.data.nodes[m],e.jstree.root,"last",{dnd:!0,ref:C.get_node(e.jstree.root),pos:"i",origin:l.data.origin,is_multi:l.data.origin&&l.data.origin!==C,is_foreign:!l.data.origin}));m++);if(g)return i={ins:C,par:e.jstree.root,pos:"last"},r.hide(),l.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),void(l.event.originalEvent&&l.event.originalEvent.dataTransfer&&(l.event.originalEvent.dataTransfer.dropEffect=k?"copy":"move"))}e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),i=!1,l.helper.find(".jstree-icon").removeClass("jstree-ok").addClass("jstree-er"),l.event.originalEvent&&l.event.originalEvent.dataTransfer&&(l.event.originalEvent.dataTransfer.dropEffect="none"),r.hide()}}).on("dnd_scroll.vakata.jstree",function(e,t){t&&t.data&&t.data.jstree&&(r.hide(),i=!1,n=!1,t.helper.find(".jstree-icon").first().removeClass("jstree-ok").addClass("jstree-er"))}).on("dnd_stop.vakata.jstree",function(t,a){if(e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),o&&clearTimeout(o),a&&a.data&&a.data.jstree){r.hide().detach();var l,c,d=[];if(i){for(l=0,c=a.data.nodes.length;l<c;l++)d[l]=a.data.origin?a.data.origin.get_node(a.data.nodes[l]):a.data.nodes[l];i.ins[a.data.origin&&(a.data.origin.settings.dnd.always_copy||a.data.origin.settings.dnd.copy&&(a.event.metaKey||a.event.ctrlKey))?"copy_node":"move_node"](d,i.par,i.pos,!1,!1,!1,a.data.origin)}else l=e(a.event.target).closest(".jstree"),l.length&&s&&s.error&&"check"===s.error&&(l=l.jstree(!0))&&l.settings.core.error.call(this,s);n=!1,i=!1}}).on("keyup.jstree keydown.jstree",function(t,a){(a=e.vakata.dnd._get())&&a.data&&a.data.jstree&&("keyup"===t.type&&27===t.which?(o&&clearTimeout(o),i=!1,s=!1,n=!1,o=!1,r.hide().detach(),e.vakata.dnd._clean()):(a.helper.find(".jstree-copy").first()[a.data.origin&&(a.data.origin.settings.dnd.always_copy||a.data.origin.settings.dnd.copy&&(t.metaKey||t.ctrlKey))?"show":"hide"](),n&&(n.metaKey=t.metaKey,n.ctrlKey=t.ctrlKey,e.vakata.dnd._trigger("move",n))))})}),function(e){e.vakata.html={div:e("<div />"),escape:function(t){return e.vakata.html.div.text(t).html()},strip:function(t){return e.vakata.html.div.empty().append(e.parseHTML(t)).text()}};var i={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1};e.vakata.dnd={settings:{scroll_speed:10,scroll_proximity:20,helper_left:5,helper_top:10,threshold:5,threshold_touch:50},_trigger:function(i,s,n){n===t&&(n=e.vakata.dnd._get()),n.event=s,e(l).triggerHandler("dnd_"+i+".vakata",n)},_get:function(){return{data:i.data,element:i.element,helper:i.helper}},_clean:function(){i.helper&&i.helper.remove(),i.scroll_i&&(clearInterval(i.scroll_i),i.scroll_i=!1),i={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1},e(l).off("mousemove.vakata.jstree touchmove.vakata.jstree",e.vakata.dnd.drag),e(l).off("mouseup.vakata.jstree touchend.vakata.jstree",e.vakata.dnd.stop)},_scroll:function(t){if(!i.scroll_e||!i.scroll_l&&!i.scroll_t)return i.scroll_i&&(clearInterval(i.scroll_i),i.scroll_i=!1),!1;if(!i.scroll_i)return i.scroll_i=setInterval(e.vakata.dnd._scroll,100),!1;if(t===!0)return!1;var s=i.scroll_e.scrollTop(),n=i.scroll_e.scrollLeft();i.scroll_e.scrollTop(s+i.scroll_t*e.vakata.dnd.settings.scroll_speed),i.scroll_e.scrollLeft(n+i.scroll_l*e.vakata.dnd.settings.scroll_speed),s===i.scroll_e.scrollTop()&&n===i.scroll_e.scrollLeft()||e.vakata.dnd._trigger("scroll",i.scroll_e)},
start:function(t,s,n){"touchstart"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=l.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),i.is_drag&&e.vakata.dnd.stop({});try{t.currentTarget.unselectable="on",t.currentTarget.onselectstart=function(){return!1},t.currentTarget.style&&(t.currentTarget.style.touchAction="none",t.currentTarget.style.msTouchAction="none",t.currentTarget.style.MozUserSelect="none")}catch(e){}return i.init_x=t.pageX,i.init_y=t.pageY,i.data=s,i.is_down=!0,i.element=t.currentTarget,i.target=t.target,i.is_touch="touchstart"===t.type,n!==!1&&(i.helper=e("<div id='vakata-dnd'></div>").html(n).css({display:"block",margin:"0",padding:"0",position:"absolute",top:"-2000px",lineHeight:"16px",zIndex:"10000"})),e(l).on("mousemove.vakata.jstree touchmove.vakata.jstree",e.vakata.dnd.drag),e(l).on("mouseup.vakata.jstree touchend.vakata.jstree",e.vakata.dnd.stop),!1},drag:function(t){if("touchmove"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=l.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),i.is_down){if(!i.is_drag){if(!(Math.abs(t.pageX-i.init_x)>(i.is_touch?e.vakata.dnd.settings.threshold_touch:e.vakata.dnd.settings.threshold)||Math.abs(t.pageY-i.init_y)>(i.is_touch?e.vakata.dnd.settings.threshold_touch:e.vakata.dnd.settings.threshold)))return;i.helper&&(i.helper.appendTo("body"),i.helper_w=i.helper.outerWidth()),i.is_drag=!0,e(i.target).one("click.vakata",!1),e.vakata.dnd._trigger("start",t)}var s=!1,n=!1,o=!1,r=!1,a=!1,c=!1,d=!1,h=!1,u=!1,p=!1;return i.scroll_t=0,i.scroll_l=0,i.scroll_e=!1,e(e(t.target).parentsUntil("body").addBack().get().reverse()).filter(function(){return/^auto|scroll$/.test(e(this).css("overflow"))&&(this.scrollHeight>this.offsetHeight||this.scrollWidth>this.offsetWidth)}).each(function(){var s=e(this),n=s.offset();if(this.scrollHeight>this.offsetHeight&&(n.top+s.height()-t.pageY<e.vakata.dnd.settings.scroll_proximity&&(i.scroll_t=1),t.pageY-n.top<e.vakata.dnd.settings.scroll_proximity&&(i.scroll_t=-1)),this.scrollWidth>this.offsetWidth&&(n.left+s.width()-t.pageX<e.vakata.dnd.settings.scroll_proximity&&(i.scroll_l=1),t.pageX-n.left<e.vakata.dnd.settings.scroll_proximity&&(i.scroll_l=-1)),i.scroll_t||i.scroll_l)return i.scroll_e=e(this),!1}),i.scroll_e||(s=e(l),n=e(window),o=s.height(),r=n.height(),a=s.width(),c=n.width(),d=s.scrollTop(),h=s.scrollLeft(),o>r&&t.pageY-d<e.vakata.dnd.settings.scroll_proximity&&(i.scroll_t=-1),o>r&&r-(t.pageY-d)<e.vakata.dnd.settings.scroll_proximity&&(i.scroll_t=1),a>c&&t.pageX-h<e.vakata.dnd.settings.scroll_proximity&&(i.scroll_l=-1),a>c&&c-(t.pageX-h)<e.vakata.dnd.settings.scroll_proximity&&(i.scroll_l=1),(i.scroll_t||i.scroll_l)&&(i.scroll_e=s)),i.scroll_e&&e.vakata.dnd._scroll(!0),i.helper&&(u=parseInt(t.pageY+e.vakata.dnd.settings.helper_top,10),p=parseInt(t.pageX+e.vakata.dnd.settings.helper_left,10),o&&u+25>o&&(u=o-50),a&&p+i.helper_w>a&&(p=a-(i.helper_w+2)),i.helper.css({left:p+"px",top:u+"px"})),e.vakata.dnd._trigger("move",t),!1}},stop:function(t){if("touchend"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=l.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),i.is_drag)t.target!==i.target&&e(i.target).off("click.vakata"),e.vakata.dnd._trigger("stop",t);else if("touchend"===t.type&&t.target===i.target){var s=setTimeout(function(){e(t.target).click()},100);e(t.target).one("click",function(){s&&clearTimeout(s)})}return e.vakata.dnd._clean(),!1}}}(e),e.jstree.defaults.massload=null,e.jstree.plugins.massload=function(t,i){this.init=function(e,t){this._data.massload={},i.init.call(this,e,t)},this._load_nodes=function(t,s,n,o){var r,a,l,c=this.settings.massload,d=(JSON.stringify(t),[]),h=this._model.data;if(!n){for(r=0,a=t.length;r<a;r++)h[t[r]]&&(h[t[r]].state.loaded||h[t[r]].state.failed)&&!o||(d.push(t[r]),(l=this.get_node(t[r],!0))&&l.length&&l.addClass("jstree-loading").attr("aria-busy",!0));if(this._data.massload={},d.length){if(e.isFunction(c))return c.call(this,d,e.proxy(function(e){var r,a;if(e)for(r in e)e.hasOwnProperty(r)&&(this._data.massload[r]=e[r]);for(r=0,a=t.length;r<a;r++)(l=this.get_node(t[r],!0))&&l.length&&l.removeClass("jstree-loading").attr("aria-busy",!1);i._load_nodes.call(this,t,s,n,o)},this));if("object"==typeof c&&c&&c.url)return c=e.extend(!0,{},c),e.isFunction(c.url)&&(c.url=c.url.call(this,d)),e.isFunction(c.data)&&(c.data=c.data.call(this,d)),e.ajax(c).done(e.proxy(function(e,r,a){var c,d;if(e)for(c in e)e.hasOwnProperty(c)&&(this._data.massload[c]=e[c]);for(c=0,d=t.length;c<d;c++)(l=this.get_node(t[c],!0))&&l.length&&l.removeClass("jstree-loading").attr("aria-busy",!1);i._load_nodes.call(this,t,s,n,o)},this)).fail(e.proxy(function(e){i._load_nodes.call(this,t,s,n,o)},this))}}return i._load_nodes.call(this,t,s,n,o)},this._load_node=function(t,s){var n,o=this._data.massload[t.id],r=null;return o?(r=this["string"==typeof o?"_append_html_data":"_append_json_data"](t,"string"==typeof o?e(e.parseHTML(o)).filter(function(){return 3!==this.nodeType}):o,function(e){s.call(this,e)}),n=this.get_node(t.id,!0),n&&n.length&&n.removeClass("jstree-loading").attr("aria-busy",!1),delete this._data.massload[t.id],r):i._load_node.call(this,t,s)}},e.jstree.defaults.search={ajax:!1,fuzzy:!1,case_sensitive:!1,show_only_matches:!1,show_only_matches_children:!1,close_opened_onclear:!0,search_leaves_only:!1,search_callback:!1},e.jstree.plugins.search=function(i,s){this.bind=function(){s.bind.call(this),this._data.search.str="",this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=!1,this._data.search.smc=!1,this._data.search.hdn=[],this.element.on("search.jstree",e.proxy(function(t,i){if(this._data.search.som&&i.res.length){var s,n,o,r,a=this._model.data,l=[];for(s=0,n=i.res.length;s<n;s++)if(a[i.res[s]]&&!a[i.res[s]].state.hidden&&(l.push(i.res[s]),l=l.concat(a[i.res[s]].parents),this._data.search.smc))for(o=0,r=a[i.res[s]].children_d.length;o<r;o++)a[a[i.res[s]].children_d[o]]&&!a[a[i.res[s]].children_d[o]].state.hidden&&l.push(a[i.res[s]].children_d[o]);l=e.vakata.array_remove_item(e.vakata.array_unique(l),e.jstree.root),this._data.search.hdn=this.hide_all(!0),this.show_node(l,!0),this.redraw(!0)}},this)).on("clear_search.jstree",e.proxy(function(e,t){this._data.search.som&&t.res.length&&(this.show_node(this._data.search.hdn,!0),this.redraw(!0))},this))},this.search=function(i,s,n,o,r,a){if(i===!1||""===e.trim(i.toString()))return this.clear_search();o=this.get_node(o),o=o&&o.id?o.id:null,i=i.toString();var l,c,d=this.settings.search,h=!!d.ajax&&d.ajax,u=this._model.data,p=null,f=[],g=[];if(this._data.search.res.length&&!r&&this.clear_search(),n===t&&(n=d.show_only_matches),a===t&&(a=d.show_only_matches_children),!s&&h!==!1)return e.isFunction(h)?h.call(this,i,e.proxy(function(t){t&&t.d&&(t=t.d),this._load_nodes(e.isArray(t)?e.vakata.array_unique(t):[],function(){this.search(i,!0,n,o,r,a)})},this),o):(h=e.extend({},h),h.data||(h.data={}),h.data.str=i,o&&(h.data.inside=o),this._data.search.lastRequest&&this._data.search.lastRequest.abort(),this._data.search.lastRequest=e.ajax(h).fail(e.proxy(function(){this._data.core.last_error={error:"ajax",plugin:"search",id:"search_01",reason:"Could not load search parents",data:JSON.stringify(h)},this.settings.core.error.call(this,this._data.core.last_error)},this)).done(e.proxy(function(t){t&&t.d&&(t=t.d),this._load_nodes(e.isArray(t)?e.vakata.array_unique(t):[],function(){this.search(i,!0,n,o,r,a)})},this)),this._data.search.lastRequest);if(r||(this._data.search.str=i,this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=n,this._data.search.smc=a),p=new e.vakata.search(i,!0,{caseSensitive:d.case_sensitive,fuzzy:d.fuzzy}),e.each(u[o||e.jstree.root].children_d,function(e,t){var s=u[t];s.text&&!s.state.hidden&&(!d.search_leaves_only||s.state.loaded&&0===s.children.length)&&(d.search_callback&&d.search_callback.call(this,i,s)||!d.search_callback&&p.search(s.text).isMatch)&&(f.push(t),g=g.concat(s.parents))}),f.length){for(g=e.vakata.array_unique(g),l=0,c=g.length;l<c;l++)g[l]!==e.jstree.root&&u[g[l]]&&this.open_node(g[l],null,0)===!0&&this._data.search.opn.push(g[l]);r?(this._data.search.dom=this._data.search.dom.add(e(this.element[0].querySelectorAll("#"+e.map(f,function(t){return"0123456789".indexOf(t[0])!==-1?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #")))),this._data.search.res=e.vakata.array_unique(this._data.search.res.concat(f))):(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(f,function(t){return"0123456789".indexOf(t[0])!==-1?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.res=f),this._data.search.dom.children(".jstree-anchor").addClass("jstree-search")}this.trigger("search",{nodes:this._data.search.dom,str:i,res:this._data.search.res,show_only_matches:n})},this.clear_search=function(){this.settings.search.close_opened_onclear&&this.close_node(this._data.search.opn,0),this.trigger("clear_search",{nodes:this._data.search.dom,str:this._data.search.str,res:this._data.search.res}),this._data.search.res.length&&(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(this._data.search.res,function(t){return"0123456789".indexOf(t[0])!==-1?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.dom.children(".jstree-anchor").removeClass("jstree-search")),this._data.search.str="",this._data.search.res=[],this._data.search.opn=[],this._data.search.dom=e()},this.redraw_node=function(t,i,n,o){if((t=s.redraw_node.apply(this,arguments))&&e.inArray(t.id,this._data.search.res)!==-1){var r,a,l=null;for(r=0,a=t.childNodes.length;r<a;r++)if(t.childNodes[r]&&t.childNodes[r].className&&t.childNodes[r].className.indexOf("jstree-anchor")!==-1){l=t.childNodes[r];break}l&&(l.className+=" jstree-search")}return t}},function(e){e.vakata.search=function(t,i,s){s=s||{},s=e.extend({},e.vakata.search.defaults,s),s.fuzzy!==!1&&(s.fuzzy=!0),t=s.caseSensitive?t:t.toLowerCase();var n,o,r,a,l=s.location,c=s.distance,d=s.threshold,h=t.length;return h>32&&(s.fuzzy=!1),s.fuzzy&&(n=1<<h-1,o=function(){var e={},i=0;for(i=0;i<h;i++)e[t.charAt(i)]=0;for(i=0;i<h;i++)e[t.charAt(i)]|=1<<h-i-1;return e}(),r=function(e,t){var i=e/h,s=Math.abs(l-t);return c?i+s/c:s?1:i}),a=function(e){if(e=s.caseSensitive?e:e.toLowerCase(),t===e||e.indexOf(t)!==-1)return{isMatch:!0,score:0};if(!s.fuzzy)return{isMatch:!1,score:1};var i,a,c,u,p,f,g,m,_,v=e.length,y=d,w=e.indexOf(t,l),b=h+v,x=1,k=[];for(w!==-1&&(y=Math.min(r(0,w),y),(w=e.lastIndexOf(t,l+h))!==-1&&(y=Math.min(r(0,w),y))),w=-1,i=0;i<h;i++){for(c=0,u=b;c<u;)r(i,l+u)<=y?c=u:b=u,u=Math.floor((b-c)/2+c);for(b=u,f=Math.max(1,l-u+1),g=Math.min(l+u,v)+h,m=new Array(g+2),m[g+1]=(1<<i)-1,a=g;a>=f;a--)if(_=o[e.charAt(a-1)],m[a]=0===i?(m[a+1]<<1|1)&_:(m[a+1]<<1|1)&_|(p[a+1]|p[a])<<1|1|p[a+1],m[a]&n&&(x=r(i,a-1))<=y){if(y=x,w=a-1,k.push(w),!(w>l))break;f=Math.max(1,2*l-w)}if(r(i+1,l)>y)break;p=m}return{isMatch:w>=0,score:x}},i===!0?{search:a}:a(i)},e.vakata.search.defaults={location:0,distance:100,threshold:.6,fuzzy:!1,caseSensitive:!1}}(e),e.jstree.defaults.sort=function(e,t){return this.get_text(e)>this.get_text(t)?1:-1},e.jstree.plugins.sort=function(t,i){this.bind=function(){i.bind.call(this),this.element.on("model.jstree",e.proxy(function(e,t){this.sort(t.parent,!0)},this)).on("rename_node.jstree create_node.jstree",e.proxy(function(e,t){this.sort(t.parent||t.node.parent,!1),this.redraw_node(t.parent||t.node.parent,!0)},this)).on("move_node.jstree copy_node.jstree",e.proxy(function(e,t){this.sort(t.parent,!1),this.redraw_node(t.parent,!0)},this))},this.sort=function(t,i){var s,n;if((t=this.get_node(t))&&t.children&&t.children.length&&(t.children.sort(e.proxy(this.settings.sort,this)),i))for(s=0,n=t.children_d.length;s<n;s++)this.sort(t.children_d[s],!1)}};var u=!1;e.jstree.defaults.state={key:"jstree",events:"changed.jstree open_node.jstree close_node.jstree check_node.jstree uncheck_node.jstree",ttl:!1,filter:!1},e.jstree.plugins.state=function(t,i){this.bind=function(){i.bind.call(this);var t=e.proxy(function(){this.element.on(this.settings.state.events,e.proxy(function(){u&&clearTimeout(u),u=setTimeout(e.proxy(function(){this.save_state()},this),100)},this)),this.trigger("state_ready")},this);this.element.on("ready.jstree",e.proxy(function(e,i){this.element.one("restore_state.jstree",t),this.restore_state()||t()},this))},this.save_state=function(){var t={state:this.get_state(),ttl:this.settings.state.ttl,sec:+new Date};e.vakata.storage.set(this.settings.state.key,JSON.stringify(t))},this.restore_state=function(){var t=e.vakata.storage.get(this.settings.state.key);if(t)try{t=JSON.parse(t)}catch(e){return!1}return!(t&&t.ttl&&t.sec&&+new Date-t.sec>t.ttl)&&(t&&t.state&&(t=t.state),t&&e.isFunction(this.settings.state.filter)&&(t=this.settings.state.filter.call(this,t)),!!t&&(this.element.one("set_state.jstree",function(i,s){s.instance.trigger("restore_state",{state:e.extend(!0,{},t)})}),this.set_state(t),!0))},this.clear_state=function(){return e.vakata.storage.del(this.settings.state.key)}},function(e,t){e.vakata.storage={set:function(e,t){return window.localStorage.setItem(e,t)},get:function(e){return window.localStorage.getItem(e)},del:function(e){return window.localStorage.removeItem(e)}}}(e),e.jstree.defaults.types={default:{}},e.jstree.defaults.types[e.jstree.root]={},e.jstree.plugins.types=function(i,s){this.init=function(i,n){var o,r;if(n&&n.types&&n.types.default)for(o in n.types)if("default"!==o&&o!==e.jstree.root&&n.types.hasOwnProperty(o))for(r in n.types.default)n.types.default.hasOwnProperty(r)&&n.types[o][r]===t&&(n.types[o][r]=n.types.default[r]);s.init.call(this,i,n),this._model.data[e.jstree.root].type=e.jstree.root},this.refresh=function(t,i){s.refresh.call(this,t,i),this._model.data[e.jstree.root].type=e.jstree.root},this.bind=function(){this.element.on("model.jstree",e.proxy(function(i,s){var n,o,r,a=this._model.data,l=s.nodes,c=this.settings.types,d="default";for(n=0,o=l.length;n<o;n++){if(d="default",a[l[n]].original&&a[l[n]].original.type&&c[a[l[n]].original.type]&&(d=a[l[n]].original.type),a[l[n]].data&&a[l[n]].data.jstree&&a[l[n]].data.jstree.type&&c[a[l[n]].data.jstree.type]&&(d=a[l[n]].data.jstree.type),a[l[n]].type=d,a[l[n]].icon===!0&&c[d].icon!==t&&(a[l[n]].icon=c[d].icon),c[d].li_attr!==t&&"object"==typeof c[d].li_attr)for(r in c[d].li_attr)if(c[d].li_attr.hasOwnProperty(r)){if("id"===r)continue;a[l[n]].li_attr[r]===t?a[l[n]].li_attr[r]=c[d].li_attr[r]:"class"===r&&(a[l[n]].li_attr.class=c[d].li_attr.class+" "+a[l[n]].li_attr.class)}if(c[d].a_attr!==t&&"object"==typeof c[d].a_attr)for(r in c[d].a_attr)if(c[d].a_attr.hasOwnProperty(r)){if("id"===r)continue;a[l[n]].a_attr[r]===t?a[l[n]].a_attr[r]=c[d].a_attr[r]:"href"===r&&"#"===a[l[n]].a_attr[r]?a[l[n]].a_attr.href=c[d].a_attr.href:"class"===r&&(a[l[n]].a_attr.class=c[d].a_attr.class+" "+a[l[n]].a_attr.class)}}a[e.jstree.root].type=e.jstree.root},this)),s.bind.call(this)},this.get_json=function(t,i,n){var o,r,a=this._model.data,l=i?e.extend(!0,{},i,{no_id:!1}):{},c=s.get_json.call(this,t,l,n);if(c===!1)return!1;if(e.isArray(c))for(o=0,r=c.length;o<r;o++)c[o].type=c[o].id&&a[c[o].id]&&a[c[o].id].type?a[c[o].id].type:"default",i&&i.no_id&&(delete c[o].id,c[o].li_attr&&c[o].li_attr.id&&delete c[o].li_attr.id,c[o].a_attr&&c[o].a_attr.id&&delete c[o].a_attr.id);else c.type=c.id&&a[c.id]&&a[c.id].type?a[c.id].type:"default",i&&i.no_id&&(c=this._delete_ids(c));return c},this._delete_ids=function(t){if(e.isArray(t)){for(var i=0,s=t.length;i<s;i++)t[i]=this._delete_ids(t[i]);return t}return delete t.id,t.li_attr&&t.li_attr.id&&delete t.li_attr.id,t.a_attr&&t.a_attr.id&&delete t.a_attr.id,t.children&&e.isArray(t.children)&&(t.children=this._delete_ids(t.children)),t},this.check=function(i,n,o,r,a){if(s.check.call(this,i,n,o,r,a)===!1)return!1;n=n&&n.id?n:this.get_node(n),o=o&&o.id?o:this.get_node(o);var l,c,d,h,u=n&&n.id?a&&a.origin?a.origin:e.jstree.reference(n.id):null;switch(u=u&&u._model&&u._model.data?u._model.data:null,i){case"create_node":case"move_node":case"copy_node":if("move_node"!==i||e.inArray(n.id,o.children)===-1){if(l=this.get_rules(o),l.max_children!==t&&l.max_children!==-1&&l.max_children===o.children.length)return this._data.core.last_error={error:"check",plugin:"types",id:"types_01",reason:"max_children prevents function: "+i,data:JSON.stringify({chk:i,pos:r,obj:!(!n||!n.id)&&n.id,par:!(!o||!o.id)&&o.id})},!1;if(l.valid_children!==t&&l.valid_children!==-1&&e.inArray(n.type||"default",l.valid_children)===-1)return this._data.core.last_error={error:"check",plugin:"types",id:"types_02",reason:"valid_children prevents function: "+i,data:JSON.stringify({chk:i,pos:r,obj:!(!n||!n.id)&&n.id,par:!(!o||!o.id)&&o.id})},!1;if(u&&n.children_d&&n.parents){for(c=0,d=0,h=n.children_d.length;d<h;d++)c=Math.max(c,u[n.children_d[d]].parents.length);c=c-n.parents.length+1}(c<=0||c===t)&&(c=1);do{if(l.max_depth!==t&&l.max_depth!==-1&&l.max_depth<c)return this._data.core.last_error={error:"check",plugin:"types",id:"types_03",reason:"max_depth prevents function: "+i,data:JSON.stringify({chk:i,pos:r,obj:!(!n||!n.id)&&n.id,par:!(!o||!o.id)&&o.id})},!1;o=this.get_node(o.parent),l=this.get_rules(o),c++}while(o)}}return!0},this.get_rules=function(e){if(!(e=this.get_node(e)))return!1;var i=this.get_type(e,!0);return i.max_depth===t&&(i.max_depth=-1),i.max_children===t&&(i.max_children=-1),i.valid_children===t&&(i.valid_children=-1),i},this.get_type=function(t,i){return!!(t=this.get_node(t))&&(i?e.extend({type:t.type},this.settings.types[t.type]):t.type)},this.set_type=function(i,s){var n,o,r,a,l,c,d,h,u=this._model.data;if(e.isArray(i)){for(i=i.slice(),o=0,r=i.length;o<r;o++)this.set_type(i[o],s);return!0}if(n=this.settings.types,i=this.get_node(i),!n[s]||!i)return!1;if(d=this.get_node(i,!0),d&&d.length&&(h=d.children(".jstree-anchor")),a=i.type,l=this.get_icon(i),i.type=s,(l===!0||!n[a]||n[a].icon!==t&&l===n[a].icon)&&this.set_icon(i,n[s].icon===t||n[s].icon),n[a]&&n[a].li_attr!==t&&"object"==typeof n[a].li_attr)for(c in n[a].li_attr)if(n[a].li_attr.hasOwnProperty(c)){if("id"===c)continue;"class"===c?(u[i.id].li_attr.class=(u[i.id].li_attr.class||"").replace(n[a].li_attr[c],""),d&&d.removeClass(n[a].li_attr[c])):u[i.id].li_attr[c]===n[a].li_attr[c]&&(u[i.id].li_attr[c]=null,d&&d.removeAttr(c))}if(n[a]&&n[a].a_attr!==t&&"object"==typeof n[a].a_attr)for(c in n[a].a_attr)if(n[a].a_attr.hasOwnProperty(c)){if("id"===c)continue;"class"===c?(u[i.id].a_attr.class=(u[i.id].a_attr.class||"").replace(n[a].a_attr[c],""),h&&h.removeClass(n[a].a_attr[c])):u[i.id].a_attr[c]===n[a].a_attr[c]&&("href"===c?(u[i.id].a_attr[c]="#",h&&h.attr("href","#")):(delete u[i.id].a_attr[c],h&&h.removeAttr(c)))}if(n[s].li_attr!==t&&"object"==typeof n[s].li_attr)for(c in n[s].li_attr)if(n[s].li_attr.hasOwnProperty(c)){if("id"===c)continue;u[i.id].li_attr[c]===t?(u[i.id].li_attr[c]=n[s].li_attr[c],d&&("class"===c?d.addClass(n[s].li_attr[c]):d.attr(c,n[s].li_attr[c]))):"class"===c&&(u[i.id].li_attr.class=n[s].li_attr[c]+" "+u[i.id].li_attr.class,d&&d.addClass(n[s].li_attr[c]))}if(n[s].a_attr!==t&&"object"==typeof n[s].a_attr)for(c in n[s].a_attr)if(n[s].a_attr.hasOwnProperty(c)){if("id"===c)continue;u[i.id].a_attr[c]===t?(u[i.id].a_attr[c]=n[s].a_attr[c],h&&("class"===c?h.addClass(n[s].a_attr[c]):h.attr(c,n[s].a_attr[c]))):"href"===c&&"#"===u[i.id].a_attr[c]?(u[i.id].a_attr.href=n[s].a_attr.href,h&&h.attr("href",n[s].a_attr.href)):"class"===c&&(u[i.id].a_attr.class=n[s].a_attr.class+" "+u[i.id].a_attr.class,h&&h.addClass(n[s].a_attr[c]))}return!0}},e.jstree.defaults.unique={case_sensitive:!1,duplicate:function(e,t){return e+" ("+t+")"}},e.jstree.plugins.unique=function(i,s){this.check=function(t,i,n,o,r){if(s.check.call(this,t,i,n,o,r)===!1)return!1;if(i=i&&i.id?i:this.get_node(i),!(n=n&&n.id?n:this.get_node(n))||!n.children)return!0;var a,l,c="rename_node"===t?o:i.text,d=[],h=this.settings.unique.case_sensitive,u=this._model.data;for(a=0,l=n.children.length;a<l;a++)d.push(h?u[n.children[a]].text:u[n.children[a]].text.toLowerCase());switch(h||(c=c.toLowerCase()),t){case"delete_node":return!0;case"rename_node":return a=e.inArray(c,d)===-1||i.text&&i.text[h?"toString":"toLowerCase"]()===c,a||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_01",reason:"Child with name "+c+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:o,obj:!(!i||!i.id)&&i.id,par:!(!n||!n.id)&&n.id})}),a;case"create_node":return a=e.inArray(c,d)===-1,a||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_04",reason:"Child with name "+c+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:o,obj:!(!i||!i.id)&&i.id,par:!(!n||!n.id)&&n.id})}),a;case"copy_node":return a=e.inArray(c,d)===-1,a||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_02",reason:"Child with name "+c+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:o,obj:!(!i||!i.id)&&i.id,par:!(!n||!n.id)&&n.id})}),a;case"move_node":return a=i.parent===n.id&&(!r||!r.is_multi)||e.inArray(c,d)===-1,a||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_03",reason:"Child with name "+c+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:o,obj:!(!i||!i.id)&&i.id,par:!(!n||!n.id)&&n.id})}),a}return!0},this.create_node=function(i,n,o,r,a){if(!n||n.text===t){if(null===i&&(i=e.jstree.root),!(i=this.get_node(i)))return s.create_node.call(this,i,n,o,r,a);if(o=o===t?"last":o,!o.toString().match(/^(before|after)$/)&&!a&&!this.is_loaded(i))return s.create_node.call(this,i,n,o,r,a);n||(n={});var l,c,d,h,u,p=this._model.data,f=this.settings.unique.case_sensitive,g=this.settings.unique.duplicate;for(c=l=this.get_string("New node"),d=[],h=0,u=i.children.length;h<u;h++)d.push(f?p[i.children[h]].text:p[i.children[h]].text.toLowerCase());for(h=1;e.inArray(f?c:c.toLowerCase(),d)!==-1;)c=g.call(this,l,++h).toString();n.text=c}return s.create_node.call(this,i,n,o,r,a)}};var p=l.createElement("DIV");if(p.setAttribute("unselectable","on"),p.setAttribute("role","presentation"),p.className="jstree-wholerow",p.innerHTML="&#160;",e.jstree.plugins.wholerow=function(t,i){this.bind=function(){i.bind.call(this),this.element.on("ready.jstree set_state.jstree",e.proxy(function(){this.hide_dots()},this)).on("init.jstree loading.jstree ready.jstree",e.proxy(function(){this.get_container_ul().addClass("jstree-wholerow-ul")},this)).on("deselect_all.jstree",e.proxy(function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked")},this)).on("changed.jstree",e.proxy(function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked");var i,s,n=!1;for(i=0,s=t.selected.length;i<s;i++)(n=this.get_node(t.selected[i],!0))&&n.length&&n.children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("open_node.jstree",e.proxy(function(e,t){this.get_node(t.node,!0).find(".jstree-clicked").parent().children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("hover_node.jstree dehover_node.jstree",e.proxy(function(e,t){"hover_node"===e.type&&this.is_disabled(t.node)||this.get_node(t.node,!0).children(".jstree-wholerow")["hover_node"===e.type?"addClass":"removeClass"]("jstree-wholerow-hovered")},this)).on("contextmenu.jstree",".jstree-wholerow",e.proxy(function(t){if(this._data.contextmenu){t.preventDefault();var i=e.Event("contextmenu",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,pageX:t.pageX,pageY:t.pageY});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(i)}},this)).on("click.jstree",".jstree-wholerow",function(t){t.stopImmediatePropagation();var i=e.Event("click",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(i).focus()}).on("dblclick.jstree",".jstree-wholerow",function(t){t.stopImmediatePropagation();var i=e.Event("dblclick",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(i).focus()}).on("click.jstree",".jstree-leaf > .jstree-ocl",e.proxy(function(t){t.stopImmediatePropagation();var i=e.Event("click",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(i).focus()},this)).on("mouseover.jstree",".jstree-wholerow, .jstree-icon",e.proxy(function(e){return e.stopImmediatePropagation(),this.is_disabled(e.currentTarget)||this.hover_node(e.currentTarget),!1},this)).on("mouseleave.jstree",".jstree-node",e.proxy(function(e){this.dehover_node(e.currentTarget)},this))},this.teardown=function(){this.settings.wholerow&&this.element.find(".jstree-wholerow").remove(),i.teardown.call(this)},this.redraw_node=function(t,s,n,o){if(t=i.redraw_node.apply(this,arguments)){var r=p.cloneNode(!0);e.inArray(t.id,this._data.core.selected)!==-1&&(r.className+=" jstree-wholerow-clicked"),this._data.core.focused&&this._data.core.focused===t.id&&(r.className+=" jstree-wholerow-hovered"),t.insertBefore(r,t.childNodes[0])}return t}},l.registerElement&&Object&&Object.create){var f=Object.create(HTMLElement.prototype);f.createdCallback=function(){var t,i={core:{},plugins:[]};for(t in e.jstree.plugins)e.jstree.plugins.hasOwnProperty(t)&&this.attributes[t]&&(i.plugins.push(t),this.getAttribute(t)&&JSON.parse(this.getAttribute(t))&&(i[t]=JSON.parse(this.getAttribute(t))));for(t in e.jstree.defaults.core)e.jstree.defaults.core.hasOwnProperty(t)&&this.attributes[t]&&(i.core[t]=JSON.parse(this.getAttribute(t))||this.getAttribute(t));e(this).jstree(i)};try{l.registerElement("vakata-jstree",{prototype:f})}catch(e){}}}});